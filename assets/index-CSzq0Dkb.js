(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Pd={exports:{}},Va={},kd={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=Symbol.for("react.element"),U1=Symbol.for("react.portal"),$1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),z1=Symbol.for("react.profiler"),H1=Symbol.for("react.provider"),G1=Symbol.for("react.context"),W1=Symbol.for("react.forward_ref"),X1=Symbol.for("react.suspense"),K1=Symbol.for("react.memo"),Y1=Symbol.for("react.lazy"),Ac=Symbol.iterator;function Z1(t){return t===null||typeof t!="object"?null:(t=Ac&&t[Ac]||t["@@iterator"],typeof t=="function"?t:null)}var Md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,Bd={};function oi(t,e,r){this.props=t,this.context=e,this.refs=Bd,this.updater=r||Md}oi.prototype.isReactComponent={};oi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fd(){}Fd.prototype=oi.prototype;function gl(t,e,r){this.props=t,this.context=e,this.refs=Bd,this.updater=r||Md}var yl=gl.prototype=new Fd;yl.constructor=gl;Ld(yl,oi.prototype);yl.isPureReactComponent=!0;var Cc=Array.isArray,jd=Object.prototype.hasOwnProperty,xl={current:null},Ud={key:!0,ref:!0,__self:!0,__source:!0};function $d(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)jd.call(e,n)&&!Ud.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:uo,type:t,key:o,ref:a,props:i,_owner:xl.current}}function q1(t,e){return{$$typeof:uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ml(t){return typeof t=="object"&&t!==null&&t.$$typeof===uo}function Q1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sc=/\/+/g;function vs(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q1(""+t.key):e.toString(36)}function Xo(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case uo:case U1:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+vs(a,0):n,Cc(i)?(r="",t!=null&&(r=t.replace(Sc,"$&/")+"/"),Xo(i,e,r,"",function(l){return l})):i!=null&&(ml(i)&&(i=q1(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Sc,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Cc(t))for(var s=0;s<t.length;s++){o=t[s];var u=n+vs(o,s);a+=Xo(o,e,r,u,i)}else if(u=Z1(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=n+vs(o,s++),a+=Xo(o,e,r,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wo(t,e,r){if(t==null)return t;var n=[],i=0;return Xo(t,n,"","",function(o){return e.call(r,o,i++)}),n}function J1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},Ko={transition:null},ep={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Ko,ReactCurrentOwner:xl};function Vd(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:wo,forEach:function(t,e,r){wo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return wo(t,function(){e++}),e},toArray:function(t){return wo(t,function(e){return e})||[]},only:function(t){if(!ml(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=oi;K.Fragment=$1;K.Profiler=z1;K.PureComponent=gl;K.StrictMode=V1;K.Suspense=X1;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep;K.act=Vd;K.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ld({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=xl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)jd.call(e,u)&&!Ud.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:uo,type:t.type,key:i,ref:o,props:n,_owner:a}};K.createContext=function(t){return t={$$typeof:G1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:H1,_context:t},t.Consumer=t};K.createElement=$d;K.createFactory=function(t){var e=$d.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:W1,render:t}};K.isValidElement=ml;K.lazy=function(t){return{$$typeof:Y1,_payload:{_status:-1,_result:t},_init:J1}};K.memo=function(t,e){return{$$typeof:K1,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Ko.transition;Ko.transition={};try{t()}finally{Ko.transition=e}};K.unstable_act=Vd;K.useCallback=function(t,e){return ut.current.useCallback(t,e)};K.useContext=function(t){return ut.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};K.useEffect=function(t,e){return ut.current.useEffect(t,e)};K.useId=function(){return ut.current.useId()};K.useImperativeHandle=function(t,e,r){return ut.current.useImperativeHandle(t,e,r)};K.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return ut.current.useMemo(t,e)};K.useReducer=function(t,e,r){return ut.current.useReducer(t,e,r)};K.useRef=function(t){return ut.current.useRef(t)};K.useState=function(t){return ut.current.useState(t)};K.useSyncExternalStore=function(t,e,r){return ut.current.useSyncExternalStore(t,e,r)};K.useTransition=function(){return ut.current.useTransition()};K.version="18.3.1";kd.exports=K;var z=kd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=z,rp=Symbol.for("react.element"),np=Symbol.for("react.fragment"),ip=Object.prototype.hasOwnProperty,op=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ap={key:!0,ref:!0,__self:!0,__source:!0};function zd(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)ip.call(e,n)&&!ap.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:rp,type:t,key:o,ref:a,props:i,_owner:op.current}}Va.Fragment=np;Va.jsx=zd;Va.jsxs=zd;Pd.exports=Va;var g=Pd.exports,Hd={exports:{}},It={},Gd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,k){var V=M.length;M.push(k);e:for(;0<V;){var ye=V-1>>>1,Ie=M[ye];if(0<i(Ie,k))M[ye]=k,M[V]=Ie,V=ye;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var k=M[0],V=M.pop();if(V!==k){M[0]=V;e:for(var ye=0,Ie=M.length,yn=Ie>>>1;ye<yn;){var qt=2*(ye+1)-1,ps=M[qt],Wr=qt+1,mo=M[Wr];if(0>i(ps,V))Wr<Ie&&0>i(mo,ps)?(M[ye]=mo,M[Wr]=V,ye=Wr):(M[ye]=ps,M[qt]=V,ye=qt);else if(Wr<Ie&&0>i(mo,V))M[ye]=mo,M[Wr]=V,ye=Wr;else break e}}return k}function i(M,k){var V=M.sortIndex-k.sortIndex;return V!==0?V:M.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(M){for(var k=r(l);k!==null;){if(k.callback===null)n(l);else if(k.startTime<=M)n(l),k.sortIndex=k.expirationTime,e(u,k);else break;k=r(l)}}function E(M){if(x=!1,m(M),!p)if(r(u)!==null)p=!0,_t(C);else{var k=r(l);k!==null&&Zt(E,k.startTime-M)}}function C(M,k){p=!1,x&&(x=!1,y(T),T=-1),h=!0;var V=d;try{for(m(k),f=r(u);f!==null&&(!(f.expirationTime>k)||M&&!P());){var ye=f.callback;if(typeof ye=="function"){f.callback=null,d=f.priorityLevel;var Ie=ye(f.expirationTime<=k);k=t.unstable_now(),typeof Ie=="function"?f.callback=Ie:f===r(u)&&n(u),m(k)}else n(u);f=r(u)}if(f!==null)var yn=!0;else{var qt=r(l);qt!==null&&Zt(E,qt.startTime-k),yn=!1}return yn}finally{f=null,d=V,h=!1}}var S=!1,A=null,T=-1,D=5,I=-1;function P(){return!(t.unstable_now()-I<D)}function L(){if(A!==null){var M=t.unstable_now();I=M;var k=!0;try{k=A(!0,M)}finally{k?j():(S=!1,A=null)}}else S=!1}var j;if(typeof v=="function")j=function(){v(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ye=oe.port2;oe.port1.onmessage=L,j=function(){Ye.postMessage(null)}}else j=function(){w(L,0)};function _t(M){A=M,S||(S=!0,j())}function Zt(M,k){T=w(function(){M(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,_t(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var V=d;d=k;try{return M()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=d;d=M;try{return k()}finally{d=V}},t.unstable_scheduleCallback=function(M,k,V){var ye=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ye+V:ye):V=ye,M){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=V+Ie,M={id:c++,callback:k,priorityLevel:M,startTime:V,expirationTime:Ie,sortIndex:-1},V>ye?(M.sortIndex=V,e(l,M),r(u)===null&&M===r(l)&&(x?(y(T),T=-1):x=!0,Zt(E,V-ye))):(M.sortIndex=Ie,e(u,M),p||h||(p=!0,_t(C))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var k=d;return function(){var V=d;d=k;try{return M.apply(this,arguments)}finally{d=V}}}})(Wd);Gd.exports=Wd;var sp=Gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=z,St=sp;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xd=new Set,Hi={};function pn(t,e){Zn(t,e),Zn(t+"Capture",e)}function Zn(t,e){for(Hi[t]=e,t=0;t<e.length;t++)Xd.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nu=Object.prototype.hasOwnProperty,lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Oc={};function cp(t){return nu.call(Oc,t)?!0:nu.call(Ic,t)?!1:lp.test(t)?Oc[t]=!0:(Ic[t]=!0,!1)}function fp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dp(t,e,r,n){if(e===null||typeof e>"u"||fp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wl=/[\-:]([a-z])/g;function _l(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wl,_l);Ke[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wl,_l);Ke[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wl,_l);Ke[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function El(t,e,r,n){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dp(e,r,i,n)&&(r=null),n||i===null?cp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gr=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_o=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),Al=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Cl=Symbol.for("react.forward_ref"),ou=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Zd=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function di(t){return t===null||typeof t!="object"?null:(t=Tc&&t[Tc]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,gs;function Ci(t){if(gs===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gs=e&&e[1]||""}return`
`+gs+t}var ys=!1;function xs(t,e){if(!t||ys)return"";ys=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{ys=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ci(t):""}function hp(t){switch(t.tag){case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return t=xs(t.type,!1),t;case 11:return t=xs(t.type.render,!1),t;case 1:return t=xs(t.type,!0),t;default:return""}}function su(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case In:return"Fragment";case Sn:return"Portal";case iu:return"Profiler";case Al:return"StrictMode";case ou:return"Suspense";case au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yd:return(t.displayName||"Context")+".Consumer";case Kd:return(t._context.displayName||"Context")+".Provider";case Cl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sl:return e=t.displayName||null,e!==null?e:su(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return su(t(e))}catch{}}return null}function pp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return su(e);case 8:return e===Al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vp(t){var e=qd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eo(t){t._valueTracker||(t._valueTracker=vp(t))}function Qd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uu(t,e){var r=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ur(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jd(t,e){e=e.checked,e!=null&&El(t,"checked",e,!1)}function lu(t,e){Jd(t,e);var r=Ur(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cu(t,e.type,r):e.hasOwnProperty("defaultValue")&&cu(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function cu(t,e,r){(e!=="number"||ua(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Si=Array.isArray;function Vn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ur(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(Si(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ur(r)}}function e0(t,e){var r=Ur(e.value),n=Ur(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Rc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function t0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?t0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ao,r0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gp=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(t){gp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ri[e]=Ri[t]})});function n0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ri.hasOwnProperty(t)&&Ri[t]?(""+e).trim():e+"px"}function i0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=n0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var yp=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hu(t,e){if(e){if(yp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function pu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=null;function Il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gu=null,zn=null,Hn=null;function Pc(t){if(t=fo(t)){if(typeof gu!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Xa(e),gu(t.stateNode,t.type,e))}}function o0(t){zn?Hn?Hn.push(t):Hn=[t]:zn=t}function a0(){if(zn){var t=zn,e=Hn;if(Hn=zn=null,Pc(t),e)for(t=0;t<e.length;t++)Pc(e[t])}}function s0(t,e){return t(e)}function u0(){}var ms=!1;function l0(t,e,r){if(ms)return t(e,r);ms=!0;try{return s0(t,e,r)}finally{ms=!1,(zn!==null||Hn!==null)&&(u0(),a0())}}function Wi(t,e){var r=t.stateNode;if(r===null)return null;var n=Xa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var yu=!1;if(dr)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){yu=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{yu=!1}function xp(t,e,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Pi=!1,la=null,ca=!1,xu=null,mp={onError:function(t){Pi=!0,la=t}};function wp(t,e,r,n,i,o,a,s,u){Pi=!1,la=null,xp.apply(mp,arguments)}function _p(t,e,r,n,i,o,a,s,u){if(wp.apply(this,arguments),Pi){if(Pi){var l=la;Pi=!1,la=null}else throw Error(N(198));ca||(ca=!0,xu=l)}}function vn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function c0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kc(t){if(vn(t)!==t)throw Error(N(188))}function Ep(t){var e=t.alternate;if(!e){if(e=vn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return kc(i),t;if(o===n)return kc(i),e;o=o.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function f0(t){return t=Ep(t),t!==null?d0(t):null}function d0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d0(t);if(e!==null)return e;t=t.sibling}return null}var h0=St.unstable_scheduleCallback,Mc=St.unstable_cancelCallback,Ap=St.unstable_shouldYield,Cp=St.unstable_requestPaint,Se=St.unstable_now,Sp=St.unstable_getCurrentPriorityLevel,Ol=St.unstable_ImmediatePriority,p0=St.unstable_UserBlockingPriority,fa=St.unstable_NormalPriority,Ip=St.unstable_LowPriority,v0=St.unstable_IdlePriority,za=null,rr=null;function Op(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(za,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Np,Tp=Math.log,bp=Math.LN2;function Np(t){return t>>>=0,t===0?32:31-(Tp(t)/bp|0)|0}var Co=64,So=4194304;function Ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function da(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=Ii(s):(o&=a,o!==0&&(n=Ii(o)))}else a=r&~i,a!==0?n=Ii(a):o!==0&&(n=Ii(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xt(e),i=1<<r,n|=t[r],e&=~i;return n}function Dp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Xt(o),s=1<<a,u=i[a];u===-1?(!(s&r)||s&n)&&(i[a]=Dp(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g0(){var t=Co;return Co<<=1,!(Co&4194240)&&(Co=64),t}function ws(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function lo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=r}function Pp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Xt(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Tl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ie=0;function y0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x0,bl,m0,w0,_0,wu=!1,Io=[],Nr=null,Dr=null,Rr=null,Xi=new Map,Ki=new Map,Sr=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(e.pointerId)}}function pi(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fo(e),e!==null&&bl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mp(t,e,r,n,i){switch(e){case"focusin":return Nr=pi(Nr,t,e,r,n,i),!0;case"dragenter":return Dr=pi(Dr,t,e,r,n,i),!0;case"mouseover":return Rr=pi(Rr,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Xi.set(o,pi(Xi.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ki.set(o,pi(Ki.get(o)||null,t,e,r,n,i)),!0}return!1}function E0(t){var e=tn(t.target);if(e!==null){var r=vn(e);if(r!==null){if(e=r.tag,e===13){if(e=c0(r),e!==null){t.blockedOn=e,_0(t.priority,function(){m0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_u(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vu=n,r.target.dispatchEvent(n),vu=null}else return e=fo(r),e!==null&&bl(e),t.blockedOn=r,!1;e.shift()}return!0}function Bc(t,e,r){Yo(t)&&r.delete(e)}function Lp(){wu=!1,Nr!==null&&Yo(Nr)&&(Nr=null),Dr!==null&&Yo(Dr)&&(Dr=null),Rr!==null&&Yo(Rr)&&(Rr=null),Xi.forEach(Bc),Ki.forEach(Bc)}function vi(t,e){t.blockedOn===e&&(t.blockedOn=null,wu||(wu=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Lp)))}function Yi(t){function e(i){return vi(i,t)}if(0<Io.length){vi(Io[0],t);for(var r=1;r<Io.length;r++){var n=Io[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nr!==null&&vi(Nr,t),Dr!==null&&vi(Dr,t),Rr!==null&&vi(Rr,t),Xi.forEach(e),Ki.forEach(e),r=0;r<Sr.length;r++)n=Sr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)E0(r),r.blockedOn===null&&Sr.shift()}var Gn=gr.ReactCurrentBatchConfig,ha=!0;function Bp(t,e,r,n){var i=ie,o=Gn.transition;Gn.transition=null;try{ie=1,Nl(t,e,r,n)}finally{ie=i,Gn.transition=o}}function Fp(t,e,r,n){var i=ie,o=Gn.transition;Gn.transition=null;try{ie=4,Nl(t,e,r,n)}finally{ie=i,Gn.transition=o}}function Nl(t,e,r,n){if(ha){var i=_u(t,e,r,n);if(i===null)Ns(t,e,n,pa,r),Lc(t,n);else if(Mp(i,t,e,r,n))n.stopPropagation();else if(Lc(t,n),e&4&&-1<kp.indexOf(t)){for(;i!==null;){var o=fo(i);if(o!==null&&x0(o),o=_u(t,e,r,n),o===null&&Ns(t,e,n,pa,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Ns(t,e,n,null,r)}}var pa=null;function _u(t,e,r,n){if(pa=null,t=Il(n),t=tn(t),t!==null)if(e=vn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=c0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pa=t,null}function A0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case Ol:return 1;case p0:return 4;case fa:case Ip:return 16;case v0:return 536870912;default:return 16}default:return 16}}var Tr=null,Dl=null,Zo=null;function C0(){if(Zo)return Zo;var t,e=Dl,r=e.length,n,i="value"in Tr?Tr.value:Tr.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Zo=i.slice(t,1<n?1-n:void 0)}function qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function Fc(){return!1}function Ot(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oo:Fc,this.isPropagationStopped=Fc,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),e}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Ot(ai),co=Ee({},ai,{view:0,detail:0}),jp=Ot(co),_s,Es,gi,Ha=Ee({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(_s=t.screenX-gi.screenX,Es=t.screenY-gi.screenY):Es=_s=0,gi=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),jc=Ot(Ha),Up=Ee({},Ha,{dataTransfer:0}),$p=Ot(Up),Vp=Ee({},co,{relatedTarget:0}),As=Ot(Vp),zp=Ee({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=Ot(zp),Gp=Ee({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wp=Ot(Gp),Xp=Ee({},ai,{data:0}),Uc=Ot(Xp),Kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zp[t])?!!e[t]:!1}function Pl(){return qp}var Qp=Ee({},co,{key:function(t){if(t.key){var e=Kp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(t){return t.type==="keypress"?qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jp=Ot(Qp),ev=Ee({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=Ot(ev),tv=Ee({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),rv=Ot(tv),nv=Ee({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=Ot(nv),ov=Ee({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),av=Ot(ov),sv=[9,13,27,32],kl=dr&&"CompositionEvent"in window,ki=null;dr&&"documentMode"in document&&(ki=document.documentMode);var uv=dr&&"TextEvent"in window&&!ki,S0=dr&&(!kl||ki&&8<ki&&11>=ki),Vc=" ",zc=!1;function I0(t,e){switch(t){case"keyup":return sv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var On=!1;function lv(t,e){switch(t){case"compositionend":return O0(e);case"keypress":return e.which!==32?null:(zc=!0,Vc);case"textInput":return t=e.data,t===Vc&&zc?null:t;default:return null}}function cv(t,e){if(On)return t==="compositionend"||!kl&&I0(t,e)?(t=C0(),Zo=Dl=Tr=null,On=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S0&&e.locale!=="ko"?null:e.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fv[t.type]:e==="textarea"}function T0(t,e,r,n){o0(n),e=va(e,"onChange"),0<e.length&&(r=new Rl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mi=null,Zi=null;function dv(t){j0(t,0)}function Ga(t){var e=Nn(t);if(Qd(e))return t}function hv(t,e){if(t==="change")return e}var b0=!1;if(dr){var Cs;if(dr){var Ss="oninput"in document;if(!Ss){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Ss=typeof Gc.oninput=="function"}Cs=Ss}else Cs=!1;b0=Cs&&(!document.documentMode||9<document.documentMode)}function Wc(){Mi&&(Mi.detachEvent("onpropertychange",N0),Zi=Mi=null)}function N0(t){if(t.propertyName==="value"&&Ga(Zi)){var e=[];T0(e,Zi,t,Il(t)),l0(dv,e)}}function pv(t,e,r){t==="focusin"?(Wc(),Mi=e,Zi=r,Mi.attachEvent("onpropertychange",N0)):t==="focusout"&&Wc()}function vv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(Zi)}function gv(t,e){if(t==="click")return Ga(e)}function yv(t,e){if(t==="input"||t==="change")return Ga(e)}function xv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:xv;function qi(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!nu.call(e,i)||!Yt(t[i],e[i]))return!1}return!0}function Xc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kc(t,e){var r=Xc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xc(r)}}function D0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R0(){for(var t=window,e=ua();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ua(t.document)}return e}function Ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mv(t){var e=R0(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&D0(r.ownerDocument.documentElement,r)){if(n!==null&&Ml(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Kc(r,o);var a=Kc(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wv=dr&&"documentMode"in document&&11>=document.documentMode,Tn=null,Eu=null,Li=null,Au=!1;function Yc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Au||Tn==null||Tn!==ua(n)||(n=Tn,"selectionStart"in n&&Ml(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Li&&qi(Li,n)||(Li=n,n=va(Eu,"onSelect"),0<n.length&&(e=new Rl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Tn)))}function To(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var bn={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionend:To("Transition","TransitionEnd")},Is={},P0={};dr&&(P0=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function Wa(t){if(Is[t])return Is[t];if(!bn[t])return t;var e=bn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in P0)return Is[t]=e[r];return t}var k0=Wa("animationend"),M0=Wa("animationiteration"),L0=Wa("animationstart"),B0=Wa("transitionend"),F0=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){F0.set(t,e),pn(e,[t])}for(var Os=0;Os<Zc.length;Os++){var Ts=Zc[Os],_v=Ts.toLowerCase(),Ev=Ts[0].toUpperCase()+Ts.slice(1);Vr(_v,"on"+Ev)}Vr(k0,"onAnimationEnd");Vr(M0,"onAnimationIteration");Vr(L0,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(B0,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function qc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_p(n,e,void 0,t),t.currentTarget=null}function j0(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;qc(i,s,l),o=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;qc(i,s,l),o=u}}}if(ca)throw t=xu,ca=!1,xu=null,t}function fe(t,e){var r=e[Tu];r===void 0&&(r=e[Tu]=new Set);var n=t+"__bubble";r.has(n)||(U0(e,t,2,!1),r.add(n))}function bs(t,e,r){var n=0;e&&(n|=4),U0(r,t,n,e)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Qi(t){if(!t[bo]){t[bo]=!0,Xd.forEach(function(r){r!=="selectionchange"&&(Av.has(r)||bs(r,!1,t),bs(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bo]||(e[bo]=!0,bs("selectionchange",!1,e))}}function U0(t,e,r,n){switch(A0(e)){case 1:var i=Bp;break;case 4:i=Fp;break;default:i=Nl}r=i.bind(null,e,r,t),i=void 0,!yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ns(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=tn(s),a===null)return;if(u=a.tag,u===5||u===6){n=o=a;continue e}s=s.parentNode}}n=n.return}l0(function(){var l=o,c=Il(r),f=[];e:{var d=F0.get(t);if(d!==void 0){var h=Rl,p=t;switch(t){case"keypress":if(qo(r)===0)break e;case"keydown":case"keyup":h=Jp;break;case"focusin":p="focus",h=As;break;case"focusout":p="blur",h=As;break;case"beforeblur":case"afterblur":h=As;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rv;break;case k0:case M0:case L0:h=Hp;break;case B0:h=iv;break;case"scroll":h=jp;break;case"wheel":h=av;break;case"copy":case"cut":case"paste":h=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$c}var x=(e&4)!==0,w=!x&&t==="scroll",y=x?d!==null?d+"Capture":null:d;x=[];for(var v=l,m;v!==null;){m=v;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,y!==null&&(E=Wi(v,y),E!=null&&x.push(Ji(v,E,m)))),w)break;v=v.return}0<x.length&&(d=new h(d,p,null,r,c),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==vu&&(p=r.relatedTarget||r.fromElement)&&(tn(p)||p[hr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=l,p=p?tn(p):null,p!==null&&(w=vn(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(x=jc,E="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=$c,E="onPointerLeave",y="onPointerEnter",v="pointer"),w=h==null?d:Nn(h),m=p==null?d:Nn(p),d=new x(E,v+"leave",h,r,c),d.target=w,d.relatedTarget=m,E=null,tn(c)===l&&(x=new x(y,v+"enter",p,r,c),x.target=m,x.relatedTarget=w,E=x),w=E,h&&p)t:{for(x=h,y=p,v=0,m=x;m;m=xn(m))v++;for(m=0,E=y;E;E=xn(E))m++;for(;0<v-m;)x=xn(x),v--;for(;0<m-v;)y=xn(y),m--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=xn(x),y=xn(y)}x=null}else x=null;h!==null&&Qc(f,d,h,x,!1),p!==null&&w!==null&&Qc(f,w,p,x,!0)}}e:{if(d=l?Nn(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=hv;else if(Hc(d))if(b0)C=yv;else{C=vv;var S=pv}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=gv);if(C&&(C=C(t,l))){T0(f,C,r,c);break e}S&&S(t,d,l),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&cu(d,"number",d.value)}switch(S=l?Nn(l):window,t){case"focusin":(Hc(S)||S.contentEditable==="true")&&(Tn=S,Eu=l,Li=null);break;case"focusout":Li=Eu=Tn=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Yc(f,r,c);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":Yc(f,r,c)}var A;if(kl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else On?I0(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(S0&&r.locale!=="ko"&&(On||T!=="onCompositionStart"?T==="onCompositionEnd"&&On&&(A=C0()):(Tr=c,Dl="value"in Tr?Tr.value:Tr.textContent,On=!0)),S=va(l,T),0<S.length&&(T=new Uc(T,t,null,r,c),f.push({event:T,listeners:S}),A?T.data=A:(A=O0(r),A!==null&&(T.data=A)))),(A=uv?lv(t,r):cv(t,r))&&(l=va(l,"onBeforeInput"),0<l.length&&(c=new Uc("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=A))}j0(f,e)})}function Ji(t,e,r){return{instance:t,listener:e,currentTarget:r}}function va(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wi(t,r),o!=null&&n.unshift(Ji(t,o,i)),o=Wi(t,e),o!=null&&n.push(Ji(t,o,i))),t=t.return}return n}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qc(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=Wi(r,o),u!=null&&a.unshift(Ji(r,u,s))):i||(u=Wi(r,o),u!=null&&a.push(Ji(r,u,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Cv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function Jc(t){return(typeof t=="string"?t:""+t).replace(Cv,`
`).replace(Sv,"")}function No(t,e,r){if(e=Jc(e),Jc(t)!==e&&r)throw Error(N(425))}function ga(){}var Cu=null,Su=null;function Iu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,Iv=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(t){return ef.resolve(null).then(t).catch(Tv)}:Ou;function Tv(t){setTimeout(function(){throw t})}function Ds(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Yi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Yi(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var si=Math.random().toString(36).slice(2),er="__reactFiber$"+si,eo="__reactProps$"+si,hr="__reactContainer$"+si,Tu="__reactEvents$"+si,bv="__reactListeners$"+si,Nv="__reactHandles$"+si;function tn(t){var e=t[er];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hr]||r[er]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tf(t);t!==null;){if(r=t[er])return r;t=tf(t)}return e}t=r,r=t.parentNode}return null}function fo(t){return t=t[er]||t[hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Xa(t){return t[eo]||null}var bu=[],Dn=-1;function zr(t){return{current:t}}function pe(t){0>Dn||(t.current=bu[Dn],bu[Dn]=null,Dn--)}function ue(t,e){Dn++,bu[Dn]=t.current,t.current=e}var $r={},et=zr($r),yt=zr(!1),ln=$r;function qn(t,e){var r=t.type.contextTypes;if(!r)return $r;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function ya(){pe(yt),pe(et)}function rf(t,e,r){if(et.current!==$r)throw Error(N(168));ue(et,e),ue(yt,r)}function $0(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(N(108,pp(t)||"Unknown",i));return Ee({},r,n)}function xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$r,ln=et.current,ue(et,t),ue(yt,yt.current),!0}function nf(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=$0(t,e,ln),n.__reactInternalMemoizedMergedChildContext=t,pe(yt),pe(et),ue(et,t)):pe(yt),ue(yt,r)}var ur=null,Ka=!1,Rs=!1;function V0(t){ur===null?ur=[t]:ur.push(t)}function Dv(t){Ka=!0,V0(t)}function Hr(){if(!Rs&&ur!==null){Rs=!0;var t=0,e=ie;try{var r=ur;for(ie=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ur=null,Ka=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),h0(Ol,Hr),i}finally{ie=e,Rs=!1}}return null}var Rn=[],Pn=0,ma=null,wa=0,bt=[],Nt=0,cn=null,lr=1,cr="";function Zr(t,e){Rn[Pn++]=wa,Rn[Pn++]=ma,ma=t,wa=e}function z0(t,e,r){bt[Nt++]=lr,bt[Nt++]=cr,bt[Nt++]=cn,cn=t;var n=lr;t=cr;var i=32-Xt(n)-1;n&=~(1<<i),r+=1;var o=32-Xt(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,lr=1<<32-Xt(e)+i|r<<i|n,cr=o+t}else lr=1<<o|r<<i|n,cr=t}function Ll(t){t.return!==null&&(Zr(t,1),z0(t,1,0))}function Bl(t){for(;t===ma;)ma=Rn[--Pn],Rn[Pn]=null,wa=Rn[--Pn],Rn[Pn]=null;for(;t===cn;)cn=bt[--Nt],bt[Nt]=null,cr=bt[--Nt],bt[Nt]=null,lr=bt[--Nt],bt[Nt]=null}var Ct=null,At=null,ge=!1,Ht=null;function H0(t,e){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function of(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,At=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cn!==null?{id:lr,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ct=t,At=null,!0):!1;default:return!1}}function Nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Du(t){if(ge){var e=At;if(e){var r=e;if(!of(t,e)){if(Nu(t))throw Error(N(418));e=Pr(r.nextSibling);var n=Ct;e&&of(t,e)?H0(n,r):(t.flags=t.flags&-4097|2,ge=!1,Ct=t)}}else{if(Nu(t))throw Error(N(418));t.flags=t.flags&-4097|2,ge=!1,Ct=t}}}function af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function Do(t){if(t!==Ct)return!1;if(!ge)return af(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iu(t.type,t.memoizedProps)),e&&(e=At)){if(Nu(t))throw G0(),Error(N(418));for(;e;)H0(t,e),e=Pr(e.nextSibling)}if(af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){At=Pr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}At=null}}else At=Ct?Pr(t.stateNode.nextSibling):null;return!0}function G0(){for(var t=At;t;)t=Pr(t.nextSibling)}function Qn(){At=Ct=null,ge=!1}function Fl(t){Ht===null?Ht=[t]:Ht.push(t)}var Rv=gr.ReactCurrentBatchConfig;function yi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function Ro(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sf(t){var e=t._init;return e(t._payload)}function W0(t){function e(y,v){if(t){var m=y.deletions;m===null?(y.deletions=[v],y.flags|=16):m.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Br(y,v),y.index=0,y.sibling=null,y}function o(y,v,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<v?(y.flags|=2,v):m):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,v,m,E){return v===null||v.tag!==6?(v=js(m,y.mode,E),v.return=y,v):(v=i(v,m),v.return=y,v)}function u(y,v,m,E){var C=m.type;return C===In?c(y,v,m.props.children,E,m.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_r&&sf(C)===v.type)?(E=i(v,m.props),E.ref=yi(y,v,m),E.return=y,E):(E=ia(m.type,m.key,m.props,null,y.mode,E),E.ref=yi(y,v,m),E.return=y,E)}function l(y,v,m,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=Us(m,y.mode,E),v.return=y,v):(v=i(v,m.children||[]),v.return=y,v)}function c(y,v,m,E,C){return v===null||v.tag!==7?(v=sn(m,y.mode,E,C),v.return=y,v):(v=i(v,m),v.return=y,v)}function f(y,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=js(""+v,y.mode,m),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _o:return m=ia(v.type,v.key,v.props,null,y.mode,m),m.ref=yi(y,null,v),m.return=y,m;case Sn:return v=Us(v,y.mode,m),v.return=y,v;case _r:var E=v._init;return f(y,E(v._payload),m)}if(Si(v)||di(v))return v=sn(v,y.mode,m,null),v.return=y,v;Ro(y,v)}return null}function d(y,v,m,E){var C=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:s(y,v,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _o:return m.key===C?u(y,v,m,E):null;case Sn:return m.key===C?l(y,v,m,E):null;case _r:return C=m._init,d(y,v,C(m._payload),E)}if(Si(m)||di(m))return C!==null?null:c(y,v,m,E,null);Ro(y,m)}return null}function h(y,v,m,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(m)||null,s(v,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _o:return y=y.get(E.key===null?m:E.key)||null,u(v,y,E,C);case Sn:return y=y.get(E.key===null?m:E.key)||null,l(v,y,E,C);case _r:var S=E._init;return h(y,v,m,S(E._payload),C)}if(Si(E)||di(E))return y=y.get(m)||null,c(v,y,E,C,null);Ro(v,E)}return null}function p(y,v,m,E){for(var C=null,S=null,A=v,T=v=0,D=null;A!==null&&T<m.length;T++){A.index>T?(D=A,A=null):D=A.sibling;var I=d(y,A,m[T],E);if(I===null){A===null&&(A=D);break}t&&A&&I.alternate===null&&e(y,A),v=o(I,v,T),S===null?C=I:S.sibling=I,S=I,A=D}if(T===m.length)return r(y,A),ge&&Zr(y,T),C;if(A===null){for(;T<m.length;T++)A=f(y,m[T],E),A!==null&&(v=o(A,v,T),S===null?C=A:S.sibling=A,S=A);return ge&&Zr(y,T),C}for(A=n(y,A);T<m.length;T++)D=h(A,y,T,m[T],E),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?T:D.key),v=o(D,v,T),S===null?C=D:S.sibling=D,S=D);return t&&A.forEach(function(P){return e(y,P)}),ge&&Zr(y,T),C}function x(y,v,m,E){var C=di(m);if(typeof C!="function")throw Error(N(150));if(m=C.call(m),m==null)throw Error(N(151));for(var S=C=null,A=v,T=v=0,D=null,I=m.next();A!==null&&!I.done;T++,I=m.next()){A.index>T?(D=A,A=null):D=A.sibling;var P=d(y,A,I.value,E);if(P===null){A===null&&(A=D);break}t&&A&&P.alternate===null&&e(y,A),v=o(P,v,T),S===null?C=P:S.sibling=P,S=P,A=D}if(I.done)return r(y,A),ge&&Zr(y,T),C;if(A===null){for(;!I.done;T++,I=m.next())I=f(y,I.value,E),I!==null&&(v=o(I,v,T),S===null?C=I:S.sibling=I,S=I);return ge&&Zr(y,T),C}for(A=n(y,A);!I.done;T++,I=m.next())I=h(A,y,T,I.value,E),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),v=o(I,v,T),S===null?C=I:S.sibling=I,S=I);return t&&A.forEach(function(L){return e(y,L)}),ge&&Zr(y,T),C}function w(y,v,m,E){if(typeof m=="object"&&m!==null&&m.type===In&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case _o:e:{for(var C=m.key,S=v;S!==null;){if(S.key===C){if(C=m.type,C===In){if(S.tag===7){r(y,S.sibling),v=i(S,m.props.children),v.return=y,y=v;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_r&&sf(C)===S.type){r(y,S.sibling),v=i(S,m.props),v.ref=yi(y,S,m),v.return=y,y=v;break e}r(y,S);break}else e(y,S);S=S.sibling}m.type===In?(v=sn(m.props.children,y.mode,E,m.key),v.return=y,y=v):(E=ia(m.type,m.key,m.props,null,y.mode,E),E.ref=yi(y,v,m),E.return=y,y=E)}return a(y);case Sn:e:{for(S=m.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){r(y,v.sibling),v=i(v,m.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=Us(m,y.mode,E),v.return=y,y=v}return a(y);case _r:return S=m._init,w(y,v,S(m._payload),E)}if(Si(m))return p(y,v,m,E);if(di(m))return x(y,v,m,E);Ro(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,m),v.return=y,y=v):(r(y,v),v=js(m,y.mode,E),v.return=y,y=v),a(y)):r(y,v)}return w}var Jn=W0(!0),X0=W0(!1),_a=zr(null),Ea=null,kn=null,jl=null;function Ul(){jl=kn=Ea=null}function $l(t){var e=_a.current;pe(_a),t._currentValue=e}function Ru(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Wn(t,e){Ea=t,jl=kn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(jl!==t)if(t={context:t,memoizedValue:e,next:null},kn===null){if(Ea===null)throw Error(N(308));kn=t,Ea.dependencies={lanes:0,firstContext:t}}else kn=kn.next=t;return e}var rn=null;function Vl(t){rn===null?rn=[t]:rn.push(t)}function K0(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Vl(e)):(r.next=i.next,i.next=r),e.interleaved=r,pr(t,n)}function pr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Er=!1;function zl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,pr(t,r)}return i=n.interleaved,i===null?(e.next=e,Vl(n)):(e.next=i.next,i.next=e),n.interleaved=e,pr(t,r)}function Qo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}function uf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Aa(t,e,r,n){var i=t.updateQueue;Er=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,c=l=u=null,s=o;do{var d=s.lane,h=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,x=s;switch(d=e,h=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Ee({},f,d);break e;case 2:Er=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);dn|=a,t.lanes=a,t.memoizedState=f}}function lf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var ho={},nr=zr(ho),to=zr(ho),ro=zr(ho);function nn(t){if(t===ho)throw Error(N(174));return t}function Hl(t,e){switch(ue(ro,e),ue(to,t),ue(nr,ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=du(e,t)}pe(nr),ue(nr,e)}function ei(){pe(nr),pe(to),pe(ro)}function Z0(t){nn(ro.current);var e=nn(nr.current),r=du(e,t.type);e!==r&&(ue(to,t),ue(nr,r))}function Gl(t){to.current===t&&(pe(nr),pe(to))}var we=zr(0);function Ca(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ps=[];function Wl(){for(var t=0;t<Ps.length;t++)Ps[t]._workInProgressVersionPrimary=null;Ps.length=0}var Jo=gr.ReactCurrentDispatcher,ks=gr.ReactCurrentBatchConfig,fn=0,_e=null,De=null,Ue=null,Sa=!1,Bi=!1,no=0,Pv=0;function Ze(){throw Error(N(321))}function Xl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yt(t[r],e[r]))return!1;return!0}function Kl(t,e,r,n,i,o){if(fn=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jo.current=t===null||t.memoizedState===null?Bv:Fv,t=r(n,i),Bi){o=0;do{if(Bi=!1,no=0,25<=o)throw Error(N(301));o+=1,Ue=De=null,e.updateQueue=null,Jo.current=jv,t=r(n,i)}while(Bi)}if(Jo.current=Ia,e=De!==null&&De.next!==null,fn=0,Ue=De=_e=null,Sa=!1,e)throw Error(N(300));return t}function Yl(){var t=no!==0;return no=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?_e.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Bt(){if(De===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Ue===null?_e.memoizedState:Ue.next;if(e!==null)Ue=e,De=t;else{if(t===null)throw Error(N(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ue===null?_e.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function io(t,e){return typeof e=="function"?e(t):e}function Ms(t){var e=Bt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=De,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((fn&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=n):u=u.next=f,_e.lanes|=c,dn|=c}l=l.next}while(l!==null&&l!==o);u===null?a=n:u.next=s,Yt(n,e.memoizedState)||(gt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,_e.lanes|=o,dn|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ls(t){var e=Bt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Yt(o,e.memoizedState)||(gt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function q0(){}function Q0(t,e){var r=_e,n=Bt(),i=e(),o=!Yt(n.memoizedState,i);if(o&&(n.memoizedState=i,gt=!0),n=n.queue,Zl(th.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,oo(9,eh.bind(null,r,n,i,e),void 0,null),Ve===null)throw Error(N(349));fn&30||J0(r,e,i)}return i}function J0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function eh(t,e,r,n){e.value=r,e.getSnapshot=n,rh(e)&&nh(t)}function th(t,e,r){return r(function(){rh(e)&&nh(t)})}function rh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yt(t,r)}catch{return!0}}function nh(t){var e=pr(t,1);e!==null&&Kt(e,t,1,-1)}function cf(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},e.queue=t,t=t.dispatch=Lv.bind(null,_e,t),[e.memoizedState,t]}function oo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ih(){return Bt().memoizedState}function ea(t,e,r,n){var i=Jt();_e.flags|=t,i.memoizedState=oo(1|e,r,void 0,n===void 0?null:n)}function Ya(t,e,r,n){var i=Bt();n=n===void 0?null:n;var o=void 0;if(De!==null){var a=De.memoizedState;if(o=a.destroy,n!==null&&Xl(n,a.deps)){i.memoizedState=oo(e,r,o,n);return}}_e.flags|=t,i.memoizedState=oo(1|e,r,o,n)}function ff(t,e){return ea(8390656,8,t,e)}function Zl(t,e){return Ya(2048,8,t,e)}function oh(t,e){return Ya(4,2,t,e)}function ah(t,e){return Ya(4,4,t,e)}function sh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uh(t,e,r){return r=r!=null?r.concat([t]):null,Ya(4,4,sh.bind(null,e,t),r)}function ql(){}function lh(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ch(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function fh(t,e,r){return fn&21?(Yt(r,e)||(r=g0(),_e.lanes|=r,dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=r)}function kv(t,e){var r=ie;ie=r!==0&&4>r?r:4,t(!0);var n=ks.transition;ks.transition={};try{t(!1),e()}finally{ie=r,ks.transition=n}}function dh(){return Bt().memoizedState}function Mv(t,e,r){var n=Lr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hh(t))ph(e,r);else if(r=K0(t,e,r,n),r!==null){var i=st();Kt(r,t,n,i),vh(r,e,n)}}function Lv(t,e,r){var n=Lr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hh(t))ph(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,Yt(s,a)){var u=e.interleaved;u===null?(i.next=i,Vl(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=K0(t,e,i,n),r!==null&&(i=st(),Kt(r,t,n,i),vh(r,e,n))}}function hh(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function ph(t,e){Bi=Sa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}var Ia={readContext:Lt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Bv={readContext:Lt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:ff,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ea(4194308,4,sh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ea(4194308,4,t,e)},useInsertionEffect:function(t,e){return ea(4,2,t,e)},useMemo:function(t,e){var r=Jt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Mv.bind(null,_e,t),[n.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:cf,useDebugValue:ql,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=cf(!1),e=t[0];return t=kv.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_e,i=Jt();if(ge){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),Ve===null)throw Error(N(349));fn&30||J0(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,ff(th.bind(null,n,o,t),[t]),n.flags|=2048,oo(9,eh.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Jt(),e=Ve.identifierPrefix;if(ge){var r=cr,n=lr;r=(n&~(1<<32-Xt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=no++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Pv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fv={readContext:Lt,useCallback:lh,useContext:Lt,useEffect:Zl,useImperativeHandle:uh,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:ch,useReducer:Ms,useRef:ih,useState:function(){return Ms(io)},useDebugValue:ql,useDeferredValue:function(t){var e=Bt();return fh(e,De.memoizedState,t)},useTransition:function(){var t=Ms(io)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:q0,useSyncExternalStore:Q0,useId:dh,unstable_isNewReconciler:!1},jv={readContext:Lt,useCallback:lh,useContext:Lt,useEffect:Zl,useImperativeHandle:uh,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:ch,useReducer:Ls,useRef:ih,useState:function(){return Ls(io)},useDebugValue:ql,useDeferredValue:function(t){var e=Bt();return De===null?e.memoizedState=t:fh(e,De.memoizedState,t)},useTransition:function(){var t=Ls(io)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:q0,useSyncExternalStore:Q0,useId:dh,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Pu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Za={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=st(),i=Lr(t),o=fr(n,i);o.payload=e,r!=null&&(o.callback=r),e=kr(t,o,i),e!==null&&(Kt(e,t,i,n),Qo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=st(),i=Lr(t),o=fr(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=kr(t,o,i),e!==null&&(Kt(e,t,i,n),Qo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=st(),n=Lr(t),i=fr(r,n);i.tag=2,e!=null&&(i.callback=e),e=kr(t,i,n),e!==null&&(Kt(e,t,n,r),Qo(e,t,n))}};function df(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!qi(r,n)||!qi(i,o):!0}function gh(t,e,r){var n=!1,i=$r,o=e.contextType;return typeof o=="object"&&o!==null?o=Lt(o):(i=xt(e)?ln:et.current,n=e.contextTypes,o=(n=n!=null)?qn(t,i):$r),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Za,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function hf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Za.enqueueReplaceState(e,e.state,null)}function ku(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},zl(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Lt(o):(o=xt(e)?ln:et.current,i.context=qn(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pu(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Za.enqueueReplaceState(i,i.state,null),Aa(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ti(t,e){try{var r="",n=e;do r+=hp(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Bs(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Mu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function yh(t,e,r){r=fr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ta||(Ta=!0,Gu=n),Mu(t,e)},r}function xh(t,e,r){r=fr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Mu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Mu(t,e),typeof n!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function pf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Uv;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=eg.bind(null,t,e,r),e.then(t,t))}function vf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gf(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fr(-1,1),e.tag=2,kr(r,e,1))),r.lanes|=1),t)}var $v=gr.ReactCurrentOwner,gt=!1;function at(t,e,r,n){e.child=t===null?X0(e,null,r,n):Jn(e,t.child,r,n)}function yf(t,e,r,n,i){r=r.render;var o=e.ref;return Wn(e,i),n=Kl(t,e,r,n,o,i),r=Yl(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(ge&&r&&Ll(e),e.flags|=1,at(t,e,n,i),e.child)}function xf(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!oc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,mh(t,e,o,n,i)):(t=ia(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:qi,r(a,n)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=Br(o,n),t.ref=e.ref,t.return=e,e.child=t}function mh(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(qi(o,n)&&t.ref===e.ref)if(gt=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,vr(t,e,i)}return Lu(t,e,r,n,i)}function wh(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Ln,Et),Et|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Ln,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ue(Ln,Et),Et|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ue(Ln,Et),Et|=n;return at(t,e,i,r),e.child}function _h(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Lu(t,e,r,n,i){var o=xt(r)?ln:et.current;return o=qn(e,o),Wn(e,i),r=Kl(t,e,r,n,o,i),n=Yl(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(ge&&n&&Ll(e),e.flags|=1,at(t,e,r,i),e.child)}function mf(t,e,r,n,i){if(xt(r)){var o=!0;xa(e)}else o=!1;if(Wn(e,i),e.stateNode===null)ta(t,e),gh(e,r,n),ku(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=Lt(l):(l=xt(r)?ln:et.current,l=qn(e,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&hf(e,a,n,l),Er=!1;var d=e.memoizedState;a.state=d,Aa(e,n,a,i),u=e.memoizedState,s!==n||d!==u||yt.current||Er?(typeof c=="function"&&(Pu(e,r,c,n),u=e.memoizedState),(s=Er||df(e,r,s,n,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Y0(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:$t(e.type,s),a.props=l,f=e.pendingProps,d=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Lt(u):(u=xt(r)?ln:et.current,u=qn(e,u));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&hf(e,a,n,u),Er=!1,d=e.memoizedState,a.state=d,Aa(e,n,a,i);var p=e.memoizedState;s!==f||d!==p||yt.current||Er?(typeof h=="function"&&(Pu(e,r,h,n),p=e.memoizedState),(l=Er||df(e,r,l,n,d,p,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Bu(t,e,r,n,o,i)}function Bu(t,e,r,n,i,o){_h(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&nf(e,r,!1),vr(t,e,o);n=e.stateNode,$v.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Jn(e,t.child,null,o),e.child=Jn(e,null,s,o)):at(t,e,s,o),e.memoizedState=n.state,i&&nf(e,r,!0),e.child}function Eh(t){var e=t.stateNode;e.pendingContext?rf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rf(t,e.context,!1),Hl(t,e.containerInfo)}function wf(t,e,r,n,i){return Qn(),Fl(i),e.flags|=256,at(t,e,r,n),e.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function ju(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ah(t,e,r){var n=e.pendingProps,i=we.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(we,i&1),t===null)return Du(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ja(a,n,0,null),t=sn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ju(r),e.memoizedState=Fu,t):Ql(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Vv(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Br(i,u),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Br(s,o):(o=sn(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?ju(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Fu,n}return o=t.child,t=o.sibling,n=Br(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ql(t,e){return e=Ja({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Po(t,e,r,n){return n!==null&&Fl(n),Jn(e,t.child,null,r),t=Ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vv(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=Bs(Error(N(422))),Po(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Ja({mode:"visible",children:n.children},i,0,null),o=sn(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Jn(e,t.child,null,a),e.child.memoizedState=ju(a),e.memoizedState=Fu,o);if(!(e.mode&1))return Po(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(N(419)),n=Bs(o,n,void 0),Po(t,e,a,n)}if(s=(a&t.childLanes)!==0,gt||s){if(n=Ve,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pr(t,i),Kt(n,t,i,-1))}return ic(),n=Bs(Error(N(421))),Po(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tg.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,At=Pr(i.nextSibling),Ct=e,ge=!0,Ht=null,t!==null&&(bt[Nt++]=lr,bt[Nt++]=cr,bt[Nt++]=cn,lr=t.id,cr=t.overflow,cn=e),e=Ql(e,n.children),e.flags|=4096,e)}function _f(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ru(t.return,e,r)}function Fs(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Ch(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(at(t,e,n.children,r),n=we.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,r,e);else if(t.tag===19)_f(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ue(we,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ca(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Fs(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ca(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Fs(e,!0,r,null,o);break;case"together":Fs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ta(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=Br(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Br(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function zv(t,e,r){switch(e.tag){case 3:Eh(e),Qn();break;case 5:Z0(e);break;case 1:xt(e.type)&&xa(e);break;case 4:Hl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ue(_a,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ue(we,we.current&1),e.flags|=128,null):r&e.child.childLanes?Ah(t,e,r):(ue(we,we.current&1),t=vr(t,e,r),t!==null?t.sibling:null);ue(we,we.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ch(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(we,we.current),n)break;return null;case 22:case 23:return e.lanes=0,wh(t,e,r)}return vr(t,e,r)}var Sh,Uu,Ih,Oh;Sh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uu=function(){};Ih=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,nn(nr.current);var o=null;switch(r){case"input":i=uu(t,i),n=uu(t,n),o=[];break;case"select":i=Ee({},i,{value:void 0}),n=Ee({},n,{value:void 0}),o=[];break;case"textarea":i=fu(t,i),n=fu(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ga)}hu(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Hi.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&fe("scroll",t),o||s===u||(o=[])):(o=o||[]).push(l,u))}r&&(o=o||[]).push("style",r);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};Oh=function(t,e,r,n){r!==n&&(e.flags|=4)};function xi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hv(t,e,r){var n=e.pendingProps;switch(Bl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return xt(e.type)&&ya(),qe(e),null;case 3:return n=e.stateNode,ei(),pe(yt),pe(et),Wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Do(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(Ku(Ht),Ht=null))),Uu(t,e),qe(e),null;case 5:Gl(e);var i=nn(ro.current);if(r=e.type,t!==null&&e.stateNode!=null)Ih(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return qe(e),null}if(t=nn(nr.current),Do(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[er]=e,n[eo]=o,t=(e.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(i=0;i<Oi.length;i++)fe(Oi[i],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":bc(n,o),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},fe("invalid",n);break;case"textarea":Dc(n,o),fe("invalid",n)}hu(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&No(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&No(n.textContent,s,t),i=["children",""+s]):Hi.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&fe("scroll",n)}switch(r){case"input":Eo(n),Nc(n,o,!0);break;case"textarea":Eo(n),Rc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ga)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[er]=e,t[eo]=n,Sh(t,e,!1,!1),e.stateNode=t;e:{switch(a=pu(r,n),r){case"dialog":fe("cancel",t),fe("close",t),i=n;break;case"iframe":case"object":case"embed":fe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Oi.length;i++)fe(Oi[i],t);i=n;break;case"source":fe("error",t),i=n;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=n;break;case"details":fe("toggle",t),i=n;break;case"input":bc(t,n),i=uu(t,n),fe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ee({},n,{value:void 0}),fe("invalid",t);break;case"textarea":Dc(t,n),i=fu(t,n),fe("invalid",t);break;default:i=n}hu(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?i0(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&r0(t,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Gi(t,u):typeof u=="number"&&Gi(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hi.hasOwnProperty(o)?u!=null&&o==="onScroll"&&fe("scroll",t):u!=null&&El(t,o,u,a))}switch(r){case"input":Eo(t),Nc(t,n,!1);break;case"textarea":Eo(t),Rc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ur(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Vn(t,!!n.multiple,o,!1):n.defaultValue!=null&&Vn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ga)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)Oh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=nn(ro.current),nn(nr.current),Do(e)){if(n=e.stateNode,r=e.memoizedProps,n[er]=e,(o=n.nodeValue!==r)&&(t=Ct,t!==null))switch(t.tag){case 3:No(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&No(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[er]=e,e.stateNode=n}return qe(e),null;case 13:if(pe(we),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&At!==null&&e.mode&1&&!(e.flags&128))G0(),Qn(),e.flags|=98560,o=!1;else if(o=Do(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[er]=e}else Qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),o=!1}else Ht!==null&&(Ku(Ht),Ht=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Me===0&&(Me=3):ic())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return ei(),Uu(t,e),t===null&&Qi(e.stateNode.containerInfo),qe(e),null;case 10:return $l(e.type._context),qe(e),null;case 17:return xt(e.type)&&ya(),qe(e),null;case 19:if(pe(we),o=e.memoizedState,o===null)return qe(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)xi(o,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ca(t),a!==null){for(e.flags|=128,xi(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ue(we,we.current&1|2),e.child}t=t.sibling}o.tail!==null&&Se()>ri&&(e.flags|=128,n=!0,xi(o,!1),e.lanes=4194304)}else{if(!n)if(t=Ca(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ge)return qe(e),null}else 2*Se()-o.renderingStartTime>ri&&r!==1073741824&&(e.flags|=128,n=!0,xi(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Se(),e.sibling=null,r=we.current,ue(we,n?r&1|2:r&1),e):(qe(e),null);case 22:case 23:return nc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Et&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Gv(t,e){switch(Bl(e),e.tag){case 1:return xt(e.type)&&ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),pe(yt),pe(et),Wl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gl(e),null;case 13:if(pe(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(we),null;case 4:return ei(),null;case 10:return $l(e.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var ko=!1,Je=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,B=null;function Mn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ae(t,e,n)}else r.current=null}function $u(t,e,r){try{r()}catch(n){Ae(t,e,n)}}var Ef=!1;function Xv(t,e){if(Cu=ha,t=R0(),Ml(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(s=a+i),f!==o||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++l===i&&(s=a),d===o&&++c===n&&(u=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Su={focusedElem:t,selectionRange:r},ha=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,w=p.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:$t(e.type,x),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){Ae(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return p=Ef,Ef=!1,p}function Fi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&$u(e,r,o)}i=i.next}while(i!==n)}}function qa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Vu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Th(t){var e=t.alternate;e!==null&&(t.alternate=null,Th(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[eo],delete e[Tu],delete e[bv],delete e[Nv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bh(t){return t.tag===5||t.tag===3||t.tag===4}function Af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ga));else if(n!==4&&(t=t.child,t!==null))for(zu(t,e,r),t=t.sibling;t!==null;)zu(t,e,r),t=t.sibling}function Hu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Hu(t,e,r),t=t.sibling;t!==null;)Hu(t,e,r),t=t.sibling}var Ge=null,Vt=!1;function yr(t,e,r){for(r=r.child;r!==null;)Nh(t,e,r),r=r.sibling}function Nh(t,e,r){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(za,r)}catch{}switch(r.tag){case 5:Je||Mn(r,e);case 6:var n=Ge,i=Vt;Ge=null,yr(t,e,r),Ge=n,Vt=i,Ge!==null&&(Vt?(t=Ge,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ge.removeChild(r.stateNode));break;case 18:Ge!==null&&(Vt?(t=Ge,r=r.stateNode,t.nodeType===8?Ds(t.parentNode,r):t.nodeType===1&&Ds(t,r),Yi(t)):Ds(Ge,r.stateNode));break;case 4:n=Ge,i=Vt,Ge=r.stateNode.containerInfo,Vt=!0,yr(t,e,r),Ge=n,Vt=i;break;case 0:case 11:case 14:case 15:if(!Je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&$u(r,e,a),i=i.next}while(i!==n)}yr(t,e,r);break;case 1:if(!Je&&(Mn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ae(r,e,s)}yr(t,e,r);break;case 21:yr(t,e,r);break;case 22:r.mode&1?(Je=(n=Je)||r.memoizedState!==null,yr(t,e,r),Je=n):yr(t,e,r);break;default:yr(t,e,r)}}function Cf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Wv),e.forEach(function(n){var i=rg.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ft(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ge=s.stateNode,Vt=!1;break e;case 3:Ge=s.stateNode.containerInfo,Vt=!0;break e;case 4:Ge=s.stateNode.containerInfo,Vt=!0;break e}s=s.return}if(Ge===null)throw Error(N(160));Nh(o,a,i),Ge=null,Vt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ae(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dh(e,t),e=e.sibling}function Dh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),Qt(t),n&4){try{Fi(3,t,t.return),qa(3,t)}catch(x){Ae(t,t.return,x)}try{Fi(5,t,t.return)}catch(x){Ae(t,t.return,x)}}break;case 1:Ft(e,t),Qt(t),n&512&&r!==null&&Mn(r,r.return);break;case 5:if(Ft(e,t),Qt(t),n&512&&r!==null&&Mn(r,r.return),t.flags&32){var i=t.stateNode;try{Gi(i,"")}catch(x){Ae(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Jd(i,o),pu(s,a);var l=pu(s,o);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?i0(i,f):c==="dangerouslySetInnerHTML"?r0(i,f):c==="children"?Gi(i,f):El(i,c,f,l)}switch(s){case"input":lu(i,o);break;case"textarea":e0(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Vn(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Vn(i,!!o.multiple,o.defaultValue,!0):Vn(i,!!o.multiple,o.multiple?[]:"",!1))}i[eo]=o}catch(x){Ae(t,t.return,x)}}break;case 6:if(Ft(e,t),Qt(t),n&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Ae(t,t.return,x)}}break;case 3:if(Ft(e,t),Qt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yi(e.containerInfo)}catch(x){Ae(t,t.return,x)}break;case 4:Ft(e,t),Qt(t);break;case 13:Ft(e,t),Qt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tc=Se())),n&4&&Cf(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Je=(l=Je)||c,Ft(e,t),Je=l):Ft(e,t),Qt(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(f=B=c;B!==null;){switch(d=B,h=d.child,d.tag){case 0:case 11:case 14:case 15:Fi(4,d,d.return);break;case 1:Mn(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(x){Ae(n,r,x)}}break;case 5:Mn(d,d.return);break;case 22:if(d.memoizedState!==null){If(f);continue}}h!==null?(h.return=d,B=h):If(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=n0("display",a))}catch(x){Ae(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(x){Ae(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ft(e,t),Qt(t),n&4&&Cf(t);break;case 21:break;default:Ft(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(bh(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gi(i,""),n.flags&=-33);var o=Af(t);Hu(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=Af(t);zu(t,s,a);break;default:throw Error(N(161))}}catch(u){Ae(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kv(t,e,r){B=t,Rh(t)}function Rh(t,e,r){for(var n=(t.mode&1)!==0;B!==null;){var i=B,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ko;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Je;s=ko;var l=Je;if(ko=a,(Je=u)&&!l)for(B=i;B!==null;)a=B,u=a.child,a.tag===22&&a.memoizedState!==null?Of(i):u!==null?(u.return=a,B=u):Of(i);for(;o!==null;)B=o,Rh(o),o=o.sibling;B=i,ko=s,Je=l}Sf(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,B=o):Sf(t)}}function Sf(t){for(;B!==null;){var e=B;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||qa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Je)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$t(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lf(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lf(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Yi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Je||e.flags&512&&Vu(e)}catch(d){Ae(e,e.return,d)}}if(e===t){B=null;break}if(r=e.sibling,r!==null){r.return=e.return,B=r;break}B=e.return}}function If(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var r=e.sibling;if(r!==null){r.return=e.return,B=r;break}B=e.return}}function Of(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{qa(4,e)}catch(u){Ae(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Ae(e,i,u)}}var o=e.return;try{Vu(e)}catch(u){Ae(e,o,u)}break;case 5:var a=e.return;try{Vu(e)}catch(u){Ae(e,a,u)}}}catch(u){Ae(e,e.return,u)}if(e===t){B=null;break}var s=e.sibling;if(s!==null){s.return=e.return,B=s;break}B=e.return}}var Yv=Math.ceil,Oa=gr.ReactCurrentDispatcher,Jl=gr.ReactCurrentOwner,Pt=gr.ReactCurrentBatchConfig,q=0,Ve=null,Oe=null,Xe=0,Et=0,Ln=zr(0),Me=0,ao=null,dn=0,Qa=0,ec=0,ji=null,dt=null,tc=0,ri=1/0,ar=null,Ta=!1,Gu=null,Mr=null,Mo=!1,br=null,ba=0,Ui=0,Wu=null,ra=-1,na=0;function st(){return q&6?Se():ra!==-1?ra:ra=Se()}function Lr(t){return t.mode&1?q&2&&Xe!==0?Xe&-Xe:Rv.transition!==null?(na===0&&(na=g0()),na):(t=ie,t!==0||(t=window.event,t=t===void 0?16:A0(t.type)),t):1}function Kt(t,e,r,n){if(50<Ui)throw Ui=0,Wu=null,Error(N(185));lo(t,r,n),(!(q&2)||t!==Ve)&&(t===Ve&&(!(q&2)&&(Qa|=r),Me===4&&Ir(t,Xe)),mt(t,n),r===1&&q===0&&!(e.mode&1)&&(ri=Se()+500,Ka&&Hr()))}function mt(t,e){var r=t.callbackNode;Rp(t,e);var n=da(t,t===Ve?Xe:0);if(n===0)r!==null&&Mc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Mc(r),e===1)t.tag===0?Dv(Tf.bind(null,t)):V0(Tf.bind(null,t)),Ov(function(){!(q&6)&&Hr()}),r=null;else{switch(y0(n)){case 1:r=Ol;break;case 4:r=p0;break;case 16:r=fa;break;case 536870912:r=v0;break;default:r=fa}r=Uh(r,Ph.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ph(t,e){if(ra=-1,na=0,q&6)throw Error(N(327));var r=t.callbackNode;if(Xn()&&t.callbackNode!==r)return null;var n=da(t,t===Ve?Xe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Na(t,n);else{e=n;var i=q;q|=2;var o=Mh();(Ve!==t||Xe!==e)&&(ar=null,ri=Se()+500,an(t,e));do try{Qv();break}catch(s){kh(t,s)}while(!0);Ul(),Oa.current=o,q=i,Oe!==null?e=0:(Ve=null,Xe=0,e=Me)}if(e!==0){if(e===2&&(i=mu(t),i!==0&&(n=i,e=Xu(t,i))),e===1)throw r=ao,an(t,0),Ir(t,n),mt(t,Se()),r;if(e===6)Ir(t,n);else{if(i=t.current.alternate,!(n&30)&&!Zv(i)&&(e=Na(t,n),e===2&&(o=mu(t),o!==0&&(n=o,e=Xu(t,o))),e===1))throw r=ao,an(t,0),Ir(t,n),mt(t,Se()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:qr(t,dt,ar);break;case 3:if(Ir(t,n),(n&130023424)===n&&(e=tc+500-Se(),10<e)){if(da(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){st(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ou(qr.bind(null,t,dt,ar),e);break}qr(t,dt,ar);break;case 4:if(Ir(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Xt(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yv(n/1960))-n,10<n){t.timeoutHandle=Ou(qr.bind(null,t,dt,ar),n);break}qr(t,dt,ar);break;case 5:qr(t,dt,ar);break;default:throw Error(N(329))}}}return mt(t,Se()),t.callbackNode===r?Ph.bind(null,t):null}function Xu(t,e){var r=ji;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=Na(t,e),t!==2&&(e=dt,dt=r,e!==null&&Ku(e)),t}function Ku(t){dt===null?dt=t:dt.push.apply(dt,t)}function Zv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Yt(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~ec,e&=~Qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xt(e),n=1<<r;t[r]=-1,e&=~n}}function Tf(t){if(q&6)throw Error(N(327));Xn();var e=da(t,0);if(!(e&1))return mt(t,Se()),null;var r=Na(t,e);if(t.tag!==0&&r===2){var n=mu(t);n!==0&&(e=n,r=Xu(t,n))}if(r===1)throw r=ao,an(t,0),Ir(t,e),mt(t,Se()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,dt,ar),mt(t,Se()),null}function rc(t,e){var r=q;q|=1;try{return t(e)}finally{q=r,q===0&&(ri=Se()+500,Ka&&Hr())}}function hn(t){br!==null&&br.tag===0&&!(q&6)&&Xn();var e=q;q|=1;var r=Pt.transition,n=ie;try{if(Pt.transition=null,ie=1,t)return t()}finally{ie=n,Pt.transition=r,q=e,!(q&6)&&Hr()}}function nc(){Et=Ln.current,pe(Ln)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Iv(r)),Oe!==null)for(r=Oe.return;r!==null;){var n=r;switch(Bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ya();break;case 3:ei(),pe(yt),pe(et),Wl();break;case 5:Gl(n);break;case 4:ei();break;case 13:pe(we);break;case 19:pe(we);break;case 10:$l(n.type._context);break;case 22:case 23:nc()}r=r.return}if(Ve=t,Oe=t=Br(t.current,null),Xe=Et=e,Me=0,ao=null,ec=Qa=dn=0,dt=ji=null,rn!==null){for(e=0;e<rn.length;e++)if(r=rn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}rn=null}return t}function kh(t,e){do{var r=Oe;try{if(Ul(),Jo.current=Ia,Sa){for(var n=_e.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sa=!1}if(fn=0,Ue=De=_e=null,Bi=!1,no=0,Jl.current=null,r===null||r.return===null){Me=1,ao=e,Oe=null;break}e:{var o=t,a=r.return,s=r,u=e;if(e=Xe,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=vf(a);if(h!==null){h.flags&=-257,gf(h,a,s,o,e),h.mode&1&&pf(o,l,e),e=h,u=l;var p=e.updateQueue;if(p===null){var x=new Set;x.add(u),e.updateQueue=x}else p.add(u);break e}else{if(!(e&1)){pf(o,l,e),ic();break e}u=Error(N(426))}}else if(ge&&s.mode&1){var w=vf(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),gf(w,a,s,o,e),Fl(ti(u,s));break e}}o=u=ti(u,s),Me!==4&&(Me=2),ji===null?ji=[o]:ji.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=yh(o,u,e);uf(o,y);break e;case 1:s=u;var v=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mr===null||!Mr.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=xh(o,s,e);uf(o,E);break e}}o=o.return}while(o!==null)}Bh(r)}catch(C){e=C,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(!0)}function Mh(){var t=Oa.current;return Oa.current=Ia,t===null?Ia:t}function ic(){(Me===0||Me===3||Me===2)&&(Me=4),Ve===null||!(dn&268435455)&&!(Qa&268435455)||Ir(Ve,Xe)}function Na(t,e){var r=q;q|=2;var n=Mh();(Ve!==t||Xe!==e)&&(ar=null,an(t,e));do try{qv();break}catch(i){kh(t,i)}while(!0);if(Ul(),q=r,Oa.current=n,Oe!==null)throw Error(N(261));return Ve=null,Xe=0,Me}function qv(){for(;Oe!==null;)Lh(Oe)}function Qv(){for(;Oe!==null&&!Ap();)Lh(Oe)}function Lh(t){var e=jh(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?Bh(t):Oe=e,Jl.current=null}function Bh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Gv(r,e),r!==null){r.flags&=32767,Oe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Oe=null;return}}else if(r=Hv(r,e,Et),r!==null){Oe=r;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Me===0&&(Me=5)}function qr(t,e,r){var n=ie,i=Pt.transition;try{Pt.transition=null,ie=1,Jv(t,e,r,n)}finally{Pt.transition=i,ie=n}return null}function Jv(t,e,r,n){do Xn();while(br!==null);if(q&6)throw Error(N(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(Pp(t,o),t===Ve&&(Oe=Ve=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mo||(Mo=!0,Uh(fa,function(){return Xn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Pt.transition,Pt.transition=null;var a=ie;ie=1;var s=q;q|=4,Jl.current=null,Xv(t,r),Dh(r,t),mv(Su),ha=!!Cu,Su=Cu=null,t.current=r,Kv(r),Cp(),q=s,ie=a,Pt.transition=o}else t.current=r;if(Mo&&(Mo=!1,br=t,ba=i),o=t.pendingLanes,o===0&&(Mr=null),Op(r.stateNode),mt(t,Se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ta)throw Ta=!1,t=Gu,Gu=null,t;return ba&1&&t.tag!==0&&Xn(),o=t.pendingLanes,o&1?t===Wu?Ui++:(Ui=0,Wu=t):Ui=0,Hr(),null}function Xn(){if(br!==null){var t=y0(ba),e=Pt.transition,r=ie;try{if(Pt.transition=null,ie=16>t?16:t,br===null)var n=!1;else{if(t=br,br=null,ba=0,q&6)throw Error(N(331));var i=q;for(q|=4,B=t.current;B!==null;){var o=B,a=o.child;if(B.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(B=l;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Fi(8,c,o)}var f=c.child;if(f!==null)f.return=c,B=f;else for(;B!==null;){c=B;var d=c.sibling,h=c.return;if(Th(c),c===l){B=null;break}if(d!==null){d.return=h,B=d;break}B=h}}}var p=o.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}B=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,B=a;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,B=y;break e}B=o.return}}var v=t.current;for(B=v;B!==null;){a=B;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,B=m;else e:for(a=v;B!==null;){if(s=B,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:qa(9,s)}}catch(C){Ae(s,s.return,C)}if(s===a){B=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,B=E;break e}B=s.return}}if(q=i,Hr(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(za,t)}catch{}n=!0}return n}finally{ie=r,Pt.transition=e}}return!1}function bf(t,e,r){e=ti(r,e),e=yh(t,e,1),t=kr(t,e,1),e=st(),t!==null&&(lo(t,1,e),mt(t,e))}function Ae(t,e,r){if(t.tag===3)bf(t,t,r);else for(;e!==null;){if(e.tag===3){bf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mr===null||!Mr.has(n))){t=ti(r,t),t=xh(e,t,1),e=kr(e,t,1),t=st(),e!==null&&(lo(e,1,t),mt(e,t));break}}e=e.return}}function eg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&r,Ve===t&&(Xe&r)===r&&(Me===4||Me===3&&(Xe&130023424)===Xe&&500>Se()-tc?an(t,0):ec|=r),mt(t,e)}function Fh(t,e){e===0&&(t.mode&1?(e=So,So<<=1,!(So&130023424)&&(So=4194304)):e=1);var r=st();t=pr(t,e),t!==null&&(lo(t,e,r),mt(t,r))}function tg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Fh(t,r)}function rg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),Fh(t,r)}var jh;jh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)gt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gt=!1,zv(t,e,r);gt=!!(t.flags&131072)}else gt=!1,ge&&e.flags&1048576&&z0(e,wa,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ta(t,e),t=e.pendingProps;var i=qn(e,et.current);Wn(e,r),i=Kl(null,e,n,t,i,r);var o=Yl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(n)?(o=!0,xa(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zl(e),i.updater=Za,e.stateNode=i,i._reactInternals=e,ku(e,n,t,r),e=Bu(null,e,n,!0,o,r)):(e.tag=0,ge&&o&&Ll(e),at(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ta(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=ig(n),t=$t(n,t),i){case 0:e=Lu(null,e,n,t,r);break e;case 1:e=mf(null,e,n,t,r);break e;case 11:e=yf(null,e,n,t,r);break e;case 14:e=xf(null,e,n,$t(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),Lu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),mf(t,e,n,i,r);case 3:e:{if(Eh(e),t===null)throw Error(N(387));n=e.pendingProps,o=e.memoizedState,i=o.element,Y0(t,e),Aa(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ti(Error(N(423)),e),e=wf(t,e,n,r,i);break e}else if(n!==i){i=ti(Error(N(424)),e),e=wf(t,e,n,r,i);break e}else for(At=Pr(e.stateNode.containerInfo.firstChild),Ct=e,ge=!0,Ht=null,r=X0(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qn(),n===i){e=vr(t,e,r);break e}at(t,e,n,r)}e=e.child}return e;case 5:return Z0(e),t===null&&Du(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Iu(n,i)?a=null:o!==null&&Iu(n,o)&&(e.flags|=32),_h(t,e),at(t,e,a,r),e.child;case 6:return t===null&&Du(e),null;case 13:return Ah(t,e,r);case 4:return Hl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jn(e,null,n,r):at(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),yf(t,e,n,i,r);case 7:return at(t,e,e.pendingProps,r),e.child;case 8:return at(t,e,e.pendingProps.children,r),e.child;case 12:return at(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ue(_a,n._currentValue),n._currentValue=a,o!==null)if(Yt(o.value,a)){if(o.children===i.children&&!yt.current){e=vr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(o.tag===1){u=fr(-1,r&-r),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Ru(o.return,r,e),s.lanes|=r;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(N(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Ru(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}at(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Wn(e,r),i=Lt(i),n=n(i),e.flags|=1,at(t,e,n,r),e.child;case 14:return n=e.type,i=$t(n,e.pendingProps),i=$t(n.type,i),xf(t,e,n,i,r);case 15:return mh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),ta(t,e),e.tag=1,xt(n)?(t=!0,xa(e)):t=!1,Wn(e,r),gh(e,n,i),ku(e,n,i,r),Bu(null,e,n,!0,t,r);case 19:return Ch(t,e,r);case 22:return wh(t,e,r)}throw Error(N(156,e.tag))};function Uh(t,e){return h0(t,e)}function ng(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,r,n){return new ng(t,e,r,n)}function oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ig(t){if(typeof t=="function")return oc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cl)return 11;if(t===Sl)return 14}return 2}function Br(t,e){var r=t.alternate;return r===null?(r=Dt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ia(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")oc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case In:return sn(r.children,i,o,e);case Al:a=8,i|=8;break;case iu:return t=Dt(12,r,e,i|2),t.elementType=iu,t.lanes=o,t;case ou:return t=Dt(13,r,e,i),t.elementType=ou,t.lanes=o,t;case au:return t=Dt(19,r,e,i),t.elementType=au,t.lanes=o,t;case Zd:return Ja(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kd:a=10;break e;case Yd:a=9;break e;case Cl:a=11;break e;case Sl:a=14;break e;case _r:a=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Dt(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function sn(t,e,r,n){return t=Dt(7,t,n,e),t.lanes=r,t}function Ja(t,e,r,n){return t=Dt(22,t,n,e),t.elementType=Zd,t.lanes=r,t.stateNode={isHidden:!1},t}function js(t,e,r){return t=Dt(6,t,null,e),t.lanes=r,t}function Us(t,e,r){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function og(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ac(t,e,r,n,i,o,a,s,u){return t=new og(t,e,r,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Dt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(o),t}function ag(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function $h(t){if(!t)return $r;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(xt(r))return $0(t,r,e)}return e}function Vh(t,e,r,n,i,o,a,s,u){return t=ac(r,n,!0,t,i,o,a,s,u),t.context=$h(null),r=t.current,n=st(),i=Lr(r),o=fr(n,i),o.callback=e??null,kr(r,o,i),t.current.lanes=i,lo(t,i,n),mt(t,n),t}function es(t,e,r,n){var i=e.current,o=st(),a=Lr(i);return r=$h(r),e.context===null?e.context=r:e.pendingContext=r,e=fr(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=kr(i,e,a),t!==null&&(Kt(t,i,a,o),Qo(t,i,a)),a}function Da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sc(t,e){Nf(t,e),(t=t.alternate)&&Nf(t,e)}function sg(){return null}var zh=typeof reportError=="function"?reportError:function(t){console.error(t)};function uc(t){this._internalRoot=t}ts.prototype.render=uc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));es(t,e,null,null)};ts.prototype.unmount=uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){es(null,t,null,null)}),e[hr]=null}};function ts(t){this._internalRoot=t}ts.prototype.unstable_scheduleHydration=function(t){if(t){var e=w0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Sr.length&&e!==0&&e<Sr[r].priority;r++);Sr.splice(r,0,t),r===0&&E0(t)}};function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Df(){}function ug(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var l=Da(a);o.call(l)}}var a=Vh(e,n,t,0,null,!1,!1,"",Df);return t._reactRootContainer=a,t[hr]=a.current,Qi(t.nodeType===8?t.parentNode:t),hn(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var l=Da(u);s.call(l)}}var u=ac(t,0,!1,null,null,!1,!1,"",Df);return t._reactRootContainer=u,t[hr]=u.current,Qi(t.nodeType===8?t.parentNode:t),hn(function(){es(e,u,r,n)}),u}function ns(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=Da(a);s.call(u)}}es(e,a,t,i)}else a=ug(r,e,t,i,n);return Da(a)}x0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ii(e.pendingLanes);r!==0&&(Tl(e,r|1),mt(e,Se()),!(q&6)&&(ri=Se()+500,Hr()))}break;case 13:hn(function(){var n=pr(t,1);if(n!==null){var i=st();Kt(n,t,1,i)}}),sc(t,1)}};bl=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var r=st();Kt(e,t,134217728,r)}sc(t,134217728)}};m0=function(t){if(t.tag===13){var e=Lr(t),r=pr(t,e);if(r!==null){var n=st();Kt(r,t,e,n)}sc(t,e)}};w0=function(){return ie};_0=function(t,e){var r=ie;try{return ie=t,e()}finally{ie=r}};gu=function(t,e,r){switch(e){case"input":if(lu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Xa(n);if(!i)throw Error(N(90));Qd(n),lu(n,i)}}}break;case"textarea":e0(t,r);break;case"select":e=r.value,e!=null&&Vn(t,!!r.multiple,e,!1)}};s0=rc;u0=hn;var lg={usingClientEntryPoint:!1,Events:[fo,Nn,Xa,o0,a0,rc]},mi={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f0(t),t===null?null:t.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{za=Lo.inject(cg),rr=Lo}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;It.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(e))throw Error(N(200));return ag(t,e,null,r)};It.createRoot=function(t,e){if(!lc(t))throw Error(N(299));var r=!1,n="",i=zh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ac(t,1,!1,null,null,r,!1,n,i),t[hr]=e.current,Qi(t.nodeType===8?t.parentNode:t),new uc(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=f0(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return hn(t)};It.hydrate=function(t,e,r){if(!rs(e))throw Error(N(200));return ns(null,t,e,!0,r)};It.hydrateRoot=function(t,e,r){if(!lc(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=zh;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Vh(e,null,t,1,r??null,i,!1,o,a),t[hr]=e.current,Qi(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ts(e)};It.render=function(t,e,r){if(!rs(e))throw Error(N(200));return ns(null,t,e,!1,r)};It.unmountComponentAtNode=function(t){if(!rs(t))throw Error(N(40));return t._reactRootContainer?(hn(function(){ns(null,null,t,!1,function(){t._reactRootContainer=null,t[hr]=null})}),!0):!1};It.unstable_batchedUpdates=rc;It.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!rs(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return ns(t,e,r,!1,n)};It.version="18.3.1-next-f1338f8080-20240426";function Hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hh)}catch(t){console.error(t)}}Hh(),Hd.exports=It;var fg=Hd.exports,Gh,Rf=fg;Gh=Rf.createRoot,Rf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(t,e)=>{const r=z.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:u,...l},c)=>z.createElement("svg",{ref:c,...dg,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${hg(t)}`,s].join(" "),...l},[...e.map(([f,d])=>z.createElement(f,d)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ig({currentPage:t,onPageChange:e}){const r=[{id:"student",label:"Student",icon:cc},{id:"admin",label:"Admin",icon:Pa},{id:"guard",label:"Guard",icon:Yh}];return g.jsx("nav",{className:"bg-white shadow-lg border-b",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Pa,{className:"h-8 w-8 text-blue-600"}),g.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"E-Gatepass"})]}),g.jsx("div",{className:"flex space-x-1",children:r.map(({id:n,label:i,icon:o})=>g.jsxs("button",{onClick:()=>e(n),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===n?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[g.jsx(o,{className:"h-5 w-5"}),g.jsx("span",{className:"hidden sm:inline",children:i})]},n))})]})})})}function Og(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Tg(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var bg=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ng=function(t){bg(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),Og(o,i.prototype),Tg(o),o}return e}(Error),Dg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt=function(t){Dg(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Ng),Rg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ce=function(t){Rg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(wt),Pg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(t){Pg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(wt),Zh=function(){function t(e){if(this.binarizer=e,e===null)throw new $("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),kg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Te=function(t){kg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(wt),Mg=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),le=function(){function t(){}return t.arraycopy=function(e,r,n,i,o){for(;o--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Lg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fc=function(t){Lg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(wt),Bg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mf=function(t){Bg(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(fc),Fg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ke=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new $("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Mf(r);if(n>e)throw new Mf(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var o=Fg(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=31*i+s}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,o=new Int32Array(i);return le.arraycopy(e,r,o,0,i),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=n(r,e[a]);if(s>0)i=a+1;else if(s<0)o=a-1;else return a}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),W=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),$e=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);le.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=n[i]}var s=i*32+W.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=~n[i]}var s=i*32+W.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new $;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,a=n;a<=i;a++){var s=a>n?0:e&31,u=a<i?31:r&31,l=(2<<u)-(1<<s);o[a]|=l}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new $;if(r===e)return!0;r--;for(var i=Math.floor(e/32),o=Math.floor(r/32),a=this.bits,s=i;s<=o;s++){var u=s>i?0:e&31,l=s<o?31:r&31,c=(2<<l)-(1<<u)&4294967295;if((a[s]&c)!==(n?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new $("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new $("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;r[n+o]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,o=0;o<n;o++){var a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[r-o]=a}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,o=1;o<n;o++){var l=e[o];u|=l<<32-s,e[o-1]=u,u=l>>>s}e[n-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&ke.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+ke.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),qu;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(qu||(qu={}));const ce=qu;var jg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=function(t){jg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(wt),Ug=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},re;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(re||(re={}));var Pe=function(){function t(e,r,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var u=this.values,l=0,c=u.length;l!==c;l++){var f=u[l];t.VALUES_TO_ECI.set(f,this)}try{for(var d=Ug(a),h=d.next();!h.done;h=d.next()){var p=h.value;t.NAME_TO_ECI.set(p,this)}}catch(x){i={error:x}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new R("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new R("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new R("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(re.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(re.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(re.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(re.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(re.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(re.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(re.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(re.Big5,28,"Big5"),t.GB18030=new t(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(re.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),$g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oa=function(t){$g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(wt),kt=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Pe?e:Pe.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Pe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new oa("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Pe.UTF8)||e.equals(Pe.ISO8859_1)||e.equals(Pe.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},t}(),Y=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return kt.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(ce.CHARACTER_SET)!==void 0)return r.get(ce.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,a=!0,s=0,u=0,l=0,c=0,f=0,d=0,h=0,p=0,x=0,w=0,y=0,v=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,m=0;m<n&&(i||o||a);m++){var E=e[m]&255;a&&(s>0?E&128?s--:a=!1:E&128&&(E&64?(s++,E&32?(s++,E&16?(s++,E&8?a=!1:c++):l++):u++):a=!1)),i&&(E>127&&E<160?i=!1:E>159&&(E<192||E===215||E===247)&&y++),o&&(f>0?E<64||E===127||E>252?o=!1:f--:E===128||E===160||E>239?o=!1:E>160&&E<224?(d++,p=0,h++,h>x&&(x=h)):E>127?(f++,h=0,p++,p>w&&(w=p)):(h=0,p=0))}return a&&s>0&&(a=!1),o&&f>0&&(o=!1),a&&(v||u+l+c>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||x>=3||w>=3)?t.SHIFT_JIS:i&&o?x===2&&d===2||y*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function o(s,u,l,c,f,d){if(s==="%%")return"%";if(r[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,p;switch(d){case"s":p=r[i];break;case"c":p=r[i][0];break;case"f":p=parseFloat(r[i]).toFixed(s);break;case"p":p=parseFloat(r[i]).toPrecision(s);break;case"e":p=parseFloat(r[i]).toExponential(s);break;case"x":p=parseInt(r[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[i],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var x=parseInt(l),w=l&&l[0]+""=="0"?"0":" ";p.length<x;)p=u!==void 0?p+w:w+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},t.getBytes=function(e,r){return kt.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Pe.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Pe.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Pe.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),G=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),ir=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new $("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var a=e[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,r,n){if(e===null)throw new $("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,u=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new $("row lengths do not match");a=o,u++}l++}else if(e.substring(l,l+r.length)===r)l+=r.length,i[o]=!0,o++;else if(e.substring(l,l+n.length)===n)l+=n.length,i[o]=!1,o++;else throw new $("illegal character encountered: "+e.substring(l));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new $("row lengths do not match");u++}for(var c=new t(s,u),f=0;f<o;f++)i[f]&&c.set(Math.floor(f%s),Math.floor(f/s));return c},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new $("input matrix dimensions do not match");for(var r=new $e(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*n,u=e.getRow(o,r).getBitArray(),l=0;l<n;l++)i[s+l]^=u[l]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new $("Left and top must be nonnegative");if(i<1||n<1)throw new $("Height and width must be at least 1");var o=e+n,a=r+i;if(a>this.height||o>this.width)throw new $("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,l=r;l<a;l++)for(var c=l*s,f=e;f<o;f++)u[c+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new $e(this.width):r.clear();for(var n=this.rowSize,i=this.bits,o=e*n,a=0;a<n;a++)r.setBulk(a*32,i[o+a]);return r},t.prototype.setRow=function(e,r){le.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new $e(e),i=new $e(e),o=0,a=Math.floor((r+1)/2);o<a;o++)n=this.getRow(o,n),i=this.getRow(r-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,o=e,a=r,s=-1,u=-1,l=0;l<r;l++)for(var c=0;c<n;c++){var f=i[l*n+c];if(f!==0){if(l<a&&(a=l),l>u&&(u=l),c*32<o){for(var d=0;!(f<<31-d&4294967295);)d++;c*32+d<o&&(o=c*32+d)}if(c*32+31>s){for(var d=31;!(f>>>d);)d--;c*32+d>s&&(s=c*32+d)}}}return s<o||u<a?null:Int32Array.from([o,a,s-o+1,u-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,o=n%e*32,a=r[n],s=0;!(a<<31-s&4294967295);)s++;return o+=s,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,a=r[n],s=31;!(a>>>s);)s--;return o+=s,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ke.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ke.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new G,o=0,a=this.height;o<a;o++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,o)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Vg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(t){Vg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(wt),zg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hg=function(t){zg(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new $e(o):n.clear(),this.initArrays(o);for(var a=i.getRow(r,this.luminances),s=this.buckets,u=0;u<o;u++)s[(a[u]&255)>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(s);if(o<3)for(var u=0;u<o;u++)(a[u]&255)<l&&n.set(u);else for(var c=a[0]&255,f=a[1]&255,u=1;u<o-1;u++){var d=a[u+1]&255;(f*4-c-d)/2<l&&n.set(u),c=f,f=d}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),o=new ir(n,i);this.initArrays(n);for(var a=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),l=r.getRow(u,this.luminances),c=Math.floor(n*4/5),f=Math.floor(n/5);f<c;f++){var d=l[f]&255;a[d>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(a),p=r.getMatrix(),s=0;s<i;s++)for(var x=s*n,f=0;f<n;f++){var d=p[x+f]&255;d<h&&o.set(f,s)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,o=0,a=0,s=0;s<n;s++)r[s]>a&&(o=s,a=r[s]),r[s]>i&&(i=r[s]);for(var u=0,l=0,s=0;s<n;s++){var c=s-o,f=r[s]*c*c;f>l&&(u=s,l=f)}if(o>u){var d=o;o=u,u=d}if(u-o<=n/16)throw new b;for(var h=u-1,p=-1,s=u-1;s>o;s--){var x=s-o,f=x*x*(u-s)*(i-r[s]);f>p&&(h=s,p=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Mg),Gg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qh=function(t){Gg(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&a++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var u=e.calculateBlackPoints(o,a,s,n,i),l=new ir(n,i);e.calculateThresholdForBlock(o,a,s,n,i,u,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,o,a,s,u){for(var l=a-e.BLOCK_SIZE,c=o-e.BLOCK_SIZE,f=0;f<i;f++){var d=f<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var h=e.cap(f,2,i-3),p=0;p<n;p++){var x=p<<e.BLOCK_SIZE_POWER;x>c&&(x=c);for(var w=e.cap(p,2,n-3),y=0,v=-2;v<=2;v++){var m=s[h+v];y+=m[w-2]+m[w-1]+m[w]+m[w+1]+m[w+2]}var E=y/25;e.thresholdBlock(r,x,d,E,o,u)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,o,a,s){for(var u=0,l=i*a+n;u<e.BLOCK_SIZE;u++,l+=a)for(var c=0;c<e.BLOCK_SIZE;c++)(r[l+c]&255)<=o&&s.set(n+c,i+u)},e.calculateBlackPoints=function(r,n,i,o,a){for(var s=a-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,l=new Array(i),c=0;c<i;c++){l[c]=new Int32Array(n);var f=c<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0;d<n;d++){var h=d<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=0,x=255,w=0,y=0,v=f*o+h;y<e.BLOCK_SIZE;y++,v+=o){for(var m=0;m<e.BLOCK_SIZE;m++){var E=r[v+m]&255;p+=E,E<x&&(x=E),E>w&&(w=E)}if(w-x>e.MIN_DYNAMIC_RANGE)for(y++,v+=o;y<e.BLOCK_SIZE;y++,v+=o)for(var m=0;m<e.BLOCK_SIZE;m++)p+=r[v+m]&255}var C=p>>e.BLOCK_SIZE_POWER*2;if(w-x<=e.MIN_DYNAMIC_RANGE&&(C=x/2,c>0&&d>0)){var S=(l[c-1][d]+2*l[c][d-1]+l[c-1][d-1])/4;x<S&&(C=S)}l[c][d]=C}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Hg),po=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new oa("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new oa("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new oa("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new G,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var a=i[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),Wg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),is=function(t){Wg(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(r[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,o){return new e(this.delegate.crop(r,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(po),Xg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kg=function(t){Xg(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,o){o===void 0&&(o=!1);var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var s=0,u=0,l=r.length;s<l;s+=4,u++){var c=void 0,f=r[s+3];if(f===0)c=255;else{var d=r[s],h=r[s+1],p=r[s+2];c=306*d+601*h+117*p+512>>10}a[u]=c}else for(var s=0,u=0,x=r.length;s<x;s+=4,u++){var c=void 0,f=r[s+3];if(f===0)c=255;else{var d=r[s],h=r[s+1],p=r[s+2];c=306*d+601*h+117*p+512>>10}a[u]=255-c}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new $("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),l=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return n.width=u,n.height=l,i.translate(u/2,l/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new is(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(po),Yg=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),rt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},nt=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Zg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ui=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return rt(this,void 0,void 0,function(){var e,r,n,i,o,a,s,u,l,c,f,d;return nt(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=Zg(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,u=o.label||"Video device "+(r.length+1),l=o.groupId,c={deviceId:s,label:u,kind:a,groupId:l},r.push(c))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return rt(this,void 0,void 0,function(){var e;return nt(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Yg(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return rt(this,void 0,void 0,function(){var r;return nt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return rt(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return rt(this,void 0,void 0,function(){var n,i;return nt(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return rt(this,void 0,void 0,function(){var n;return nt(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return rt(this,void 0,void 0,function(){var n,i;return nt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return rt(this,void 0,void 0,function(){return nt(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return rt(this,void 0,void 0,function(){var i,o;return nt(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return rt(this,void 0,void 0,function(){var i;return nt(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return rt(this,void 0,void 0,function(){var i;return nt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return rt(this,void 0,void 0,function(){var n;return nt(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return rt(this,void 0,void 0,function(){return nt(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ce("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ce("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ce("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ce("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ce("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ce("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ce("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ce("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ce("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ce("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return rt(this,void 0,void 0,function(){return nt(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return rt(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode){s(new b("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);a(u)}catch(d){var l=r&&d instanceof b,c=d instanceof Te||d instanceof R,f=c&&n;if(l||f)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(d)}};return new Promise(function(a,s){return o(a,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){r(null,u);var a=u instanceof Te||u instanceof R,s=u instanceof b;(a||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Kg(n,r),o=new qh(i);return new Zh(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),tt=function(){function t(e,r,n,i,o,a){n===void 0&&(n=r==null?0:8*r.length),a===void 0&&(a=le.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=le.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);le.arraycopy(r,0,n,0,r.length),le.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Qu;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qu||(Qu={}));const U=Qu;var Ju;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ju||(Ju={}));const We=Ju;var os=function(){function t(e,r,n,i,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Ti=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new $;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Fr=function(){function t(e,r){if(r.length===0)throw new $;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),le.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,o=r.length;i!==o;i++){var a=r[i];n=Ti.addOrSubtract(n,a)}return n}n=r[0];for(var s=r.length,u=this.field,i=1;i<s;i++)n=Ti.addOrSubtract(u.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new $("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;le.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=Ti.addOrSubtract(r[s-a],n[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new $("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,u=0;u<n;u++)for(var l=r[u],c=0;c<o;c++)a[u+c]=Ti.addOrSubtract(a[u+c],s.multiply(l,i[c]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(o[a],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new $;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],r);return new t(a,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new $("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new $("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=r.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=r.multiply(i.getCoefficient(i.getDegree()),a),l=e.multiplyByMonomial(s,u),c=r.buildMonomial(s,u);n=n.addOrSubtract(c),i=i.addOrSubtract(l)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),qg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qh=function(t){qg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(wt),Qg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt=function(t){Qg(e,t);function e(r,n,i){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=i;for(var a=new Int32Array(n),s=1,u=0;u<n;u++)a[u]=s,s*=2,s>=n&&(s^=r,s&=n-1);o.expTable=a;for(var l=new Int32Array(n),u=0;u<n-1;u++)l[a[u]]=u;return o.logTable=l,o.zero=new Fr(o,Int32Array.from([0])),o.one=new Fr(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new $;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Fr(this,i)},e.prototype.inverse=function(r){if(r===0)throw new Qh;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+W.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Ti),Jg=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo=function(t){Jg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(wt),e2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(t){e2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(wt),as=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Fr(n,e),o=new Int32Array(r),a=!0,s=0;s<r;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=u,u!==0&&(a=!1)}if(!a)for(var l=new Fr(n,o),c=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),f=c[0],d=c[1],h=this.findErrorLocations(f),p=this.findErrorMagnitudes(d,h),s=0;s<h.length;s++){var x=e.length-1-n.log(h[s]);if(x<0)throw new Bo("Bad error location");e[x]=vt.addOrSubtract(e[x],p[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=this.field,a=e,s=r,u=o.getZero(),l=o.getOne();s.getDegree()>=(n/2|0);){var c=a,f=u;if(a=s,u=l,a.isZero())throw new Bo("r_{i-1} was zero");s=c;for(var d=o.getZero(),h=a.getCoefficient(a.getDegree()),p=o.inverse(h);s.getDegree()>=a.getDegree()&&!s.isZero();){var x=s.getDegree()-a.getDegree(),w=o.multiply(s.getCoefficient(s.getDegree()),p);d=d.addOrSubtract(o.buildMonomial(x,w)),s=s.addOrSubtract(a.multiplyByMonomial(x,w))}if(l=d.multiply(u).addOrSubtract(f),s.getDegree()>=a.getDegree())throw new vo("Division algorithm failed to reduce polynomial?")}var y=l.getCoefficient(0);if(y===0)throw new Bo("sigmaTilde(0) was zero");var v=o.inverse(y),m=l.multiplyScalar(v),E=s.multiplyScalar(v);return[m,E]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,o=this.field,a=1;a<o.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=o.inverse(a),i++);if(i!==r)throw new Bo("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),o=this.field,a=0;a<n;a++){for(var s=o.inverse(r[a]),u=1,l=0;l<n;l++)if(a!==l){var c=o.multiply(r[l],s),f=c&1?c&-2:c|1;u=o.multiply(u,f)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(u)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],s))}return i},t}(),ze;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(ze||(ze={}));var Lf=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new os(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=ze.UPPER,i=ze.UPPER,o="",a=0;a<r;)if(i===ze.BINARY){if(r-a<5)break;var s=t.readCode(e,a,5);if(a+=5,s===0){if(r-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(r-a<8){a=r;break}var l=t.readCode(e,a,8);o+=Y.castAsNonUtf8Char(l),a+=8}i=n}else{var c=i===ze.DIGIT?4:5;if(r-a<c)break;var l=t.readCode(e,a,c);a+=c;var f=t.getCharacter(i,l);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(o+=f,i=n)}return o},t.getTable=function(e){switch(e){case"L":return ze.LOWER;case"P":return ze.PUNCT;case"M":return ze.MIXED;case"D":return ze.DIGIT;case"B":return ze.BINARY;case"U":default:return ze.UPPER}},t.getCharacter=function(e,r){switch(e){case ze.UPPER:return t.UPPER_TABLE[r];case ze.LOWER:return t.LOWER_TABLE[r];case ze.MIXED:return t.MIXED_TABLE[r];case ze.PUNCT:return t.PUNCT_TABLE[r];case ze.DIGIT:return t.DIGIT_TABLE[r];default:throw new vo("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=vt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=vt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=vt.AZTEC_DATA_10):(n=12,r=vt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new R;for(var a=e.length%n,s=new Int32Array(o),u=0;u<o;u++,a+=n)s[u]=t.readCode(e,a,n);try{var l=new as(r);l.decode(s,o-i)}catch(w){throw new R(w)}for(var c=(1<<n)-1,f=0,u=0;u<i;u++){var d=s[u];if(d===0||d===c)throw new R;(d===1||d===c-1)&&f++}for(var h=new Array(i*n-f),p=0,u=0;u<i;u++){var d=s[u];if(d===1||d===c-1)h.fill(d>1,p,p+n-1),p+=n-1;else for(var x=n-1;x>=0;--x)h[p++]=(d&1<<x)!==0}return h},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<o.length;s++)o[s]=s;else for(var u=i+1+2*W.truncDivision(W.truncDivision(i,2)-1,15),l=i/2,c=W.truncDivision(u,2),s=0;s<l;s++){var f=s+W.truncDivision(s,15);o[l-s-1]=c-f-1,o[l+s]=c+f+1}for(var s=0,d=0;s<n;s++){for(var h=(n-s)*4+(r?9:12),p=s*2,x=i-1-p,w=0;w<h;w++)for(var y=w*2,v=0;v<2;v++)a[d+y+v]=e.get(o[p+v],o[p+w]),a[d+2*h+y+v]=e.get(o[p+w],o[x-v]),a[d+4*h+y+v]=e.get(o[x-v],o[x-w]),a[d+6*h+y+v]=e.get(o[x-w],o[p+v]);d+=h*8}return a},t.readCode=function(e,r,n){for(var i=0,o=r;o<r+n;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Q=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var o=e-n,a=r-i;return Math.sqrt(o*o+a*a)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var o=e[n];r+=o}return r},t}(),el=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),F=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*el.floatToIntBits(this.x)+el.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,a,s;if(n>=r&&n>=i?(a=e[0],o=e[1],s=e[2]):i>=n&&i>=r?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var u=o;o=s,s=u}e[0]=o,e[1]=a,e[2]=s},t.distance=function(e,r){return Q.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,o=r.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},t}(),dc=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),t2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r2=function(t){t2(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(dc),tl=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new b}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,u=!1,l=!1,c=!1,f=!1,d=this.width,h=this.height;a;){a=!1;for(var p=!0;(p||!u)&&r<d;)p=this.containsBlackPoint(n,i,r,!1),p?(r++,a=!0,u=!0):u||r++;if(r>=d){o=!0;break}for(var x=!0;(x||!l)&&i<h;)x=this.containsBlackPoint(e,r,i,!0),x?(i++,a=!0,l=!0):l||i++;if(i>=h){o=!0;break}for(var w=!0;(w||!c)&&e>=0;)w=this.containsBlackPoint(n,i,e,!1),w?(e--,a=!0,c=!0):c||e--;if(e<0){o=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(e,r,n,!0),y?(n--,a=!0,f=!0):f||n--;if(n<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var v=r-e,m=null,E=1;m===null&&E<v;E++)m=this.getBlackPointOnSegment(e,i-E,e+E,i);if(m==null)throw new b;for(var C=null,E=1;C===null&&E<v;E++)C=this.getBlackPointOnSegment(e,n+E,e+E,n);if(C==null)throw new b;for(var S=null,E=1;S===null&&E<v;E++)S=this.getBlackPointOnSegment(r,n+E,r-E,n);if(S==null)throw new b;for(var A=null,E=1;A===null&&E<v;E++)A=this.getBlackPointOnSegment(r,i-E,r-E,i);if(A==null)throw new b;return this.centerEdges(A,m,S,C)}else throw new b},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var o=Q.round(Q.distance(e,r,n,i)),a=(n-e)/o,s=(i-r)/o,u=this.image,l=0;l<o;l++){var c=Q.round(e+l*a),f=Q.round(r+l*s);if(u.get(c,f))return new F(c,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),a=e.getY(),s=r.getX(),u=r.getY(),l=n.getX(),c=n.getY(),f=i.getX(),d=i.getY(),h=t.CORR;return o<this.width/2?[new F(f-h,d+h),new F(s+h,u+h),new F(l-h,c-h),new F(o+h,a-h)]:[new F(f+h,d+h),new F(s+h,u-h),new F(l-h,c+h),new F(o-h,a-h)]},t.prototype.containsBlackPoint=function(e,r,n,i){var o=this.image;if(i){for(var a=e;a<=r;a++)if(o.get(a,n))return!0}else for(var s=e;s<=r;s++)if(o.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Bf=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<r.length&&o;a+=2){var s=Math.floor(r[a]),u=Math.floor(r[a+1]);if(s<-1||s>n||u<-1||u>i)throw new b;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),u===-1?(r[a+1]=0,o=!0):u===i&&(r[a+1]=i-1,o=!0)}o=!0;for(var a=r.length-2;a>=0&&o;a-=2){var s=Math.floor(r[a]),u=Math.floor(r[a+1]);if(s<-1||s>n||u<-1||u>i)throw new b;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),u===-1?(r[a+1]=0,o=!0):u===i&&(r[a+1]=i-1,o=!0)}},t}(),Jh=function(){function t(e,r,n,i,o,a,s,u,l){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=u,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,a,s,u,l,c,f,d,h,p,x,w){var y=t.quadrilateralToSquare(e,r,n,i,o,a,s,u),v=t.squareToQuadrilateral(l,c,f,d,h,p,x,w);return v.times(y)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,d=0;d<r;d+=2){var h=e[d],p=e[d+1],x=o*h+u*p+f;e[d]=(n*h+a*p+l)/x,e[d+1]=(i*h+s*p+c)/x}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,d=e.length,h=0;h<d;h++){var p=e[h],x=r[h],w=o*p+u*x+f;e[h]=(n*p+a*x+l)/w,r[h]=(i*p+s*x+c)/w}},t.squareToQuadrilateral=function(e,r,n,i,o,a,s,u){var l=e-n+o-s,c=r-i+a-u;if(l===0&&c===0)return new t(n-e,o-n,e,i-r,a-i,r,0,0,1);var f=n-o,d=s-o,h=i-a,p=u-a,x=f*p-d*h,w=(l*p-d*c)/x,y=(f*c-l*h)/x;return new t(n-e+w*n,s-e+y*s,e,i-r+w*i,u-r+y*u,r,w,y,1)},t.quadrilateralToSquare=function(e,r,n,i,o,a,s,u){return t.squareToQuadrilateral(e,r,n,i,o,a,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),n2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i2=function(t){n2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,o,a,s,u,l,c,f,d,h,p,x,w,y,v,m,E){var C=Jh.quadrilateralToQuadrilateral(o,a,s,u,l,c,f,d,h,p,x,w,y,v,m,E);return this.sampleGridWithTransform(r,n,i,C)},e.prototype.sampleGridWithTransform=function(r,n,i,o){if(n<=0||i<=0)throw new b;for(var a=new ir(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var l=s.length,c=u+.5,f=0;f<l;f+=2)s[f]=f/2+.5,s[f+1]=c;o.transformPoints(s),Bf.checkAndNudgePoints(r,s);try{for(var f=0;f<l;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&a.set(f/2,u)}catch{throw new b}}return a},e}(Bf),hc=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new i2,t}(),ct=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new F(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),o2=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new r2(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new b;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,o=0;o<4;o++){var a=n[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,a,s){var u=(o>>r-2<<1)+(o&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(W.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new b},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var o=n-i,a=new Int32Array(n),s=n-1;s>=0;--s)a[s]=e&15,e>>=4;try{var u=new as(vt.AZTEC_PARAM);u.decode(a,o)}catch{throw new b}for(var l=0,s=0;s<i;s++)l=(l<<4)+a[s];return l},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,a,1,-1),u=this.getFirstDifferent(n,a,1,1),l=this.getFirstDifferent(i,a,-1,1),c=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,u,l,c))break}r=s,n=u,i=l,o=c,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new b;this.compact=this.nbCenterLayers===5;var d=new F(r.getX()+.5,r.getY()-.5),h=new F(n.getX()+.5,n.getY()+.5),p=new F(i.getX()-.5,i.getY()+.5),x=new F(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,h,p,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var o=new tl(this.image).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new ct(a+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ct(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ct(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ct(a-7,s-7),!1,-1,-1).toResultPoint()}var u=Q.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=Q.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var o=new tl(this.image,15,u,l).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new ct(u+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ct(u+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ct(u-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ct(u-7,l-7),!1,-1,-1).toResultPoint()}return u=Q.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=Q.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new ct(u,l)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,o){var a=hc.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,u,u,l,u,l,l,u,l,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,o=this.distanceResultPoint(e,r),a=o/n,s=e.getX(),u=e.getY(),l=a*(r.getX()-e.getX())/o,c=a*(r.getY()-e.getY())/o,f=0;f<n;f++)this.image.get(Q.round(s+f*l),Q.round(u+f*c))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var o=3;e=new ct(e.getX()-o,e.getY()+o),r=new ct(r.getX()-o,r.getY()-o),n=new ct(n.getX()+o,n.getY()-o),i=new ct(i.getX()+o,i.getY()+o);var a=this.getColor(i,e);if(a===0)return!1;var s=this.getColor(e,r);return s!==a||(s=this.getColor(r,n),s!==a)?!1:(s=this.getColor(n,i),s===a)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,a=0,s=e.getX(),u=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),f=0;f<c;f++)s+=i,u+=o,this.image.get(Q.round(s),Q.round(u))!==l&&a++;var d=a/n;return d>.1&&d<.9?0:d<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var o=e.getX()+n,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n,a+=i;for(o-=n,a-=i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===r;)a+=i;return a-=i,new ct(o,a)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,l=new F(s+i*o,u+i*a),c=new F(s-i*o,u-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var f=new F(s+i*o,u+i*a),d=new F(s-i*o,u-i*a),h=[l,f,c,d];return h},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Q.round(e.getX()),n=Q.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Q.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Q.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(W.truncDivision(this.nbLayers-4,8)+1)+15},t}(),ka=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new o2(e.getBlackMatrix()),o=null,a=null;try{var s=i.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new Lf().decode(s)}catch(f){n=f}if(a==null)try{var s=i.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new Lf().decode(s)}catch(f){throw n??f}var u=new tt(a.getText(),a.getRawBytes(),a.getNumBits(),o,U.AZTEC,le.currentTimeMillis()),l=a.getByteSegments();l!=null&&u.putMetadata(We.BYTE_SEGMENTS,l);var c=a.getECLevel();return c!=null&&u.putMetadata(We.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(ce.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,o,a){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),a2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){a2(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ka,r)||this}return e})(ui);var Le=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(ce.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,r),a=o.getResultMetadata(),s=270;a!==null&&a.get(We.ORIENTATION)===!0&&(s=s+a.get(We.ORIENTATION)%360),o.putMetadata(We.ORIENTATION,s);var u=o.getResultPoints();if(u!==null)for(var l=i.getHeight(),c=0;c<u.length;c++)u[c]=new F(l-u[c].getY()-1,u[c].getX());return o}else throw new b}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),o=new $e(n),a=r&&r.get(ce.TRY_HARDER)===!0,s=Math.max(1,i>>(a?8:5)),u;a?u=i:u=15;for(var l=Math.trunc(i/2),c=0;c<u;c++){var f=Math.trunc((c+1)/2),d=(c&1)===0,h=l+s*(d?f:-f);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch{continue}for(var p=function(v){if(v===1&&(o.reverse(),r&&r.get(ce.NEED_RESULT_POINT_CALLBACK)===!0)){var m=new Map;r.forEach(function(S,A){return m.set(A,S)}),m.delete(ce.NEED_RESULT_POINT_CALLBACK),r=m}try{var E=x.decodeRow(h,o,r);if(v===1){E.putMetadata(We.ORIENTATION,180);var C=E.getResultPoints();C!==null&&(C[0]=new F(n-C[0].getX()-1,C[0].getY()),C[1]=new F(n-C[1].getX()-1,C[1].getY()))}return{value:E}}catch{}},x=this,w=0;w<2;w++){var y=p(w);if(typeof y=="object")return y.value}}throw new b},t.recordPattern=function(e,r,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var a=e.getSize();if(r>=a)throw new b;for(var s=!e.get(r),u=0,l=r;l<a;){if(e.get(l)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}l++}if(!(u===i||u===i-1&&l===a))throw new b},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new b;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return Number.POSITIVE_INFINITY;var u=o/a;n*=u;for(var l=0,c=0;c<i;c++){var f=e[c],d=r[c]*u,h=f>d?f-d:d-f;if(h>n)return Number.POSITIVE_INFINITY;l+=h}return l/o},t}(),s2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ff=function(t){s2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,l=6,c=i;c<n;c++)if(r.get(c)!==u)a[o]++;else{if(o===l-1){for(var f=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=Le.patternMatchVariance(a,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&r.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,d]);s+=a[0]+a[1],a=a.slice(2,a.length),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,u=!u}throw new b},e.decodeCode=function(r,n,i){Le.recordPattern(r,i,n);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],l=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,a=s)}if(a>=0)return a;throw new b},e.prototype.decodeRow=function(r,n,i){var o=i&&i.get(ce.ASSUME_GS1)===!0,a=e.findStartPattern(n),s=a[2],u=0,l=new Uint8Array(20);l[u++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new R}for(var f=!1,d=!1,h="",p=a[0],x=a[1],w=Int32Array.from([0,0,0,0,0,0]),y=0,v=0,m=s,E=0,C=!0,S=!1,A=!1;!f;){var T=d;switch(d=!1,y=v,v=e.decodeCode(n,w,x),l[u++]=v,v!==e.CODE_STOP&&(C=!0),v!==e.CODE_STOP&&(E++,m+=E*v),p=x,x+=w.reduce(function(Zt,M){return Zt+M},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new R}switch(c){case e.CODE_CODE_A:if(v<64)A===S?h+=String.fromCharCode(32+v):h+=String.fromCharCode(32+v+128),A=!1;else if(v<96)A===S?h+=String.fromCharCode(v-64):h+=String.fromCharCode(v+64),A=!1;else switch(v!==e.CODE_STOP&&(C=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!S&&A?(S=!0,A=!1):S&&A?(S=!1,A=!1):A=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(v<96)A===S?h+=String.fromCharCode(32+v):h+=String.fromCharCode(32+v+128),A=!1;else switch(v!==e.CODE_STOP&&(C=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!S&&A?(S=!0,A=!1):S&&A?(S=!1,A=!1):A=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==e.CODE_STOP&&(C=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+="");break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}T&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var D=x-p;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-p)/2),!1))throw new b;if(m-=E*y,m%103!==y)throw new Te;var I=h.length;if(I===0)throw new b;I>0&&C&&(c===e.CODE_CODE_C?h=h.substring(0,I-2):h=h.substring(0,I-1));for(var P=(a[1]+a[0])/2,L=p+D/2,j=l.length,oe=new Uint8Array(j),Ye=0;Ye<j;Ye++)oe[Ye]=l[Ye];var _t=[new F(P,r),new F(L,r)];return new tt(h,oe,0,_t,U.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Le),u2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$s=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jf=function(t){u2(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var o,a,s,u,l=this.counters;l.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,l),f=n.getNextSet(c[1]),d=n.getSize(),h,p;do{e.recordPattern(n,f,l);var x=e.toNarrowWidePattern(l);if(x<0)throw new b;h=e.patternToChar(x),this.decodeRowResult+=h,p=f;try{for(var w=(o=void 0,$s(l)),y=w.next();!y.done;y=w.next()){var v=y.value;f+=v}}catch(j){o={error:j}}finally{try{y&&!y.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var E=$s(l),C=E.next();!C.done;C=E.next()){var v=C.value;m+=v}}catch(j){s={error:j}}finally{try{C&&!C.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}var S=f-p-m;if(f!==d&&S*2<m)throw new b;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,T=0,D=0;D<A;D++)T+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(D));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(T%43))throw new Te;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new b;var I;this.extendedMode?I=e.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;var P=(c[1]+c[0])/2,L=p+m/2;return new tt(I,null,0,[new F(P,r),new F(L,r)],U.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),o=r.getNextSet(0),a=0,s=o,u=!1,l=n.length,c=o;c<i;c++)if(r.get(c)!==u)n[a]++;else{if(a===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,u=!u}throw new b},e.toNarrowWidePattern=function(r){var n,i,o=r.length,a=0,s;do{var u=2147483647;try{for(var l=(n=void 0,$s(r)),c=l.next();!c.done;c=l.next()){var f=c.value;f<u&&f>a&&(u=f)}}catch(x){n={error:x}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}a=u,s=0;for(var d=0,h=0,p=0;p<o;p++){var f=r[p];f>a&&(h|=1<<o-1-p,s++,d+=f)}if(s===3){for(var p=0;p<o&&s>0;p++){var f=r[p];if(f>a&&(s--,f*2>=d))return-1}return h}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new b},e.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=r.charAt(o+1),u="\0";switch(a){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new R;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new R;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new R;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new R;break}i+=u,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Le),l2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uf=function(t){l2(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,u,l=this.findAsteriskPattern(n),c=n.getNextSet(l[1]),f=n.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,p;do{e.recordPattern(n,c,d);var x=this.toPattern(d);if(x<0)throw new b;h=this.patternToChar(x),this.decodeRowResult+=h,p=c;try{for(var w=(o=void 0,Vs(d)),y=w.next();!y.done;y=w.next()){var v=y.value;c+=v}}catch(D){o={error:D}}finally{try{y&&!y.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}c=n.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var E=Vs(d),C=E.next();!C.done;C=E.next()){var v=C.value;m+=v}}catch(D){s={error:D}}finally{try{C&&!C.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(c===f||!n.get(c))throw new b;if(this.decodeRowResult.length<2)throw new b;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var S=this.decodeExtended(this.decodeRowResult),A=(l[1]+l[0])/2,T=p+m/2;return new tt(S,null,0,[new F(A,r),new F(T,r)],U.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,a=i,s=!1,u=o.length,l=0,c=i;c<n;c++)if(r.get(c)!==s)o[l]++;else{if(l===u-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([a,c]);a+=o[0]+o[1],o.copyWithin(0,2,2+l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,s=!s}throw new b},e.prototype.toPattern=function(r){var n,i,o=0;try{for(var a=Vs(r),s=a.next();!s.done;s=a.next()){var u=s.value;o+=u}}catch(p){n={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var l=0,c=r.length,f=0;f<c;f++){var d=Math.round(r[f]*9/o);if(d<1||d>4)return-1;if(f&1)l<<=d;else for(var h=0;h<d;h++)l=l<<1|1}return l},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new b},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a>="a"&&a<="d"){if(o>=n-1)throw new R;var s=r.charAt(o+1),u="\0";switch(a){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new R;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new R;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new R;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new R;break}i+=u,o++}else i+=a}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var o=1,a=0,s=n-1;s>=0;s--)a+=o*e.ALPHABET_STRING.indexOf(r.charAt(s)),++o>i&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[a%47])throw new Te},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Le),c2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$f=function(t){c2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var o,a,s=this.decodeStart(n),u=this.decodeEnd(n),l=new G;e.decodeMiddle(n,s[1],u[0],l);var c=l.toString(),f=null;i!=null&&(f=i.get(ce.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=c.length,h=!1,p=0;try{for(var x=f2(f),w=x.next();!w.done;w=x.next()){var y=w.value;if(d===y){h=!0;break}y>p&&(p=y)}}catch(E){o={error:E}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}if(!h&&d>p&&(h=!0),!h)throw new R;var v=[new F(s[1],r),new F(u[0],r)],m=new tt(c,null,0,v,U.ITF,new Date().getTime());return m},e.decodeMiddle=function(r,n,i,o){var a=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),s.fill(0),u.fill(0);n<i;){Le.recordPattern(r,n,a);for(var l=0;l<5;l++){var c=2*l;s[l]=a[c],u[l]=a[c+1]}var f=e.decodeDigit(s);o.append(f.toString()),f=this.decodeDigit(u),o.append(f.toString()),a.forEach(function(d){n+=d})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!r.get(o);o--)i--;if(i!==0)throw new b},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new b;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof b&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var o=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-o,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var o=i.length,a=new Int32Array(o),s=r.getSize(),u=!1,l=0,c=n;a.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==u)a[l]++;else{if(l===o-1){if(Le.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,f];c+=a[0]+a[1],le.arraycopy(a,2,a,0,l-1),a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,u=!u}throw new b},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],u=Le.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=a):u===n&&(i=-1)}if(i>=0)return i%10;throw new b},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Le),d2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ni=function(t){d2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,o=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,a);var s=i[0];o=i[1];var u=s-(o-s);u>=0&&(n=r.isRange(u,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new R;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new R;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,o){return this.findGuardPattern(r,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,i,o,a){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var u=0,l=n,c=o.length,f=i,d=n;d<s;d++)if(r.get(d)!==f)a[u]++;else{if(u===c-1){if(Le.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,d]);l+=a[0]+a[1];for(var h=a.slice(2,a.length),p=0;p<u-1;p++)a[p]=h[p];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,f=!f}throw new b},e.decodeDigit=function(r,n,i,o){this.recordPattern(r,i,n);for(var a=this.MAX_AVG_VARIANCE,s=-1,u=o.length,l=0;l<u;l++){var c=o[l],f=Le.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,s=l)}if(s>=0)return s;throw new b},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Le),h2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p2=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),u=[new F((n[0]+n[1])/2,e),new F(o,e)],l=new tt(a,null,0,u,U.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=r[1],l=0,c=0;c<5&&u<s;c++){var f=ni.decodeDigit(e,a,u,ni.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var d=(i=void 0,h2(a)),h=d.next();!h.done;h=d.next()){var p=h.value;u+=p}}catch(w){i={error:w}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(l|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new b;var x=this.determineCheckDigit(l);if(t.extensionChecksum(n.toString())!==x)throw new b;return u},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new b},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[We.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return r+i+"."+a},t}(),v2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g2=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),u=[new F((n[0]+n[1])/2,e),new F(o,e)],l=new tt(a,null,0,u,U.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=r[1],l=0,c=0;c<2&&u<s;c++){var f=ni.decodeDigit(e,a,u,ni.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var d=(i=void 0,v2(a)),h=d.next();!h.done;h=d.next()){var p=h.value;u+=p}}catch(x){i={error:x}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(l|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new b;if(parseInt(n.toString())%4!==l)throw new b;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(e)]])},t}(),y2=function(){function t(){}return t.decodeRow=function(e,r,n){var i=ni.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new p2;return o.decodeRow(e,r,i)}catch{var a=new g2;return a.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),x2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Re=function(t){x2(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,i){var o=e.findStartGuardPattern(n),a=i==null?null:i.get(ce.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new F((o[0]+o[1])/2,r);a.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,o,this.decodeRowStringBuffer),l=u.rowOffset,c=u.resultString;if(a!=null){var f=new F(l,r);a.foundPossibleResultPoint(f)}var d=e.decodeEnd(n,l);if(a!=null){var h=new F((d[0]+d[1])/2,r);a.foundPossibleResultPoint(h)}var p=d[1],x=p+(p-d[0]);if(x>=n.getSize()||!n.isRange(p,x,!1))throw new b;var w=c.toString();if(w.length<8)throw new R;if(!e.checkChecksum(w))throw new Te;var y=(o[1]+o[0])/2,v=(d[1]+d[0])/2,m=this.getBarcodeFormat(),E=[new F(y,r),new F(v,r)],C=new tt(w,null,0,E,m,new Date().getTime()),S=0;try{var A=y2.decodeRow(r,n,d[1]);C.putMetadata(We.UPC_EAN_EXTENSION,A.getText()),C.putAllMetadata(A.getResultMetadata()),C.addResultPoints(A.getResultPoints()),S=A.getText().length}catch{}var T=i==null?null:i.get(ce.ALLOWED_EAN_EXTENSIONS);if(T!=null){var D=!1;for(var I in T)if(S.toString()===I){D=!0;break}if(!D)throw new b}return m===U.EAN_13||U.UPC_A,C},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new R;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new R;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(ni),m2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rl=function(t){m2(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],d=0,h=0;h<6&&f<c;h++){var p=Re.decodeDigit(r,l,f,Re.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);try{for(var x=(o=void 0,Vf(l)),w=x.next();!w.done;w=x.next()){var y=w.value;f+=y}}catch(C){o={error:C}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}p>=10&&(d|=1<<5-h)}i=e.determineFirstDigit(i,d);var v=Re.findGuardPattern(r,f,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<6&&f<c;h++){var p=Re.decodeDigit(r,l,f,Re.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(s=void 0,Vf(l)),E=m.next();!E.done;E=m.next()){var y=E.value;f+=y}}catch(A){s={error:A}}finally{try{E&&!E.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return U.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new b},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Re),w2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hf=function(t){w2(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],d=0;d<4&&f<c;d++){var h=Re.decodeDigit(r,l,f,Re.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var p=(o=void 0,zf(l)),x=p.next();!x.done;x=p.next()){var w=x.value;f+=w}}catch(E){o={error:E}}finally{try{x&&!x.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}var y=Re.findGuardPattern(r,f,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var d=0;d<4&&f<c;d++){var h=Re.decodeDigit(r,l,f,Re.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var v=(s=void 0,zf(l)),m=v.next();!m.done;m=v.next()){var w=m.value;f+=w}}catch(S){s={error:S}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return U.EAN_8},e}(Re),_2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gf=function(t){_2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new rl,r}return e.prototype.getBarcodeFormat=function(){return U.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new tt(n.substring(1),null,null,r.getResultPoints(),U.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new b},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Re),E2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wf=function(t){E2(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s=this.decodeMiddleCounters.map(function(w){return w});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=r.getSize(),l=n[1],c=0,f=0;f<6&&l<u;f++){var d=e.decodeDigit(r,s,l,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+d%10);try{for(var h=(o=void 0,A2(s)),p=h.next();!p.done;p=h.next()){var x=p.value;l+=x}}catch(w){o={error:w}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}d>=10&&(c|=1<<5-f)}return e.determineNumSysAndCheckDigit(new G(i),c),l},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Re.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){r.insert(0,"0"+i),r.append("0"+o);return}throw b.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return U.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new G;i.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Re),C2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zs=function(t){C2(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(ce.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(U.EAN_13)>-1&&o.push(new rl),i.indexOf(U.UPC_A)>-1&&o.push(new Gf),i.indexOf(U.EAN_8)>-1&&o.push(new Hf),i.indexOf(U.UPC_E)>-1&&o.push(new Wf)),o.length===0&&(o.push(new rl),o.push(new Gf),o.push(new Hf),o.push(new Wf)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,i){var o,a;try{for(var s=Xf(this.readers),u=s.next();!u.done;u=s.next()){var l=u.value;try{var c=l.decodeRow(r,n,i),f=c.getBarcodeFormat()===U.EAN_13&&c.getText().charAt(0)==="0",d=i==null?null:i.get(ce.POSSIBLE_FORMATS),h=d==null||d.includes(U.UPC_A);if(f&&h){var p=c.getRawBytes(),x=new tt(c.getText().substring(1),p,p?p.length:null,c.getResultPoints(),U.UPC_A);return x.putAllMetadata(c.getResultMetadata()),x}return c}catch{}}}catch(w){o={error:w}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new b},e.prototype.reset=function(){var r,n;try{for(var i=Xf(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;a.reset()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Le),S2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I2=function(t){S2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var o=this.getValidRowData(n);if(!o)throw new b;var a=this.codaBarDecodeRow(o.row);if(!a)throw new b;return new tt(a,null,0,[new F(o.left,r),new F(o.right,r)],U.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var o=n.lastIndexOf(!0);if(o<=i)return null;n=n.slice(i,o+1);for(var a=[],s=n[0],u=1,l=1;l<n.length;l++)n[l]===s?u++:(s=n[l],a.push(u),u=1);return a.push(u),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(u,l){return(u+l)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),a=o.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[a])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Le),O2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qr=function(t){O2(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Le.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new b},e.count=function(r){return Q.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]>o&&(o=n[a],i=a);r[i]++},e.decrement=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]<o&&(o=n[a],i=a);r[i]--},e.isFinderPattern=function(r){var n,i,o=r[0]+r[1],a=o+r[2]+r[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var c=T2(r),f=c.next();!f.done;f=c.next()){var d=f.value;d>l&&(l=d),d<u&&(u=d)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Le),Ma=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),e1=function(){function t(e,r,n,i,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new F(n,o)),this.resultPoints.push(new F(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),b2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fn=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,a=0;try{for(var s=b2(e),u=s.next();!u.done;u=s.next()){var l=u.value;a+=l}}catch(v){i={error:v}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var c=0,f=0,d=e.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<e[h];p++,f&=~(1<<h)){var x=t.combins(a-p-1,d-h-2);if(n&&f===0&&a-p-(d-h-1)>=d-h-1&&(x-=t.combins(a-p-(d-h),d-h-2)),d-h-1>1){for(var w=0,y=a-p-(d-h-2);y>r;y--)w+=t.combins(a-p-y-1,d-h-3);x-=w*(d-1-h)}else a-p>r&&x--;c+=x}a-=p}return c},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var o=1,a=1,s=e;s>n;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},t}(),N2=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new $e(n),o=0,a=e[0],s=a.getRightChar().getValue(),u=11;u>=0;--u)s&1<<u&&i.set(o),o++;for(var u=1;u<e.length;++u){for(var l=e[u],c=l.getLeftChar().getValue(),f=11;f>=0;--f)c&1<<f&&i.set(o),o++;if(l.getRightChar()!==null)for(var d=l.getRightChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(o),o++}return i},t}(),Xr=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),pc=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),D2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jt=function(t){D2(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(pc),R2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kr=function(t){R2(e,t);function e(r,n,i){var o=t.call(this,r)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(pc),P2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mn=function(t){P2(e,t);function e(r,n,i){var o=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new R;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(pc),Fo=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k2=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,o,a,s,u,l;if(!e)return null;if(e.length<2)throw new b;var c=e.substring(0,2);try{for(var f=Fo(t.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===c)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}}catch(S){r={error:S}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new b;var p=e.substring(0,3);try{for(var x=Fo(t.THREE_DIGIT_DATA_LENGTH),w=x.next();!w.done;w=x.next()){var h=w.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}}catch(S){i={error:S}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}try{for(var y=Fo(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=y.next();!v.done;v=y.next()){var h=v.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(e.length<4)throw new b;var m=e.substring(0,4);try{for(var E=Fo(t.FOUR_DIGIT_DATA_LENGTH),C=E.next();!C.done;C=E.next()){var h=C.value;if(h[0]===m)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(S){u={error:S}}finally{try{C&&!C.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}throw new b},t.processFixedAI=function(e,r,n){if(n.length<e)throw new b;var i=n.substring(0,e);if(n.length<e+r)throw new b;var o=n.substring(e,e+r),a=n.substring(e+r),s="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(a);return u==null?s:s+u},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var a=n.substring(e,o),s=n.substring(o),u="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(s);return l==null?u:u+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),aa=function(){function t(e){this.buffer=new G,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var o=this.decodeGeneralPurposeField(n,i),a=k2.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),r-1,mn.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new mn(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,o=0;o<n;++o)e.get(r+o)&&(i|=1<<n-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Kr(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Kr(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Kr(this.current.getPosition(),this.buffer.toString()):r=new Kr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Xr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Kr(this.current.getPosition(),this.buffer.toString());return new Xr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xr(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Kr(this.current.getPosition(),this.buffer.toString());return new Xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xr(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Kr(this.current.getPosition(),this.buffer.toString());return new Xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xr(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new jt(e+5,jt.FNC1);if(r>=5&&r<15)return new jt(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new jt(e+7,""+(n+1));if(n>=90&&n<116)return new jt(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new R}return new jt(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new jt(e+5,jt.FNC1);if(r>=5&&r<15)return new jt(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new jt(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new vo("Decoding invalid alphanumeric value: "+n)}return new jt(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),t1=function(){function t(e){this.information=e,this.generalDecoder=new aa(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),M2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gt=function(t){M2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,o=0;o<13;o++){var a=r.charAt(o+n).charCodeAt(0)-48;i+=o&1?a:3*a}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(t1),L2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B2=function(t){L2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new G;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Gt),F2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j2=function(t){F2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new G;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(t1),U2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sa=function(t){U2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,o);for(var a=this.checkWeight(o),s=1e5,u=0;u<5;++u)a/s===0&&r.append("0"),s/=10;r.append(a)},e}(Gt),$2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r1=function(t){$2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+sa.GTIN_SIZE+e.WEIGHT_SIZE)throw new b;var r=new G;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+sa.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(sa),V2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),z2=function(t){V2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(r1),H2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G2=function(t){H2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(r1),W2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X2=function(t){W2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Gt.GTIN_SIZE)throw new b;var r=new G;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gt.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Gt.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Gt),K2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y2=function(t){K2(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Gt.GTIN_SIZE)throw new b;var r=new G;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gt.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gt.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Gt.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Gt),Z2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xr=function(t){Z2(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new b;var r=new G;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=i%32;i/=32;var a=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(sa);function q2(t){try{if(t.get(1))return new B2(t);if(!t.get(2))return new j2(t);var e=aa.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new z2(t);case 5:return new G2(t)}var r=aa.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new X2(t);case 13:return new Y2(t)}var n=aa.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new xr(t,"310","11");case 57:return new xr(t,"320","11");case 58:return new xr(t,"310","13");case 59:return new xr(t,"320","13");case 60:return new xr(t,"310","15");case 61:return new xr(t,"320","15");case 62:return new xr(t,"310","17");case 63:return new xr(t,"320","17")}}catch(i){throw console.log(i),new vo("unknown decoder: "+t)}}var Kf=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Q2=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,o){r.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),J2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mr=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ey=function(t){J2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof b){if(!this.pairs.length)throw new b;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new b},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,o,a=n;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var u=(i=void 0,mr(r)),l=u.next();!l.done;l=u.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,a+1)}catch(d){console.log(d)}}}throw new b},e.isValidSequence=function(r){var n,i;try{for(var o=mr(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(r.length>s.length)){for(var u=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!==s[l]){u=!1;break}if(u)return!0}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Q2(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,o,a,s,u,l;try{for(var c=mr(n),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.getPairs().length!==r.length){var h=!0;try{for(var p=(a=void 0,mr(d.getPairs())),x=p.next();!x.done;x=p.next()){var w=x.value,y=!1;try{for(var v=(u=void 0,mr(r)),m=v.next();!m.done;m=v.next()){var E=m.value;if(Kf.equals(w,E)){y=!0;break}}}catch(C){u={error:C}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(u)throw u.error}}y||(h=!1)}}catch(C){a={error:C}}finally{try{x&&!x.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}}catch(C){i={error:C}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,o,a,s,u,l;try{for(var c=mr(n),f=c.next();!f.done;f=c.next()){var d=f.value,h=!0;try{for(var p=(a=void 0,mr(r)),x=p.next();!x.done;x=p.next()){var w=x.value,y=!1;try{for(var v=(u=void 0,mr(d.getPairs())),m=v.next();!m.done;m=v.next()){var E=m.value;if(w.equals(E)){y=!0;break}}}catch(C){u={error:C}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(u)throw u.error}}if(!y){h=!1;break}}}catch(C){a={error:C}}finally{try{x&&!x.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}if(h)return!0}}catch(C){i={error:C}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=N2.buildBitArray(r),i=q2(n),o=i.parseInformation(),a=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),u=[a[0],a[1],s[0],s[1]];return new tt(o,null,null,u,U.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);o+=u.getLeftChar().getChecksumPortion(),a++;var l=u.getRightChar();l!=null&&(o+=l.getChecksumPortion(),a++)}o%=211;var c=211*(a-4)+o;return c===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var o=n.length%2===0;this.startFromEven&&(o=!o);var a,s=!0,u=-1;do this.findNextPair(r,n,u),a=this.parseFoundFinderPattern(r,i,o),a===null?u=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var l=this.decodeDataCharacter(r,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new b;var c;try{c=this.decodeDataCharacter(r,a,o,!1)}catch(f){c=null,console.log(f)}return new Kf(l,c,a,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var l=n.length%2!==0;this.startFromEven&&(l=!l);for(var c=!1;s<a&&(c=!r.get(s),!!c);)s++;for(var f=0,d=s,h=s;h<a;h++)if(r.get(h)!==c)o[f]++;else{if(f===3){if(l&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=d,this.startEnd[1]=h;return}l&&e.reverseCounters(o),d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,c=!c}throw new b},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var o=r[i];r[i]=r[n-i-1],r[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,i){var o,a,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!r.get(u);)u--;u++,o=this.startEnd[0]-u,a=u,s=this.startEnd[1]}else a=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var l=this.getDecodeFinderCounters();le.arraycopy(l,0,l,1,l.length-1),l[0]=o;var c;try{c=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch{return null}return new e1(c,[a,s],a,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],a);else{e.recordPattern(r,n.getStartEnd()[1],a);for(var u=0,l=a.length-1;u<l;u++,l--){var c=a[u];a[u]=a[l],a[l]=c}}var f=17,d=Q.sum(new Int32Array(a))/f,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new b;for(var p=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var v=1*a[u]/d,m=v+.5;if(m<1){if(v<.3)throw new b;m=1}else if(m>8){if(v>8.7)throw new b;m=8}var E=u/2;u&1?(x[E]=m,y[E]=v-m):(p[E]=m,w[E]=v-m)}this.adjustOddEvenCounts(f);for(var C=4*n.getValue()+(i?0:2)+(o?0:1)-1,S=0,A=0,u=p.length-1;u>=0;u--){if(e.isNotA1left(n,i,o)){var T=e.WEIGHTS[C][2*u];A+=p[u]*T}S+=p[u]}for(var D=0,u=x.length-1;u>=0;u--)if(e.isNotA1left(n,i,o)){var T=e.WEIGHTS[C][2*u+1];D+=x[u]*T}var I=A+D;if(S&1||S>13||S<4)throw new b;var P=(13-S)/2,L=e.SYMBOL_WIDEST[P],j=9-L,oe=Fn.getRSSvalue(p,L,!0),Ye=Fn.getRSSvalue(x,j,!1),_t=e.EVEN_TOTAL_SUBSET[P],Zt=e.GSUM[P],M=oe*_t+Ye+Zt;return new Ma(M,I)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Q.sum(new Int32Array(this.getOddCounts())),i=Q.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var l=n+i-r,c=(n&1)===1,f=(i&1)===0;if(l===1)if(c){if(f)throw new b;a=!0}else{if(!f)throw new b;u=!0}else if(l===-1)if(c){if(f)throw new b;o=!0}else{if(!f)throw new b;s=!0}else if(l===0){if(c){if(!f)throw new b;n<i?(o=!0,u=!0):(a=!0,s=!0)}else if(f)throw new b}else throw new b;if(o){if(a)throw new b;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new b;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Qr),ty=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ry=function(t){ty(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Ma),ny=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=function(t){ny(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,u,l=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var f=Hs(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(s=void 0,Hs(this.possibleRightPairs)),x=p.next();!x.done;x=p.next()){var w=x.value;if(w.getCount()>1&&e.checkChecksum(h,w))return e.constructResult(h,w)}}catch(y){s={error:y}}finally{try{x&&!x.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}}}catch(y){o={error:y}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}throw new b},e.addOrTally=function(r,n){var i,o;if(n!=null){var a=!1;try{for(var s=Hs(r),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.getValue()===n.getValue()){l.incrementCount(),a=!0;break}}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),o=new String(i).toString(),a=new G,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var u=0,s=0;s<13;s++){var l=a.charAt(s).charCodeAt(0)-48;u+=s&1?l:3*l}u=10-u%10,u===10&&(u=0),a.append(u.toString());var c=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new tt(a.toString(),null,0,[c[0],c[1],f[0],f[1]],U.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(r,n,i,o){try{var a=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,a),u=o==null?null:o.get(ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){var l=(a[0]+a[1])/2;n&&(l=r.getSize()-1-l),u.foundPossibleResultPoint(new F(l,i))}var c=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new ry(1597*c.getValue()+f.getValue(),c.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)Le.recordPatternInReverse(r,n.getStartEnd()[0],o);else{Le.recordPattern(r,n.getStartEnd()[1]+1,o);for(var s=0,u=o.length-1;s<u;s++,u--){var l=o[s];o[s]=o[u],o[u]=l}}for(var c=i?16:15,f=Q.sum(new Int32Array(o))/c,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var w=o[s]/f,y=Math.floor(w+.5);y<1?y=1:y>8&&(y=8);var v=Math.floor(s/2);s&1?(h[v]=y,x[v]=w-y):(d[v]=y,p[v]=w-y)}this.adjustOddEvenCounts(i,c);for(var m=0,E=0,s=d.length-1;s>=0;s--)E*=9,E+=d[s],m+=d[s];for(var C=0,S=0,s=h.length-1;s>=0;s--)C*=9,C+=h[s],S+=h[s];var A=E+3*C;if(i){if(m&1||m>12||m<4)throw new b;var T=(12-m)/2,D=e.OUTSIDE_ODD_WIDEST[T],I=9-D,P=Fn.getRSSvalue(d,D,!1),L=Fn.getRSSvalue(h,I,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[T],oe=e.OUTSIDE_GSUM[T];return new Ma(P*j+L+oe,A)}else{if(S&1||S>10||S<4)throw new b;var T=(10-S)/2,D=e.INSIDE_ODD_WIDEST[T],I=9-D,P=Fn.getRSSvalue(d,D,!0),L=Fn.getRSSvalue(h,I,!1),Ye=e.INSIDE_ODD_TOTAL_SUBSET[T],oe=e.INSIDE_GSUM[T];return new Ma(L*Ye+P+oe,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=r.getSize(),a=!1,s=0;s<o&&(a=!r.get(s),n!==a);)s++;for(var u=0,l=s,c=s;c<o;c++)if(r.get(c)!==a)i[u]++;else{if(u===3){if(Qr.isFinderPattern(i))return[l,c];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,a=!a}throw new b},e.prototype.parseFoundFinderPattern=function(r,n,i,o){for(var a=r.get(o[0]),s=o[0]-1;s>=0&&a!==r.get(s);)s--;s++;var u=o[0]-s,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);le.arraycopy(l,0,c,1,l.length-1),c[0]=u;var f=this.parseFinderValue(c,e.FINDER_PATTERNS),d=s,h=o[1];return i&&(d=r.getSize()-1-d,h=r.getSize()-1-h),new e1(f,[s,o[1]],d,h,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Q.sum(new Int32Array(this.getOddCounts())),o=Q.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,u=!1,l=!1;r?(i>12?s=!0:i<4&&(a=!0),o>12?l=!0:o<4&&(u=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?l=!0:o<4&&(u=!0));var c=i+o-n,f=(i&1)===(r?1:0),d=(o&1)===1;if(c===1)if(f){if(d)throw new b;s=!0}else{if(!d)throw new b;l=!0}else if(c===-1)if(f){if(d)throw new b;a=!0}else{if(!d)throw new b;u=!0}else if(c===0){if(f){if(!d)throw new b;i<o?(a=!0,l=!0):(s=!0,u=!0)}else if(d)throw new b}else throw new b;if(a){if(s)throw new b;Qr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Qr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(l)throw new b;Qr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&Qr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Qr),iy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jn=function(t){iy(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(ce.POSSIBLE_FORMATS):null,o=r&&r.get(ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=r&&r.get(ce.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(U.EAN_13)||i.includes(U.UPC_A)||i.includes(U.EAN_8)||i.includes(U.UPC_E))&&n.readers.push(new zs(r)),i.includes(U.CODE_39)&&n.readers.push(new jf(o,a)),i.includes(U.CODE_93)&&n.readers.push(new Uf),i.includes(U.CODE_128)&&n.readers.push(new Ff),i.includes(U.ITF)&&n.readers.push(new $f),i.includes(U.CODABAR)&&n.readers.push(new I2),i.includes(U.RSS_14)&&n.readers.push(new Yf),i.includes(U.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new ey))),n.readers.length===0&&(n.readers.push(new zs(r)),n.readers.push(new jf),n.readers.push(new Uf),n.readers.push(new zs(r)),n.readers.push(new Ff),n.readers.push(new $f),n.readers.push(new Yf)),n}return e.prototype.decodeRow=function(r,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,i)}catch{}throw new b},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Le),oy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){oy(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new jn(n),r,n)||this}return e})(ui);var Zf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),J=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),ay=function(){function t(e,r,n,i,o,a){var s,u;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var l=0,c=a.getECCodewords(),f=a.getECBlocks();try{for(var d=Zf(f),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p.getCount()*(p.getDataCodewords()+c)}}catch(x){s={error:x}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new R;try{for(var o=Zf(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new R},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new te(5,new J(1,3))),new t(2,12,12,10,10,new te(7,new J(1,5))),new t(3,14,14,12,12,new te(10,new J(1,8))),new t(4,16,16,14,14,new te(12,new J(1,12))),new t(5,18,18,16,16,new te(14,new J(1,18))),new t(6,20,20,18,18,new te(18,new J(1,22))),new t(7,22,22,20,20,new te(20,new J(1,30))),new t(8,24,24,22,22,new te(24,new J(1,36))),new t(9,26,26,24,24,new te(28,new J(1,44))),new t(10,32,32,14,14,new te(36,new J(1,62))),new t(11,36,36,16,16,new te(42,new J(1,86))),new t(12,40,40,18,18,new te(48,new J(1,114))),new t(13,44,44,20,20,new te(56,new J(1,144))),new t(14,48,48,22,22,new te(68,new J(1,174))),new t(15,52,52,24,24,new te(42,new J(2,102))),new t(16,64,64,14,14,new te(56,new J(2,140))),new t(17,72,72,16,16,new te(36,new J(4,92))),new t(18,80,80,18,18,new te(48,new J(4,114))),new t(19,88,88,20,20,new te(56,new J(4,144))),new t(20,96,96,22,22,new te(68,new J(4,174))),new t(21,104,104,24,24,new te(56,new J(6,136))),new t(22,120,120,18,18,new te(68,new J(6,175))),new t(23,132,132,20,20,new te(62,new J(8,163))),new t(24,144,144,22,22,new te(62,new J(8,156),new J(2,155))),new t(25,8,18,6,16,new te(7,new J(1,5))),new t(26,8,32,6,14,new te(11,new J(1,10))),new t(27,12,26,10,24,new te(14,new J(1,16))),new t(28,12,36,10,16,new te(18,new J(1,22))),new t(29,16,36,14,16,new te(24,new J(1,32))),new t(30,16,48,14,22,new te(28,new J(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),sy=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new R;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ir(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return ay.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,u=!1,l=!1,c=!1;do if(n===o&&i===0&&!s)e[r++]=this.readCorner1(o,a)&255,n-=2,i+=2,s=!0;else if(n===o-2&&i===0&&a&3&&!u)e[r++]=this.readCorner2(o,a)&255,n-=2,i+=2,u=!0;else if(n===o+4&&i===2&&!(a&7)&&!l)e[r++]=this.readCorner3(o,a)&255,n-=2,i+=2,l=!0;else if(n===o-2&&i===0&&(a&7)===4&&!c)e[r++]=this.readCorner4(o,a)&255,n-=2,i+=2,c=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<a);if(r!==this.version.getTotalCodewords())throw new R;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var o=0;return this.readModule(e-2,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r,n,i)&&(o|=1),o<<=1,this.readModule(e,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e,r,n,i)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new $("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=r/i|0,s=n/o|0,u=a*i,l=s*o,c=new ir(l,u),f=0;f<a;++f)for(var d=f*i,h=0;h<s;++h)for(var p=h*o,x=0;x<i;++x)for(var w=f*(i+2)+1+x,y=d+x,v=0;v<o;++v){var m=h*(o+2)+1+v;if(e.get(m,w)){var E=p+v;c.set(E,y)}}return c},t}(),qf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uy=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,o,a,s=r.getECBlocks(),u=0,l=s.getECBlocks();try{for(var c=qf(l),f=c.next();!f.done;f=c.next()){var d=f.value;u+=d.getCount()}}catch(oe){n={error:oe}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var h=new Array(u),p=0;try{for(var x=qf(l),w=x.next();!w.done;w=x.next())for(var d=w.value,y=0;y<d.getCount();y++){var v=d.getDataCodewords(),m=s.getECCodewords()+v;h[p++]=new t(v,new Uint8Array(m))}}catch(oe){o={error:oe}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}for(var E=h[0].codewords.length,C=E-s.getECCodewords(),S=C-1,A=0,y=0;y<S;y++)for(var T=0;T<p;T++)h[T].codewords[y]=e[A++];for(var D=r.getVersionNumber()===24,I=D?8:p,T=0;T<I;T++)h[T].codewords[C-1]=e[A++];for(var P=h[0].codewords.length,y=C;y<P;y++)for(var T=0;T<p;T++){var L=D?(T+8)%p:T,j=D&&L>7?y-1:y;h[L].codewords[j]=e[A++]}if(A!==e.length)throw new $;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),n1=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new $(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var a=8-n,s=e<a?e:a,u=a-s,l=255>>8-s<<u;r=(o[i]&l)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|o[i]&255,i++,e-=8;if(e>0){var u=8-e,l=255>>u<<u;r=r<<e|(o[i]&l)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),be;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(be||(be={}));var ly=function(){function t(){}return t.decode=function(e){var r=new n1(e),n=new G,i=new G,o=new Array,a=be.ASCII_ENCODE;do if(a===be.ASCII_ENCODE)a=this.decodeAsciiSegment(r,n,i);else{switch(a){case be.C40_ENCODE:this.decodeC40Segment(r,n);break;case be.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case be.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case be.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case be.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new R}a=be.ASCII_ENCODE}while(a!==be.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new os(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new R;if(o<=128)return i&&(o+=128),r.append(String.fromCharCode(o-1)),be.ASCII_ENCODE;if(o===129)return be.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&r.append("0"),r.append(""+a)}else switch(o){case 230:return be.C40_ENCODE;case 231:return be.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return be.ANSIX12_ENCODE;case 239:return be.TEXT_ENCODE;case 240:return be.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new R;break}}while(e.available()>0);return be.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new R;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new R}o=0;break;case 3:n?(r.append(String.fromCharCode(u+224)),n=!1):r.append(String.fromCharCode(u+96)),o=0;break;default:throw new R}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new R;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new R}o=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),o=0}else throw new R;break;default:throw new R}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var a=n[o];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new R;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new R;for(var s=new Uint8Array(a),u=0;u<a;u++){if(e.available()<8)throw new R;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(kt.decode(s,Y.ISO88591))}catch(l){throw new vo("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),cy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fy=function(){function t(){this.rsDecoder=new as(vt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new sy(e),o=i.getVersion(),a=i.readCodewords(),s=uy.getDataBlocks(a,o),u=0;try{for(var l=cy(s),c=l.next();!c.done;c=l.next()){var f=c.value;u+=f.getNumDataCodewords()}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=new Uint8Array(u),h=s.length,p=0;p<h;p++){var x=s[p],w=x.getCodewords(),y=x.getNumDataCodewords();this.correctErrors(w,y);for(var v=0;v<y;v++)d[v*h+p]=w[v]}return ly.decode(d)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Te}for(var i=0;i<r;i++)e[i]=n[i]},t}(),dy=function(){function t(e){this.image=e,this.rectangleDetector=new tl(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new b;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],o=r[2],a=r[3],s=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var l=t.sampleGrid(this.image,n,i,o,a,s,u);return new dc(l,[n,i,o,a])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new F(e.getX()+i,e.getY()+o)},t.moveAway=function(e,r,n){var i=e.getX(),o=e.getY();return i<r?i-=1:i+=1,o<n?o-=1:o+=1,new F(i,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],o=e[2],a=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,o),l=this.transitionsBetween(o,r),c=a,f=[o,r,n,i];return c>s&&(c=s,f[0]=r,f[1]=n,f[2]=i,f[3]=o),c>u&&(c=u,f[0]=n,f[1]=i,f[2]=o,f[3]=r),c>l&&(f[0]=i,f[1]=o,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=t.shiftPoint(n,i,(a+1)*4),u=t.shiftPoint(i,n,(a+1)*4),l=this.transitionsBetween(s,r),c=this.transitionsBetween(u,o);return l<c?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=this.transitionsBetween(n,o),u=t.shiftPoint(r,n,(s+1)*4),l=t.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(u,o),s=this.transitionsBetween(l,o);var c=new F(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),f=new F(o.getX()+(r.getX()-n.getX())/(s+1),o.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(f)?f:null;if(!this.isValid(f))return c;var d=this.transitionsBetween(u,c)+this.transitionsBetween(l,c),h=this.transitionsBetween(u,f)+this.transitionsBetween(l,f);return d>h?c:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(i,o)+1,u=t.shiftPoint(r,n,s*4),l=t.shiftPoint(i,n,a*4);a=this.transitionsBetween(u,o)+1,s=this.transitionsBetween(l,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var c=(r.getX()+n.getX()+i.getX()+o.getX())/4,f=(r.getY()+n.getY()+i.getY()+o.getY())/4;r=t.moveAway(r,c,f),n=t.moveAway(n,c,f),i=t.moveAway(i,c,f),o=t.moveAway(o,c,f);var d,h;return u=t.shiftPoint(r,n,s*4),u=t.shiftPoint(u,o,a*4),d=t.shiftPoint(n,r,s*4),d=t.shiftPoint(d,i,a*4),l=t.shiftPoint(i,o,s*4),l=t.shiftPoint(l,n,a*4),h=t.shiftPoint(o,i,s*4),h=t.shiftPoint(h,r,a*4),[u,d,l,h]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,o,a,s){var u=hc.getInstance();return u.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(r.getX()),a=Math.trunc(r.getY()),s=Math.abs(a-i)>Math.abs(o-n);if(s){var u=n;n=i,i=u,u=o,o=a,a=u}for(var l=Math.abs(o-n),c=Math.abs(a-i),f=-l/2,d=i<a?1:-1,h=n<o?1:-1,p=0,x=this.image.get(s?i:n,s?n:i),w=n,y=i;w!==o;w+=h){var v=this.image.get(s?y:w,s?w:y);if(v!==x&&(p++,x=v),f+=c,f>0){if(y===a)break;y+=d,f-=l}}return p},t}(),La=function(){function t(){this.decoder=new fy}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(ce.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new dy(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),u=new tt(n.getText(),s,8*s.length,i,U.DATA_MATRIX,le.currentTimeMillis()),l=n.getByteSegments();l!=null&&u.putMetadata(We.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!=null&&u.putMetadata(We.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new b;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],u=n[0],l=(u-s+1)/i,c=(a-o+1)/i;if(l<=0||c<=0)throw new b;var f=i/2;o+=f,s+=f;for(var d=new ir(l,c),h=0;h<c;h++)for(var p=o+h*i,x=0;x<l;x++)e.get(s+x*i,p)&&d.set(x,h);return d},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],o=e[1];i<n&&r.get(i,o);)i++;if(i===n)throw new b;var a=i-e[0];if(a===0)throw new b;return a},t.NO_POINTS=[],t}(),hy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){hy(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new La,r)||this}return e})(ui);var Un;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Un||(Un={}));var py=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ce(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new $;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Un.L,"L",1),t.M=new t(Un.M,"M",0),t.Q=new t(Un.Q,"Q",3),t.H=new t(Un.H,"H",2),t}(),vy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i1=function(){function t(e){this.errorCorrectionLevel=py.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return W.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=vy(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var l=u.value,c=l[0];if(c===e||c===r)return new t(l[1]);var f=t.numBitsDiffering(e,c);f<o&&(a=l[1],o=f),e!==r&&(f=t.numBitsDiffering(r,c),f<o&&(a=l[1],o=f))}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),gy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var o=gy(i),a=o.next();!a.done;a=o.next()){var s=a.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),_=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),yy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},un=function(){function t(e,r){for(var n,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var s=0,u=o[0].getECCodewordsPerBlock(),l=o[0].getECBlocks();try{for(var c=yy(l),f=c.next();!f.done;f=c.next()){var d=f.value;s+=d.getCount()*(d.getDataCodewords()+u)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new R;try{return this.getVersionForNumber((e-17)/4)}catch{throw new R}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new $;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=i1.numBitsDiffering(e,o);a<r&&(n=i+7,r=a)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ir(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new O(7,new _(1,19)),new O(10,new _(1,16)),new O(13,new _(1,13)),new O(17,new _(1,9))),new t(2,Int32Array.from([6,18]),new O(10,new _(1,34)),new O(16,new _(1,28)),new O(22,new _(1,22)),new O(28,new _(1,16))),new t(3,Int32Array.from([6,22]),new O(15,new _(1,55)),new O(26,new _(1,44)),new O(18,new _(2,17)),new O(22,new _(2,13))),new t(4,Int32Array.from([6,26]),new O(20,new _(1,80)),new O(18,new _(2,32)),new O(26,new _(2,24)),new O(16,new _(4,9))),new t(5,Int32Array.from([6,30]),new O(26,new _(1,108)),new O(24,new _(2,43)),new O(18,new _(2,15),new _(2,16)),new O(22,new _(2,11),new _(2,12))),new t(6,Int32Array.from([6,34]),new O(18,new _(2,68)),new O(16,new _(4,27)),new O(24,new _(4,19)),new O(28,new _(4,15))),new t(7,Int32Array.from([6,22,38]),new O(20,new _(2,78)),new O(18,new _(4,31)),new O(18,new _(2,14),new _(4,15)),new O(26,new _(4,13),new _(1,14))),new t(8,Int32Array.from([6,24,42]),new O(24,new _(2,97)),new O(22,new _(2,38),new _(2,39)),new O(22,new _(4,18),new _(2,19)),new O(26,new _(4,14),new _(2,15))),new t(9,Int32Array.from([6,26,46]),new O(30,new _(2,116)),new O(22,new _(3,36),new _(2,37)),new O(20,new _(4,16),new _(4,17)),new O(24,new _(4,12),new _(4,13))),new t(10,Int32Array.from([6,28,50]),new O(18,new _(2,68),new _(2,69)),new O(26,new _(4,43),new _(1,44)),new O(24,new _(6,19),new _(2,20)),new O(28,new _(6,15),new _(2,16))),new t(11,Int32Array.from([6,30,54]),new O(20,new _(4,81)),new O(30,new _(1,50),new _(4,51)),new O(28,new _(4,22),new _(4,23)),new O(24,new _(3,12),new _(8,13))),new t(12,Int32Array.from([6,32,58]),new O(24,new _(2,92),new _(2,93)),new O(22,new _(6,36),new _(2,37)),new O(26,new _(4,20),new _(6,21)),new O(28,new _(7,14),new _(4,15))),new t(13,Int32Array.from([6,34,62]),new O(26,new _(4,107)),new O(22,new _(8,37),new _(1,38)),new O(24,new _(8,20),new _(4,21)),new O(22,new _(12,11),new _(4,12))),new t(14,Int32Array.from([6,26,46,66]),new O(30,new _(3,115),new _(1,116)),new O(24,new _(4,40),new _(5,41)),new O(20,new _(11,16),new _(5,17)),new O(24,new _(11,12),new _(5,13))),new t(15,Int32Array.from([6,26,48,70]),new O(22,new _(5,87),new _(1,88)),new O(24,new _(5,41),new _(5,42)),new O(30,new _(5,24),new _(7,25)),new O(24,new _(11,12),new _(7,13))),new t(16,Int32Array.from([6,26,50,74]),new O(24,new _(5,98),new _(1,99)),new O(28,new _(7,45),new _(3,46)),new O(24,new _(15,19),new _(2,20)),new O(30,new _(3,15),new _(13,16))),new t(17,Int32Array.from([6,30,54,78]),new O(28,new _(1,107),new _(5,108)),new O(28,new _(10,46),new _(1,47)),new O(28,new _(1,22),new _(15,23)),new O(28,new _(2,14),new _(17,15))),new t(18,Int32Array.from([6,30,56,82]),new O(30,new _(5,120),new _(1,121)),new O(26,new _(9,43),new _(4,44)),new O(28,new _(17,22),new _(1,23)),new O(28,new _(2,14),new _(19,15))),new t(19,Int32Array.from([6,30,58,86]),new O(28,new _(3,113),new _(4,114)),new O(26,new _(3,44),new _(11,45)),new O(26,new _(17,21),new _(4,22)),new O(26,new _(9,13),new _(16,14))),new t(20,Int32Array.from([6,34,62,90]),new O(28,new _(3,107),new _(5,108)),new O(26,new _(3,41),new _(13,42)),new O(30,new _(15,24),new _(5,25)),new O(28,new _(15,15),new _(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new O(28,new _(4,116),new _(4,117)),new O(26,new _(17,42)),new O(28,new _(17,22),new _(6,23)),new O(30,new _(19,16),new _(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new O(28,new _(2,111),new _(7,112)),new O(28,new _(17,46)),new O(30,new _(7,24),new _(16,25)),new O(24,new _(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new O(30,new _(4,121),new _(5,122)),new O(28,new _(4,47),new _(14,48)),new O(30,new _(11,24),new _(14,25)),new O(30,new _(16,15),new _(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new O(30,new _(6,117),new _(4,118)),new O(28,new _(6,45),new _(14,46)),new O(30,new _(11,24),new _(16,25)),new O(30,new _(30,16),new _(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new O(26,new _(8,106),new _(4,107)),new O(28,new _(8,47),new _(13,48)),new O(30,new _(7,24),new _(22,25)),new O(30,new _(22,15),new _(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new O(28,new _(10,114),new _(2,115)),new O(28,new _(19,46),new _(4,47)),new O(28,new _(28,22),new _(6,23)),new O(30,new _(33,16),new _(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new O(30,new _(8,122),new _(4,123)),new O(28,new _(22,45),new _(3,46)),new O(30,new _(8,23),new _(26,24)),new O(30,new _(12,15),new _(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new O(30,new _(3,117),new _(10,118)),new O(28,new _(3,45),new _(23,46)),new O(30,new _(4,24),new _(31,25)),new O(30,new _(11,15),new _(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new O(30,new _(7,116),new _(7,117)),new O(28,new _(21,45),new _(7,46)),new O(30,new _(1,23),new _(37,24)),new O(30,new _(19,15),new _(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new O(30,new _(5,115),new _(10,116)),new O(28,new _(19,47),new _(10,48)),new O(30,new _(15,24),new _(25,25)),new O(30,new _(23,15),new _(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new O(30,new _(13,115),new _(3,116)),new O(28,new _(2,46),new _(29,47)),new O(30,new _(42,24),new _(1,25)),new O(30,new _(23,15),new _(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new O(30,new _(17,115)),new O(28,new _(10,46),new _(23,47)),new O(30,new _(10,24),new _(35,25)),new O(30,new _(19,15),new _(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new O(30,new _(17,115),new _(1,116)),new O(28,new _(14,46),new _(21,47)),new O(30,new _(29,24),new _(19,25)),new O(30,new _(11,15),new _(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new O(30,new _(13,115),new _(6,116)),new O(28,new _(14,46),new _(23,47)),new O(30,new _(44,24),new _(7,25)),new O(30,new _(59,16),new _(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new O(30,new _(12,121),new _(7,122)),new O(28,new _(12,47),new _(26,48)),new O(30,new _(39,24),new _(14,25)),new O(30,new _(22,15),new _(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new O(30,new _(6,121),new _(14,122)),new O(28,new _(6,47),new _(34,48)),new O(30,new _(46,24),new _(10,25)),new O(30,new _(2,15),new _(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new O(30,new _(17,122),new _(4,123)),new O(28,new _(29,46),new _(14,47)),new O(30,new _(49,24),new _(10,25)),new O(30,new _(24,15),new _(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new O(30,new _(4,122),new _(18,123)),new O(28,new _(13,46),new _(32,47)),new O(30,new _(48,24),new _(14,25)),new O(30,new _(42,15),new _(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new O(30,new _(20,117),new _(4,118)),new O(28,new _(40,47),new _(7,48)),new O(30,new _(43,24),new _(22,25)),new O(30,new _(10,15),new _(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new O(30,new _(19,118),new _(6,119)),new O(28,new _(18,47),new _(31,48)),new O(30,new _(34,24),new _(34,25)),new O(30,new _(20,15),new _(61,16)))],t}(),Be;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Be||(Be={}));var Qf=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Be.DATA_MASK_000,new t(Be.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Be.DATA_MASK_001,new t(Be.DATA_MASK_001,function(e,r){return(e&1)===0})],[Be.DATA_MASK_010,new t(Be.DATA_MASK_010,function(e,r){return r%3===0})],[Be.DATA_MASK_011,new t(Be.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Be.DATA_MASK_100,new t(Be.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Be.DATA_MASK_101,new t(Be.DATA_MASK_101,function(e,r){return e*r%6===0})],[Be.DATA_MASK_110,new t(Be.DATA_MASK_110,function(e,r){return e*r%6<3})],[Be.DATA_MASK_111,new t(Be.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),xy=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new R;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,a=i-7,n=i-1;n>=a;n--)o=this.copyBit(8,n,o);for(var r=i-8;r<i;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=i1.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return un.getVersionForNumber(r);for(var n=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,o,n);var s=un.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(s=un.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new R},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Qf.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=r.buildFunctionPattern(),a=!0,s=new Uint8Array(r.getTotalCodewords()),u=0,l=0,c=0,f=i-1;f>0;f-=2){f===6&&f--;for(var d=0;d<i;d++)for(var h=a?i-1-d:d,p=0;p<2;p++)o.get(f-p,h)||(c++,l<<=1,this.bitMatrix.get(f-p,h)&&(l|=1),c===8&&(s[u++]=l,c=0,l=0));a=!a}if(u!==r.getTotalCodewords())throw new R;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Qf.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,o=e.getHeight();i<o;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),Jf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},my=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,o,a,s;if(e.length!==r.getTotalCodewords())throw new $;var u=r.getECBlocksForLevel(n),l=0,c=u.getECBlocks();try{for(var f=Jf(c),d=f.next();!d.done;d=f.next()){var h=d.value;l+=h.getCount()}}catch(j){i={error:j}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var p=new Array(l),x=0;try{for(var w=Jf(c),y=w.next();!y.done;y=w.next())for(var h=y.value,v=0;v<h.getCount();v++){var m=h.getDataCodewords(),E=u.getECCodewordsPerBlock()+m;p[x++]=new t(m,new Uint8Array(E))}}catch(j){a={error:j}}finally{try{y&&!y.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}for(var C=p[0].codewords.length,S=p.length-1;S>=0;){var A=p[S].codewords.length;if(A===C)break;S--}S++;for(var T=C-u.getECCodewordsPerBlock(),D=0,v=0;v<T;v++)for(var I=0;I<x;I++)p[I].codewords[v]=e[D++];for(var I=S;I<x;I++)p[I].codewords[T]=e[D++];for(var P=p[0].codewords.length,v=T;v<P;v++)for(var I=0;I<x;I++){var L=I<S?v:v+1;p[I].codewords[L]=e[D++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Tt;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Tt||(Tt={}));var he=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new $;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Tt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Tt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Tt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Tt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Tt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Tt.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Tt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Tt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Tt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Tt.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),wy=function(){function t(){}return t.decode=function(e,r,n,i){var o=new n1(e),a=new G,s=new Array,u=-1,l=-1;try{var c=null,f=!1,d=void 0;do{if(o.available()<4)d=he.TERMINATOR;else{var h=o.readBits(4);d=he.forBits(h)}switch(d){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:f=!0;break;case he.STRUCTURED_APPEND:if(o.available()<16)throw new R;u=o.readBits(8),l=o.readBits(8);break;case he.ECI:var p=t.parseECIValue(o);if(c=Pe.getCharacterSetECIByValue(p),c===null)throw new R;break;case he.HANZI:var x=o.readBits(4),w=o.readBits(d.getCharacterCountBits(r));x===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,w);break;default:var y=o.readBits(d.getCharacterCountBits(r));switch(d){case he.NUMERIC:t.decodeNumericSegment(o,a,y);break;case he.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,y,f);break;case he.BYTE:t.decodeByteSegment(o,a,y,c,s,i);break;case he.KANJI:t.decodeKanjiSegment(o,a,y);break;default:throw new R}break}}while(d!==he.TERMINATOR)}catch{throw new R}return new os(e,a.toString(),s.length===0?null:s,n===null?null:n.toString(),u,l)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new R;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,i[o]=s>>8&255,i[o+1]=s&255,o+=2,n--}try{r.append(kt.decode(i,Y.GB2312))}catch(u){throw new R(u)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new R;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{r.append(kt.decode(i,Y.SHIFT_JIS))}catch(u){throw new R(u)}},t.decodeByteSegment=function(e,r,n,i,o,a){if(8*n>e.available())throw new R;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var l;i===null?l=Y.guessEncoding(s,a):l=i.getName();try{r.append(kt.decode(s,l))}catch(c){throw new R(c)}o.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new R;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(e.available()<11)throw new R;var a=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(a/45))),r.append(t.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new R;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new R;var i=e.readBits(10);if(i>=1e3)throw new R;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new R;var o=e.readBits(7);if(o>=100)throw new R;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new R;var a=e.readBits(4);if(a>=10)throw new R;r.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new R},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),o1=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),ed=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_y=function(){function t(){this.rsDecoder=new as(vt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ir.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new xy(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new o1(!0)),o}catch(a){throw i!==null?i:a}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,o,a,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=my.getDataBlocks(l,s,u),f=0;try{for(var d=ed(c),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var x=new Uint8Array(f),w=0;try{for(var y=ed(c),v=y.next();!v.done;v=y.next()){var p=v.value,m=p.getCodewords(),E=p.getNumDataCodewords();this.correctErrors(m,E);for(var C=0;C<E;C++)x[w++]=m[C]}}catch(S){o={error:S}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}return wy.decode(x,s,u,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Te}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Ey=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ay=function(t){Ey(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=(this.getX()+n)/2,a=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(o,a,s)},e}(F),Cy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sy=function(){function t(e,r,n,i,o,a,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,o=this.startY+r/2,a=new Int32Array(3),s=this.image,u=0;u<r;u++){var l=o+(u&1?-Math.floor((u+1)/2):Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var c=e;c<i&&!s.get(c,l);)c++;for(var f=0;c<i;){if(s.get(c,l))if(f===1)a[1]++;else if(f===2){if(this.foundPatternCross(a)){var d=this.handlePossibleCenter(a,l,c);if(d!==null)return d}a[0]=a[2],a[1]=1,a[2]=0,f=1}else a[++f]++;else f===1&&f++,a[f]++;c++}if(this.foundPatternCross(a)){var d=this.handlePossibleCenter(a,l,i);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new b},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&o.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!o.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(r,u)&&s[1]<=n;)s[1]++,u++;if(u===a||s[1]>n)return NaN;for(;u<a&&!o.get(r,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,s,2*e[1],a);if(!isNaN(u)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=Cy(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.aboutEquals(l,u,s))return d.combineEstimate(u,s,l)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}var h=new Ay(s,u,l);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}(),Iy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oy=function(t){Iy(e,t);function e(r,n,i,o){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=this.count+1,a=(this.count*this.getX()+n)/o,s=(this.count*this.getY()+r)/o,u=(this.count*this.estimatedModuleSize+i)/o;return new e(a,s,u,o)},e}(F),Ty=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),wi=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},by=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(ce.TRY_HARDER)!==void 0,n=e!=null&&e.get(ce.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var u=!1,l=new Int32Array(5),c=s-1;c<o&&!u;c+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var f=0,d=0;d<a;d++)if(i.get(d,c))(f&1)===1&&f++,l[f]++;else if(f&1)l[f]++;else if(f===4)if(t.foundPatternCross(l)){var h=this.handlePossibleCenter(l,c,d,n);if(h===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>l[2]&&(c+=p-l[2]-s,d=a-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;continue}f=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;else l[++f]++;if(t.foundPatternCross(l)){var h=this.handlePossibleCenter(l,c,a,n);h===!0&&(s=l[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return F.orderBestPatterns(x),new Ty(x)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var o=r/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&r>=a&&s.get(r-a,e-a);)o[2]++,a++;if(e<a||r<a)return!1;for(;e>=a&&r>=a&&!s.get(r-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||r<a||o[1]>n)return!1;for(;e>=a&&r>=a&&s.get(r-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var u=s.getHeight(),l=s.getWidth();for(a=1;e+a<u&&r+a<l&&s.get(r+a,e+a);)o[2]++,a++;if(e+a>=u||r+a>=l)return!1;for(;e+a<u&&r+a<l&&!s.get(r+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=u||r+a>=l||o[3]>=n)return!1;for(;e+a<u&&r+a<l&&s.get(r+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var c=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(r,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&o.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(r,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(r,u)&&s[3]<n;)s[3]++,u++;if(u===a||s[3]>=n)return NaN;for(;u<a&&o.get(r,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,r);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,r)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&o.get(u,r)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(u,r);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,r)&&s[3]<n;)s[3]++,u++;if(u===a||s[3]>=n)return NaN;for(;u<a&&o.get(u,r)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var u=o/7,l=!1,c=this.possibleCenters,f=0,d=c.length;f<d;f++){var h=c[f];if(h.aboutEquals(u,s,a)){c[f]=h.combineEstimate(s,a,u),l=!0;break}}if(!l){var p=new Oy(a,s,u);c.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=wi(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var u=wi(this.possibleCenters),l=u.next();!l.done;l=u.next()){var c=l.value;c.getCount()>=t.CENTER_QUORUM&&(o++,a+=c.getEstimatedModuleSize())}}catch(x){e={error:x}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}if(o<3)return!1;var f=a/s,d=0;try{for(var h=wi(this.possibleCenters),p=h.next();!p.done;p=h.next()){var c=p.value;d+=Math.abs(c.getEstimatedModuleSize()-f)}}catch(x){n={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return d<=.05*a},t.prototype.selectBestPatterns=function(){var e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new b;var a=this.possibleCenters,s;if(o>3){var u=0,l=0;try{for(var c=wi(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.getEstimatedModuleSize();u+=h,l+=h*h}}catch(C){e={error:C}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}s=u/o;var p=Math.sqrt(l/o-s*s);a.sort(function(C,S){var A=Math.abs(S.getEstimatedModuleSize()-s),T=Math.abs(C.getEstimatedModuleSize()-s);return A<T?-1:A>T?1:0});for(var x=Math.max(.2*s,p),w=0;w<a.length&&a.length>3;w++){var y=a[w];Math.abs(y.getEstimatedModuleSize()-s)>x&&(a.splice(w,1),w--)}}if(a.length>3){var u=0;try{for(var v=wi(a),m=v.next();!m.done;m=v.next()){var E=m.value;u+=E.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}s=u/a.length,a.sort(function(S,A){if(A.getCount()===S.getCount()){var T=Math.abs(A.getEstimatedModuleSize()-s),D=Math.abs(S.getEstimatedModuleSize()-s);return T<D?1:T>D?-1:0}else return A.getCount()-S.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Ny=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ce.NEED_RESULT_POINT_CALLBACK);var r=new by(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new b("No pattern found in proccess finder.");var a=t.computeDimension(r,n,i,o),s=un.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),d=1-3/u,h=Math.floor(r.getX()+d*(c-r.getX())),p=Math.floor(r.getY()+d*(f-r.getY())),x=4;x<=16;x<<=1)try{l=this.findAlignmentInRegion(o,h,p,x);break}catch(m){if(!(m instanceof b))throw m}var w=t.createTransform(r,n,i,l,a),y=t.sampleGrid(this.image,w,a),v;return l===null?v=[i,r,n]:v=[i,r,n,l],new dc(y,v)},t.createTransform=function(e,r,n,i,o){var a=o-3.5,s,u,l,c;return i!==null?(s=i.getX(),u=i.getY(),l=a-3,c=l):(s=r.getX()-e.getX()+n.getX(),u=r.getY()-e.getY()+n.getY(),l=a,c=a),Jh.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,l,c,3.5,a,e.getX(),e.getY(),r.getX(),r.getY(),s,u,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=hc.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var o=Q.round(F.distance(e,r)/i),a=Q.round(F.distance(e,n)/i),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new b("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,i),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(r-(i-r)*a);return a=1,u<0?(a=r/(r-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(u-r),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,r,s,u),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var o=Math.abs(i-r)>Math.abs(n-e);if(o){var a=e;e=r,r=a,a=n,n=i,i=a}for(var s=Math.abs(n-e),u=Math.abs(i-r),l=-s/2,c=e<n?1:-1,f=r<i?1:-1,d=0,h=n+c,p=e,x=r;p!==h;p+=c){var w=o?x:p,y=o?p:x;if(d===1===this.image.get(w,y)){if(d===2)return Q.distance(p,x,e,r);d++}if(l+=u,l>0){if(x===i)break;x+=f,l-=s}}return d===2?Q.distance(n+c,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var o=Math.floor(i*e),a=Math.max(0,r-o),s=Math.min(this.image.getWidth()-1,r+o);if(s-a<e*3)throw new b("Alignment top exceeds estimated module size.");var u=Math.max(0,n-o),l=Math.min(this.image.getHeight()-1,n+o);if(l-u<e*3)throw new b("Alignment bottom exceeds estimated module size.");var c=new Sy(this.image,a,u,s-a,l-u,e,this.resultPointCallback);return c.find()},t}(),Ba=function(){function t(){this.decoder=new _y}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(ce.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var a=new Ny(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof o1&&n.getOther().applyMirroredCorrection(i);var s=new tt(n.getText(),n.getRawBytes(),void 0,i,U.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(We.BYTE_SEGMENTS,u);var l=n.getECLevel();return l!==null&&s.putMetadata(We.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(s.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(We.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new b;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],u=n[0];if(s>=u||o>=a)throw new b;if(a-o!==u-s&&(u=s+(a-o),u>=e.getWidth()))throw new b;var l=Math.round((u-s+1)/i),c=Math.round((a-o+1)/i);if(l<=0||c<=0)throw new b;if(c!==l)throw new b;var f=Math.floor(i/2);o+=f,s+=f;var d=s+Math.floor((l-1)*i)-u;if(d>0){if(d>f)throw new b;s-=d}var h=o+Math.floor((c-1)*i)-a;if(h>0){if(h>f)throw new b;o-=h}for(var p=new ir(l,c),x=0;x<c;x++)for(var w=o+Math.floor(x*i),y=0;y<l;y++)e.get(s+Math.floor(y*i),w)&&p.set(y,x);return p},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),o=e[0],a=e[1],s=!0,u=0;o<i&&a<n;){if(s!==r.get(o,a)){if(++u===5)break;s=!s}o++,a++}if(o===i||a===n)throw new b;return(o-e[0])/7},t.NO_POINTS=new Array,t}(),Dy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Q.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=Dy(e),s=a.next();!s.done;s=a.next()){var u=s.value;i[o++]=u}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=ke.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Ry=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Py=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ky=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(n,i)),new Ry(i,o)},t.detect=function(e,r){for(var n,i,o=new Array,a=0,s=0,u=!1;a<r.getHeight();){var l=t.findVertices(r,a,s);if(l[0]==null&&l[3]==null){if(!u)break;u=!1,s=0;try{for(var c=(n=void 0,Py(o)),f=c.next();!f.done;f=c.next()){var d=f.value;d[1]!=null&&(a=Math.trunc(Math.max(a,d[1].getY()))),d[3]!=null&&(a=Math.max(a,Math.trunc(d[3].getY())))}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}a+=t.ROW_STEP;continue}if(u=!0,o.push(l),!e)break;l[2]!=null?(s=Math.trunc(l[2].getX()),a=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,o,a){for(var s=new Array(4),u=!1,l=new Int32Array(a.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,o,i,n,!1,a,l);if(c!=null){for(;i>0;){var f=t.findGuardPattern(e,o,--i,n,!1,a,l);if(f!=null)c=f;else{i++;break}}s[0]=new F(c[0],i),s[1]=new F(c[1],i),u=!0;break}}var d=i+1;if(u){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);d<r;d++){var c=t.findGuardPattern(e,f[0],d,n,!1,a,l);if(c!=null&&Math.abs(f[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-c[1])<t.MAX_PATTERN_DRIFT)f=c,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,s[2]=new F(f[0],d),s[3]=new F(f[1],d)}return d-i<t.BARCODE_MIN_HEIGHT&&ke.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,o,a,s){ke.fillWithin(s,0,s.length,0);for(var u=r,l=0;e.get(u,n)&&u>0&&l++<t.MAX_PIXEL_DRIFT;)u--;for(var c=u,f=0,d=a.length,h=o;c<i;c++){var p=e.get(c,n);if(p!==h)s[f]++;else{if(f===d-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],le.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,h=!h}}return f===d-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return 1/0;var u=o/a;n*=u;for(var l=0,c=0;c<i;c++){var f=e[c],d=r[c]*u,h=f>d?f-d:d-f;if(h>n)return 1/0;l+=h}return l/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),My=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},on=function(){function t(e,r){if(r.length===0)throw new $;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),le.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=My(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}for(var u=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new $("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;le.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(r[s-a],n[s]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new $("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new $("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var u=r[s],l=0;l<o;l++)a[s+l]=this.field.add(a[s+l],this.field.multiply(u,i[l]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new $;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new G,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),Ly=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new $;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new Qh;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),By=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fy=function(t){By(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var o=1,a=0;a<r;a++)i.expTable[a]=o,o=o*n%r;for(var a=0;a<r-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new on(i,new Int32Array([0])),i.one=new on(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new $;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new on(this,i)},e.PDF417_GF=new e(Z.NUMBER_OF_CODEWORDS,3),e}(Ly),jy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uy=function(){function t(){this.field=Fy.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,o,a=new on(this.field,e),s=new Int32Array(r),u=!1,l=r;l>0;l--){var c=a.evaluateAt(this.field.exp(l));s[r-l]=c,c!==0&&(u=!0)}if(!u)return 0;var f=this.field.getOne();if(n!=null)try{for(var d=jy(n),h=d.next();!h.done;h=d.next()){var p=h.value,x=this.field.exp(e.length-1-p),w=new on(this.field,new Int32Array([this.field.subtract(0,x),1]));f=f.multiply(w)}}catch(T){i={error:T}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}for(var y=new on(this.field,s),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),m=v[0],E=v[1],C=this.findErrorLocations(m),S=this.findErrorMagnitudes(E,m,C),l=0;l<C.length;l++){var A=e.length-1-this.field.log(C[l]);if(A<0)throw Te.getChecksumInstance();e[A]=this.field.subtract(e[A],S[l])}return C.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=e,a=r,s=this.field.getZero(),u=this.field.getOne();a.getDegree()>=Math.round(n/2);){var l=o,c=s;if(o=a,s=u,o.isZero())throw Te.getChecksumInstance();a=l;for(var f=this.field.getZero(),d=o.getCoefficient(o.getDegree()),h=this.field.inverse(d);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),x=this.field.multiply(a.getCoefficient(a.getDegree()),h);f=f.add(this.field.buildMonomial(p,x)),a=a.subtract(o.multiplyByMonomial(p,x))}u=f.multiply(s).subtract(c).negative()}var w=u.getCoefficient(0);if(w===0)throw Te.getChecksumInstance();var y=this.field.inverse(w),v=u.multiply(y),m=a.multiply(y);return[v,m]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,o=1;o<this.field.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==r)throw Te.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,r.getCoefficient(a));for(var s=new on(this.field,o),u=n.length,l=new Int32Array(u),a=0;a<u;a++){var c=this.field.inverse(n[a]),f=this.field.subtract(0,e.evaluateAt(c)),d=this.field.inverse(s.evaluateAt(c));l[a]=this.field.multiply(f,d)}return l},t}(),nl=function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(e,r,n,i,o){var a=r==null||n==null,s=i==null||o==null;if(a&&s)throw new b;a?(r=new F(0,i.getY()),n=new F(0,o.getY())):s&&(i=new F(e.getWidth()-1,r.getY()),o=new F(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,l=Math.trunc(u.getY()-e);l<0&&(l=0);var c=new F(u.getX(),l);n?i=c:a=c}if(r>0){var f=n?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new F(f.getX(),d);n?o=h:s=h}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),$y=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),vc=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(a,s,u,l,c,f){if(a==="%%")return"%";if(r[++n]!==void 0){a=l?parseInt(l.substr(1)):void 0;var d=c?parseInt(c.substr(1)):void 0,h;switch(f){case"s":h=r[n];break;case"c":h=r[n][0];break;case"f":h=parseFloat(r[n]).toFixed(a);break;case"p":h=parseFloat(r[n]).toPrecision(a);break;case"e":h=parseFloat(r[n]).toExponential(a);break;case"x":h=parseInt(r[n]).toString(d||16);break;case"d":h=parseFloat(parseInt(r[n],d||10).toPrecision(a)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(u),x=u&&u[0]+""=="0"?"0":" ";h.length<p;)h=s!==void 0?h+x:x+h;return h}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Vy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a1=function(){function t(e){this.boundingBox=new nl(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new vc,i=0;try{for(var o=Vy(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),zy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hy=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},bi=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,o=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>n?(n=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===n&&i.push(h.getKey())};try{for(var a=zy(this.values.entries()),s=a.next();!s.done;s=a.next()){var u=Hy(s.value,2),l=u[0],c=u[1];o(l,c)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return Z.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Gy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},td=function(t){Gy(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Gs(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=-1,c=1,f=0,d=s;d<u;d++)if(n[d]!=null){var h=n[d],p=h.getRowNumber()-l;if(p===0)f++;else if(p===1)c=Math.max(c,f),f=1,l=h.getRowNumber();else if(p<0||h.getRowNumber()>=r.getRowCount()||p>d)n[d]=null;else{var x=void 0;c>2?x=(c-2)*p:x=p;for(var w=x>=d,y=1;y<=x&&!w;y++)w=n[d-y]!=null;w?n[d]=null:(l=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=Gs(this.getCodewords()),s=a.next();!s.done;s=a.next()){var u=s.value;if(u!=null){var l=u.getRowNumber();if(l>=o.length)continue;o[l]++}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),l=-1,c=a;c<s;c++)if(u[c]!=null){var f=u[c];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-l;d===0||(d===1?l=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?u[c]=null:l=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),o=new bi,a=new bi,s=new bi,u=new bi;try{for(var l=Gs(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:a.setValue(d*3+1);break;case 1:u.setValue(d/3),s.setValue(d%3);break;case 2:o.setValue(d+1);break}}}}catch(x){r={error:x}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<Z.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>Z.MAX_ROWS_IN_BARCODE)return null;var p=new $y(o.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var o=r[i];if(r[i]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:a+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(a1),Wy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xy=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Z.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var a=n[r],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=s[r],l[3]=u[r],r>0&&(l[0]=n[r-1],l[4]=s[r-1],l[5]=u[r-1]),r>1&&(l[8]=n[r-2],l[10]=s[r-2],l[11]=u[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=s[r+1],l[7]=u[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=s[r+2],l[13]=u[r+2]);try{for(var c=Wy(l),f=c.next();!f.done;f=c.next()){var d=f.value;if(t.adjustRowNumber(a,d))return}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new vc,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t}(),Ky=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Yy=function(){function t(){}return t.initialize=function(){for(var e=0;e<Z.SYMBOL_TABLE.length;e++)for(var r=Z.SYMBOL_TABLE[e],n=r&1,i=0;i<Z.BARS_IN_MODULE;i++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Z.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Z.BARS_IN_MODULE-i-1]=Math.fround(o/Z.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Q.sum(e),n=new Int32Array(Z.BARS_IN_MODULE),i=0,o=0,a=0;a<Z.MODULES_IN_CODEWORD;a++){var s=r/(2*Z.MODULES_IN_CODEWORD)+a*r/Z.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Z.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Q.sum(e),n=new Array(Z.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=el.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,l=t.RATIOS_TABLE[s],c=0;c<Z.BARS_IN_MODULE;c++){var f=Math.fround(l[c]-n[c]);if(u+=Math.fround(f*f),u>=o)break}u<o&&(o=u,a=Z.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Z.SYMBOL_TABLE.length).map(function(e){return new Array(Z.BARS_IN_MODULE)}),t}(),Zy=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),rd=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),qy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qy=function(t){qy(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(wt),Jy=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Qy;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new fc;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),ex=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tx=function(t){ex(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wt),rx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nx=function(t){rx(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new $("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new tx;i=W.MAX_VALUE}this.buf=ke.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new fc;this.ensureCapacity(this.count+i),le.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ke.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Jy),ae;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ae||(ae={}));function s1(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var jo;function Ar(t){if(typeof jo>"u"&&(jo=s1()),jo===null)throw new Error("BigInt is not supported!");return jo(t)}function ix(){var t=[];t[0]=Ar(1);var e=Ar(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var ox=function(){function t(){}return t.decode=function(e,r){var n=new G(""),i=Pe.ISO8859_1;n.enableDecoding(i);for(var o=1,a=e[o++],s=new Zy;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:Pe.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new R;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw R.getFormatInstance()}if(n.length()===0)throw R.getFormatInstance();var u=new os(null,n.toString(),null,r);return u.setOther(s),u},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw R.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(W.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new G;r=t.textCompaction(e,r,a),n.setFileId(a.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new G;r=t.textCompaction(e,r+1,u),n.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new G;r=t.textCompaction(e,r+1,l),n.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new G;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new G;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(W.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new G;r=t.numericCompaction(e,r+1,d),n.setTimestamp(rd.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new G;r=t.numericCompaction(e,r+1,h),n.setChecksum(W.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new G;r=t.numericCompaction(e,r+1,p),n.setFileSize(rd.parseLong(p.toString()));break;default:throw R.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(s!==-1){var x=r-s;n.isLastSegment()&&x--,n.setOptionalData(ke.copyOfRange(e,s,s+x))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),a=0,s=!1;r<e[0]&&!s;){var u=e[r++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[r++],o[a]=u,a++;break}}return t.decodeTextCompaction(i,o,a,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=ae.ALPHA,a=ae.ALPHA,s=0;s<n;){var u=e[s],l="";switch(o){case ae.ALPHA:if(u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.LL:o=ae.LOWER;break;case t.ML:o=ae.MIXED;break;case t.PS:a=o,o=ae.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ae.ALPHA;break}break;case ae.LOWER:if(u<26)l=String.fromCharCode(97+u);else switch(u){case 26:l=" ";break;case t.AS:a=o,o=ae.ALPHA_SHIFT;break;case t.ML:o=ae.MIXED;break;case t.PS:a=o,o=ae.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ae.ALPHA;break}break;case ae.MIXED:if(u<t.PL)l=t.MIXED_CHARS[u];else switch(u){case t.PL:o=ae.PUNCT;break;case 26:l=" ";break;case t.LL:o=ae.LOWER;break;case t.AL:o=ae.ALPHA;break;case t.PS:a=o,o=ae.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ae.ALPHA;break}break;case ae.PUNCT:if(u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=ae.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ae.ALPHA;break}break;case ae.ALPHA_SHIFT:if(o=a,u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=ae.ALPHA;break}break;case ae.PUNCT_SHIFT:if(o=a,u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=ae.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ae.ALPHA;break}break}l!==""&&i.append(l),s++}},t.byteCompaction=function(e,r,n,i,o){var a=new nx,s=0,u=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),f=r[i++];i<r[0]&&!l;)switch(c[s++]=f,u=900*u+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5===0&&s>0){for(var d=0;d<6;++d)a.write(Number(Ar(u)>>Ar(8*(5-d))));u=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=f);for(var h=0;h<s;h++)a.write(c[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var p=r[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break}if(s%5===0&&s>0){for(var d=0;d<6;++d)a.write(Number(Ar(u)>>Ar(8*(5-d))));u=0,s=0}}break}return o.append(kt.decode(a.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var s=e[r++];if(r===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(a,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ar(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ar(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new R;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=s1()?ix():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),_i=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ax=function(){function t(){}return t.decode=function(e,r,n,i,o,a,s){for(var u=new nl(e,r,n,i,o),l=null,c=null,f,d=!0;;d=!1){if(r!=null&&(l=t.getRowIndicatorColumn(e,u,r,!0,a,s)),i!=null&&(c=t.getRowIndicatorColumn(e,u,i,!1,a,s)),f=t.merge(l,c),f==null)throw b.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<u.getMinY()||h.getMaxY()>u.getMaxY()))u=h;else break}f.setBoundingBox(u);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,l),f.setDetectionResultColumn(p,c);for(var x=l!=null,w=1;w<=p;w++){var y=x?w:p-w;if(f.getDetectionResultColumn(y)===void 0){var v=void 0;y===0||y===p?v=new td(u,y===0):v=new a1(u),f.setDetectionResultColumn(y,v);for(var m=-1,E=m,C=u.getMinY();C<=u.getMaxY();C++){if(m=t.getStartColumn(f,y,C,x),m<0||m>u.getMaxX()){if(E===-1)continue;m=E}var S=t.detectCodeword(e,u.getMinX(),u.getMaxX(),x,m,C,a,s);S!=null&&(v.setCodeword(C,S),E=m,a=Math.min(a,S.getWidth()),s=Math.max(s,S.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=nl.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Xy(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),a=0;try{for(var s=_i(i),u=s.next();!u.done;u=s.next()){var l=u.value;if(a+=o-l,l>0)break}}catch(h){r={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),f=0;a>0&&c[f]==null;f++)a--;for(var d=0,f=i.length-1;f>=0&&(d+=o-i[f],!(i[f]>0));f--);for(var f=c.length-1;d>0&&c[f]==null;f--)d--;return e.getBoundingBox().addMissingRows(a,d,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var o=_i(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=Math.max(i,s)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,o,a){for(var s=new td(r,i),u=0;u<2;u++)for(var l=u===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=l){var d=t.detectCodeword(e,0,e.getWidth(),i,c,f,o,a);d!=null&&(s.setCodeword(f,d),i?c=d.getStartX():c=d.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>Z.MAX_CODEWORDS_IN_BARCODE)throw b.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var l=r[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;l.length===0?n.push(c):l.length===1?i[c]=l[0]:(a.push(c),o.push(l))}for(var f=new Array(o.length),d=0;d<f.length;d++)f[d]=o[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Z.toIntArray(n),Z.toIntArray(a),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)r[i[u]]=o[u][a[u]];try{return t.decodeCodewords(r,e,n)}catch(c){var l=c instanceof Te;if(!l)throw c}if(a.length===0)throw Te.getChecksumInstance();for(var u=0;u<a.length;u++)if(a[u]<o[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw Te.getChecksumInstance()}throw Te.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var u=0;u<a[s].length;u++)a[s][u]=new bi;var l=0;try{for(var c=_i(e.getDetectionResultColumns()),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)try{for(var h=(i=void 0,_i(d.getCodewords())),p=h.next();!p.done;p=h.next()){var x=p.value;if(x!=null){var w=x.getRowNumber();if(w>=0){if(w>=a.length)continue;a[w][l].setValue(x.getValue())}}}}catch(y){i={error:y}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}l++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return a},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,a,s=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(r).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var l=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var c=(o=void 0,_i(e.getDetectionResultColumn(r).getCodewords())),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)return(i?d.getEndX():d.getStartX())+s*l*(d.getEndX()-d.getStartX())}}catch(h){o={error:h}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}l++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,a,s,u){o=t.adjustCodewordStartColumn(e,r,n,i,o,a);var l=t.getModuleBitCount(e,r,n,i,o,a);if(l==null)return null;var c,f=Q.sum(l);if(i)c=o+f;else{for(var d=0;d<l.length/2;d++){var h=l[d];l[d]=l[l.length-1-d],l[l.length-1-d]=h}c=o,o=c-f}if(!t.checkCodewordSkew(f,s,u))return null;var p=Yy.getDecodedValue(l),x=Z.getCodeword(p);return x===-1?null:new Ky(o,c,t.getCodewordBucketNumber(p),x)},t.getModuleBitCount=function(e,r,n,i,o,a){for(var s=o,u=new Int32Array(8),l=0,c=i?1:-1,f=i;(i?s<n:s>=r)&&l<u.length;)e.get(s,a)===f?(u[l]++,s+=c):(l++,f=!f);return l===u.length||s===(i?n:r)&&l===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,o,a){for(var s=o,u=i?-1:1,l=0;l<2;l++){for(;(i?s>=r:s<n)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw R.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var a=ox.decode(e,""+r);return a.setErrorsCorrected(o),a.setErasures(n.length),a},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Te.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw R.getFormatInstance();var n=e[0];if(n>e.length)throw R.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw R.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new vc,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Uy,t}(),sx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fa=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw b.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof R||n instanceof Te?b.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,o,a=new Array,s=ky.detectMultiple(e,r,n);try{for(var u=sx(s.getPoints()),l=u.next();!l.done;l=u.next()){var c=l.value,f=ax.decode(s.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),d=new tt(f.getText(),f.getRawBytes(),void 0,c,U.PDF_417);d.putMetadata(We.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(We.PDF417_EXTRA_METADATA,h),a.push(d)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a.map(function(p){return p})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?W.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Z.MODULES_IN_CODEWORD/Z.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Z.MODULES_IN_CODEWORD/Z.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Z.MODULES_IN_CODEWORD/Z.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Z.MODULES_IN_CODEWORD/Z.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),ux=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nd=function(t){ux(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(wt),id=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u1=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(ce.TRY_HARDER)!==void 0,n=e==null?null:e.get(ce.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(a){return a===U.UPC_A||a===U.UPC_E||a===U.EAN_13||a===U.EAN_8||a===U.CODABAR||a===U.CODE_39||a===U.CODE_93||a===U.CODE_128||a===U.ITF||a===U.RSS_14||a===U.RSS_EXPANDED});o&&!r&&i.push(new jn(e)),n.includes(U.QR_CODE)&&i.push(new Ba),n.includes(U.DATA_MATRIX)&&i.push(new La),n.includes(U.AZTEC)&&i.push(new ka),n.includes(U.PDF_417)&&i.push(new Fa),o&&r&&i.push(new jn(e))}i.length===0&&(r||i.push(new jn(e)),i.push(new Ba),i.push(new La),i.push(new ka),i.push(new Fa),r&&i.push(new jn(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=id(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new nd("No readers where selected, nothing can be read.");try{for(var i=id(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof nd)continue}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new b("No MultiFormat Readers were able to detect the code.")},t}(),lx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){lx(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,o=new u1;return o.setHints(r),i=t.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(ui);var cx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cx(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Fa,r)||this}return e})(ui);var fx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){fx(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Ba,r)||this}return e})(ui);var il;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(il||(il={}));const Uo=il;var l1=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Fr(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,o=r.length;o<=e;o++){var a=n.multiply(new Fr(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));r.push(a),n=a}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new $("No error correction bytes");var n=e.length-r;if(n<=0)throw new $("No data bytes provided");var i=this.buildGenerator(r),o=new Int32Array(n);le.arraycopy(e,0,o,0,n);var a=new Fr(this.field,o);a=a.multiplyByMonomial(r,1);for(var s=a.divide(i)[1],u=s.getCoefficients(),l=r-u.length,c=0;c<l;c++)e[n+c]=0;le.arraycopy(u,0,e,n+l,u.length)},t}(),Ni=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=n[a],u=0;u<i-1;u++){var l=s[u];l===s[u+1]&&l===n[a+1][u]&&l===n[a+1][u+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var u=n[a];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&r++,a+6<o&&n[a][s]===1&&n[a+1][s]===0&&n[a+2][s]===1&&n[a+3][s]===1&&n[a+4][s]===1&&n[a+5][s]===0&&n[a+6][s]===1&&(t.isWhiteVertical(n,s,a-4,a)||t.isWhiteVertical(n,s,a+7,a+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=n[a],u=0;u<i;u++)s[u]===1&&r++;var l=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(r*2-l)*10/l);return c*t.N4},t.getDataMaskBit=function(e,r,n){var i,o;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,i=(o&1)+o%3;break;case 6:o=n*r,i=(o&1)+o%3&1;break;case 7:o=n*r,i=o%3+(n+r&1)&1;break;default:throw new $("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var u=0,l=-1,c=0;c<o;c++){var f=r?a[s][c]:a[c][s];f===l?u++:(u>=5&&(n+=t.N1+(u-5)),u=1,l=f)}u>=5&&(n+=t.N1+(u-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),dx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hx=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=dx(this.bytes),o=i.next();!o.done;o=i.next()){var a=o.value;ke.fill(a,e)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=r.bytes[n],s=0,u=this.width;s<u;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new G,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),ol=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new G;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),px=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),de=function(t){px(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(wt),od=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new $e;t.makeTypeInfoBits(e,r,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),u=t.TYPE_INFO_COORDINATES[o],l=u[0],c=u[1];if(n.setBoolean(l,c,s),o<8){var f=n.getWidth()-o-1,d=8;n.setBoolean(f,d,s)}else{var f=8,d=n.getHeight()-7+(o-8);n.setBoolean(f,d,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new $e;t.makeVersionInfoBits(e,n);for(var i=6*3-1,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+a,s),r.setBoolean(r.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var l=a-u;if(t.isEmpty(n.get(l,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,r!==255&&Ni.getDataMaskBit(r,l,s)&&(c=!c),n.setBoolean(l,s,c)}}s+=o}o=-o,s+=o,a-=2}if(i!==e.getSize())throw new de("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-W.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new $("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!ol.isValidMaskPattern(r))throw new de("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var a=new $e;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new de("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new de("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new de;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new de;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new de;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var u=0;u!==a;u++){var l=i[u];l>=0&&t.isEmpty(r.get(l,s))&&t.embedPositionAdjustmentPattern(l-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),vx=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),ad=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Ni.applyMaskPenaltyRule1(e)+Ni.applyMaskPenaltyRule2(e)+Ni.applyMaskPenaltyRule3(e)+Ni.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(Uo.CHARACTER_SET)!==void 0;o&&(i=n.get(Uo.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new $e;if(a===he.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Pe.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(a,s);var l=new $e;this.appendBytes(e,a,l,i);var c;if(n!==null&&n.get(Uo.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Uo.QR_VERSION).toString(),10);c=un.getVersionForNumber(f);var d=this.calculateBitsNeeded(a,s,l,c);if(!this.willFit(d,c,r))throw new de("Data too big for requested version")}else c=this.recommendVersion(r,a,s,l);var h=new $e;h.appendBitArray(s);var p=a===he.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(p,c,a,h),h.appendBitArray(l);var x=c.getECBlocksForLevel(r),w=c.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(w,h);var y=this.interleaveWithECBytes(h,c.getTotalCodewords(),w,x.getNumBlocks()),v=new ol;v.setECLevel(r),v.setMode(a),v.setVersion(c);var m=c.getDimensionForVersion(),E=new hx(m,m),C=this.chooseMaskPattern(y,r,c,E);return v.setMaskPattern(C),od.buildMatrix(y,r,c,C,E),v.setMatrix(E),v},t.recommendVersion=function(e,r,n,i){var o=this.calculateBitsNeeded(r,n,i,un.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(r,n,i,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Pe.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return he.KANJI;for(var n=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return he.BYTE}return i?he.ALPHANUMERIC:n?he.NUMERIC:he.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=kt.encode(e,Pe.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=r[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<ol.NUM_MASK_PATTERNS;s++){od.buildMatrix(e,r,n,s,i);var u=this.calculateMaskPenalty(i);u<o&&(o=u,a=s)}return a},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=un.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new de("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),a=o.getTotalECCodewords(),s=i-a,u=(e+7)/8;return s>=u},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new de("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var i=o;i<8;i++)r.appendBit(!1);for(var a=e-r.getSizeInBytes(),i=0;i<a;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new de("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,o,a){if(i>=n)throw new de("Block ID too large");var s=e%n,u=n-s,l=Math.floor(e/n),c=l+1,f=Math.floor(r/n),d=f+1,h=l-f,p=c-d;if(h!==p)throw new de("EC bytes mismatch");if(n!==u+s)throw new de("RS blocks mismatch");if(e!==(f+h)*u+(d+p)*s)throw new de("Total bytes mismatch");i<u?(o[0]=f,a[0]=h):(o[0]=d,a[0]=p)},t.interleaveWithECBytes=function(e,r,n,i){var o,a,s,u;if(e.getSizeInBytes()!==n)throw new de("Number of bits and data bytes does not match");for(var l=0,c=0,f=0,d=new Array,h=0;h<i;++h){var p=new Int32Array(1),x=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,h,p,x);var w=p[0],y=new Uint8Array(w);e.toBytes(8*l,y,0,w);var v=t.generateECBytes(y,x[0]);d.push(new vx(y,v)),c=Math.max(c,w),f=Math.max(f,v.length),l+=p[0]}if(n!==l)throw new de("Data bytes does not match offset");for(var m=new $e,h=0;h<c;++h)try{for(var E=(o=void 0,ad(d)),C=E.next();!C.done;C=E.next()){var S=C.value,y=S.getDataBytes();h<y.length&&m.appendBits(y[h],8)}}catch(I){o={error:I}}finally{try{C&&!C.done&&(a=E.return)&&a.call(E)}finally{if(o)throw o.error}}for(var h=0;h<f;++h)try{for(var A=(s=void 0,ad(d)),T=A.next();!T.done;T=A.next()){var S=T.value,v=S.getErrorCorrectionBytes();h<v.length&&m.appendBits(v[h],8)}}catch(I){s={error:I}}finally{try{T&&!T.done&&(u=A.return)&&u.call(A)}finally{if(s)throw s.error}}if(r!==m.getSizeInBytes())throw new de("Interleaving error: "+r+" and "+m.getSizeInBytes()+" differ.");return m},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),o=0;o<n;o++)i[o]=e[o]&255;new l1(vt.QR_CODE_FIELD_256).encode(i,r);for(var a=new Uint8Array(r),o=0;o<r;o++)a[o]=i[n+o];return a},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new de(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,r,n,i){switch(r){case he.NUMERIC:t.appendNumericBytes(e,n);break;case he.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case he.BYTE:t.append8BitBytes(e,n,i);break;case he.KANJI:t.appendKanjiBytes(e,n);break;default:throw new de("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(o*100+a*10+s,10),i+=3}else if(i+1<n){var a=t.getDigit(e.charAt(i+1));r.appendBits(o*10+a,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new de;if(i+1<n){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new de;r.appendBits(o*45+a,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=kt.encode(e,n)}catch(u){throw new de(u)}for(var o=0,a=i.length;o!==a;o++){var s=i[o];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=kt.encode(e,Pe.SJIS)}catch(f){throw new de(f)}for(var i=n.length,o=0;o<i;o+=2){var a=n[o]&255,s=n[o+1]&255,u=a<<8&4294967295|s,l=-1;if(u>=33088&&u<=40956?l=u-33088:u>=57408&&u<=60351&&(l=u-49472),l===-1)throw new de("Invalid byte sequence");var c=(l>>8)*192+(l&255);r.appendBits(c,13)}},t.appendECI=function(e,r){r.appendBits(he.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Pe.UTF8.getName(),t})();var gx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){gx(e,t);function e(r,n,i,o,a,s,u,l){var c=t.call(this,s,u)||this;if(c.yuvData=r,c.dataWidth=n,c.dataHeight=i,c.left=o,c.top=a,o+s>n||a+u>i)throw new $("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(s,u),c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new $("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return le.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return le.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<n;s++){var u=s*r;le.arraycopy(this.yuvData,a,o,u,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*r,l=0;l<r;l++){var c=o[a+l*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+l]=4278190080|c*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth)for(var s=a+r/2,u=a,l=a+r-1;u<s;u++,l--){var c=i[u];i[u]=i[l],i[l]=c}},e.prototype.invert=function(){return new is(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(po);var yx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){yx(e,t);function e(r,n,i,o,a,s,u){var l=t.call(this,n,i)||this;if(l.dataWidth=o,l.dataHeight=a,l.left=s,l.top=u,r.BYTES_PER_ELEMENT===4){for(var c=n*i,f=new Uint8ClampedArray(c),d=0;d<c;d++){var h=r[d],p=h>>16&255,x=h>>7&510,w=h&255;f[d]=(p+x+w)/4&255}l.luminances=f}else l.luminances=r;if(o===void 0&&(l.dataWidth=n),a===void 0&&(l.dataHeight=i),s===void 0&&(l.left=0),u===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new $("Crop rectangle does not fit within image data.");return l}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new $("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return le.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return le.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<n;s++){var u=s*r;le.arraycopy(this.luminances,a,o,u,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new is(this)},e})(po);var xx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mx=function(t){xx(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Pe),wx=function(){function t(){}return t.ISO_8859_1=Pe.ISO8859_1,t}(),al,_x=301,Ex=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=_x);return{LOG:t,ALOG:e}};al=Ex([],[]),al.LOG;al.ALOG;var sd;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(sd||(sd={}));var ud=129,c1=230,Ax=231,Cx=235,Sx=236,Ix=237,Ox=238,Tx=239,bx=240,Ws=254,Nx=254,ld="[)>05",cd="[)>06",fd="",ne=0,He=1,ot=2,Ne=3,Fe=4,Qe=5,Dx=function(){function t(){}return t.prototype.getEncodingMode=function(){return ne},t.prototype.encode=function(e){var r=Wt.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Qe:e.writeCodeword(Ax),e.signalEncoderChange(Qe);return;case He:e.writeCodeword(c1),e.signalEncoderChange(He);return;case Ne:e.writeCodeword(Ox),e.signalEncoderChange(Ne);break;case ot:e.writeCodeword(Tx),e.signalEncoderChange(ot);break;case Fe:e.writeCodeword(bx),e.signalEncoderChange(Fe);break;default:throw new Error("Illegal mode: "+i)}else Wt.isExtendedASCII(n)?(e.writeCodeword(Cx),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Wt.isDigit(e)&&Wt.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),Rx=function(){function t(){}return t.prototype.getEncodingMode=function(){return Qe},t.prototype.encode=function(e){var r=new G;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ne);break}}var o=r.length()-1,a=1,s=e.getCodewordCount()+o+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(o<=249)r.setCharAt(0,Y.getCharAt(o));else if(o<=1555)r.setCharAt(0,Y.getCharAt(Math.floor(o/250)+249)),r.insert(1,Y.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var l=0,n=r.length();l<n;l++)e.writeCodeword(this.randomize255State(r.charAt(l).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),gc=function(){function t(){}return t.prototype.getEncodingMode=function(){return He},t.prototype.encodeMaximal=function(e){for(var r=new G,n=0,i=e.pos,o=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,n=this.encodeChar(a,r),r.length()%3===0&&(i=e.pos,o=r.length())}if(o!==r.length()){var s=Math.floor(r.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var l=e.getSymbolInfo().getDataCapacity()-u,c=Math.floor(r.length()%3);(c===2&&l!==2||c===1&&(n>3||l!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(c1),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new G;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,a=e.getCodewordCount()+o;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var u=new G;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,u,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,u,i);break}var l=r.length();if(l%3===0){var c=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(ne);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var o=r.length(),a=r.toString().substring(0,o-i);r.setLengthToZero(),r.append(a),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Ws)}else if(a===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Ws),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(a>0||e.hasMoreCharacters())&&e.writeCodeword(Ws)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ne)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,o=new G;return o.append(n),o.append(i),o.toString()},t}(),Px=function(){function t(){}return t.prototype.getEncodingMode=function(){return Fe},t.prototype.encode=function(e){for(var r=new G;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var a=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(ne);break}}}r.append(Y.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var a=n-1,s=this.encodeToCodewords(r.toString()),u=!e.hasMoreCharacters(),l=u&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(l=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}l?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(ne)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Y.getCharAt(e-64)):Wt.illegalCharacter(Y.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,a=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(o<<6)+a,u=s>>16&255,l=s>>8&255,c=s&255,f=new G;return f.append(u),r>=2&&f.append(l),r>=3&&f.append(c),f.toString()},t}(),kx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ee=function(){function t(e,r,n,i,o,a,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=u}return t.lookup=function(e,r,n,i,o){var a,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var u=Mx(Bx),l=u.next();!l.done;l=u.next()){var c=l.value;if(!(r===1&&c.rectangular)&&!(r===2&&!c.rectangular)&&!(n!=null&&(c.getSymbolWidth()<n.getWidth()||c.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(c.getSymbolWidth()>i.getWidth()||c.getSymbolHeight()>i.getHeight()))&&e<=c.dataCapacity)return c}}catch(f){a={error:f}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),Lx=function(t){kx(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(ee),Bx=[new ee(!1,3,5,8,8,1),new ee(!1,5,7,10,10,1),new ee(!0,5,7,16,6,1),new ee(!1,8,10,12,12,1),new ee(!0,10,11,14,6,2),new ee(!1,12,12,14,14,1),new ee(!0,16,14,24,10,1),new ee(!1,18,14,16,16,1),new ee(!1,22,18,18,18,1),new ee(!0,22,18,16,10,2),new ee(!1,30,20,20,20,1),new ee(!0,32,24,16,14,2),new ee(!1,36,24,22,22,1),new ee(!1,44,28,24,24,1),new ee(!0,49,28,22,14,2),new ee(!1,62,36,14,14,4),new ee(!1,86,42,16,16,4),new ee(!1,114,48,18,18,4),new ee(!1,144,56,20,20,4),new ee(!1,174,68,22,22,4),new ee(!1,204,84,24,24,4,102,42),new ee(!1,280,112,14,14,16,140,56),new ee(!1,368,144,16,16,16,92,36),new ee(!1,456,192,18,18,16,114,48),new ee(!1,576,224,20,20,16,144,56),new ee(!1,696,272,22,22,16,174,68),new ee(!1,816,336,24,24,16,136,56),new ee(!1,1050,408,18,18,36,175,68),new ee(!1,1304,496,20,20,36,163,62),new Lx],Fx=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new G,i=0,o=r.length;i<o;i++){var a=String.fromCharCode(r[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(a)}this.msg=n.toString(),this.shape=0,this.codewords=new G,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ee.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),jx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ux=function(t){jx(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ne},e.prototype.encode=function(r){for(var n=new G;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var a=Wt.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){r.signalEncoderChange(ne);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Wt.illegalCharacter(Y.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(Nx),r.getNewEncoding()<0&&r.signalEncoderChange(ne)},e}(gc),$x=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vx=function(t){$x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ot},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(gc),Wt=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=ud+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var a=new gc,s=[new Dx,a,new Vx,new Ux,new Px,new Rx],u=new Fx(e);u.setSymbolShape(r),u.setSizeConstraints(n,i),e.startsWith(ld)&&e.endsWith(fd)?(u.writeCodeword(Sx),u.setSkipAtEnd(2),u.pos+=ld.length):e.startsWith(cd)&&e.endsWith(fd)&&(u.writeCodeword(Ix),u.setSkipAtEnd(2),u.pos+=cd.length);var l=ne;for(o&&(a.encodeMaximal(u),l=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[l].encode(u),u.getNewEncoding()>=0&&(l=u.getNewEncoding(),u.resetEncoderSignal());var c=u.getCodewordCount();u.updateSymbolInfo();var f=u.getSymbolInfo().getDataCapacity();c<f&&l!==ne&&l!==Qe&&l!==Fe&&u.writeCodeword("");var d=u.getCodewords();for(d.length()<f&&d.append(ud);d.length()<f;)d.append(this.randomize253State(d.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Ne&&i===Ne){for(var o=Math.min(r+3,e.length),a=r;a<o;a++)if(!this.isNativeX12(e.charCodeAt(a)))return ne}else if(n===Fe&&i===Fe){for(var o=Math.min(r+4,e.length),a=r;a<o;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return ne}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===ne?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var o=0,a=new Uint8Array(6),s=[];;){if(r+o===e.length){ke.fill(a,0),ke.fill(s,0);var u=this.findMinimums(i,s,W.MAX_VALUE,a),l=this.getMinimumCount(a);if(s[ne]===u)return ne;if(l===1){if(a[Qe]>0)return Qe;if(a[Fe]>0)return Fe;if(a[ot]>0)return ot;if(a[Ne]>0)return Ne}return He}var c=e.charCodeAt(r+o);if(o++,this.isDigit(c)?i[ne]+=.5:this.isExtendedASCII(c)?(i[ne]=Math.ceil(i[ne]),i[ne]+=2):(i[ne]=Math.ceil(i[ne]),i[ne]++),this.isNativeC40(c)?i[He]+=2/3:this.isExtendedASCII(c)?i[He]+=8/3:i[He]+=4/3,this.isNativeText(c)?i[ot]+=2/3:this.isExtendedASCII(c)?i[ot]+=8/3:i[ot]+=4/3,this.isNativeX12(c)?i[Ne]+=2/3:this.isExtendedASCII(c)?i[Ne]+=13/3:i[Ne]+=10/3,this.isNativeEDIFACT(c)?i[Fe]+=3/4:this.isExtendedASCII(c)?i[Fe]+=17/4:i[Fe]+=13/4,this.isSpecialB256(c)?i[Qe]+=4:i[Qe]++,o>=4){if(ke.fill(a,0),ke.fill(s,0),this.findMinimums(i,s,W.MAX_VALUE,a),s[ne]<this.min(s[Qe],s[He],s[ot],s[Ne],s[Fe]))return ne;if(s[Qe]<s[ne]||s[Qe]+1<this.min(s[He],s[ot],s[Ne],s[Fe]))return Qe;if(s[Fe]+1<this.min(s[Qe],s[He],s[ot],s[Ne],s[ne]))return Fe;if(s[ot]+1<this.min(s[Qe],s[He],s[Fe],s[Ne],s[ne]))return ot;if(s[Ne]+1<this.min(s[Qe],s[He],s[Fe],s[ot],s[ne]))return Ne;if(s[He]+1<this.min(s[ne],s[Qe],s[Fe],s[ot])){if(s[He]<s[Ne])return He;if(s[He]===s[Ne]){for(var f=r+o+1;f<e.length;){var d=e.charCodeAt(f);if(this.isX12TermSep(d))return Ne;if(!this.isNativeX12(d))break;f++}return He}}}}},t.min=function(e,r,n,i,o){var a=Math.min(e,Math.min(r,Math.min(n,i)));return o===void 0?a:Math.min(a,o)},t.findMinimums=function(e,r,n,i){for(var o=0;o<6;o++){var a=r[o]=Math.ceil(e[o]);n>a&&(n=a,ke.fill(i,0)),n===a&&(i[o]=i[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=W.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),Xs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dd=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return kt.encode(e,this.charset)!=null}catch{return!1}},t}(),zx=function(){function t(e,r,n){var i,o,a,s,u,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(D){return new dd(mx.forName(D))}),this.encoders=[];var c=[];c.push(new dd(wx.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),d=0;d<e.length;d++){var h=!1;try{for(var p=(i=void 0,Xs(c)),x=p.next();!x.done;x=p.next()){var w=x.value,y=e.charAt(d),v=y.charCodeAt(0);if(v===n||w.canEncode(y)){h=!0;break}}}catch(D){i={error:D}}finally{try{x&&!x.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!h)try{for(var m=(a=void 0,Xs(this.ENCODERS)),E=m.next();!E.done;E=m.next()){var w=E.value;if(w.canEncode(e.charAt(d))){c.push(w),h=!0;break}}}catch(D){a={error:D}}finally{try{E&&!E.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}h||(f=!0)}if(c.length===1&&!f)this.encoders=[c[0]];else{this.encoders=[];var C=0;try{for(var S=Xs(c),A=S.next();!A.done;A=S.next()){var w=A.value;this.encoders[C++]=w}}catch(D){u={error:D}}finally{try{A&&!A.done&&(l=S.return)&&l.call(S)}finally{if(u)throw u.error}}}var T=-1;if(r!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&r.name===this.encoders[d].name){T=d;break}}this.priorityEncoderIndex=T}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return kt.encode(Y.getCharAt(e),this.encoders[r].name)},t}(),Hx=3,Gx=function(){function t(e,r,n){this.fnc1=n;var i=new zx(e,r,n);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var a=e.charAt(o).charCodeAt(0);this.bytes[o]=a===n?1e3:a}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new G,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,o,a){var s=e.charAt(i).charCodeAt(0),u=0,l=r.length();r.getPriorityEncoderIndex()>=0&&(s===a||r.canEncode(s,r.getPriorityEncoderIndex()))&&(u=r.getPriorityEncoderIndex(),l=u+1);for(var c=u;c<l;c++)(s===a||r.canEncode(s,c))&&this.addEdge(n,i+1,new hd(s,r,c,o,a))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,o=new hd[i+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var a=1;a<=i;a++){for(var s=0;s<r.length();s++)o[a][s]!=null&&a<i&&this.addEdges(e,r,o,a,o[a][s],n);for(var s=0;s<r.length();s++)o[a-1][s]=null}for(var u=-1,l=W.MAX_VALUE,s=0;s<r.length();s++)if(o[i][s]!=null){var c=o[i][s];c.cachedTotalSize<l&&(l=c.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],d=o[i][u];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=r.encode(d.c,d.encoderIndex),a=h.length-1;a>=0;a--)f.unshift(h[a]&255);var p=d.previous===null?0:d.previous.encoderIndex;p!==d.encoderIndex&&f.unshift(256+r.getECIValue(d.encoderIndex)),d=d.previous}for(var x=[],a=0;a<x.length;a++)x[a]=f[a];return x},t}(),hd=function(){function t(e,r,n,i,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var a=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(a+=Hx),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),Wx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var pd;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(pd||(pd={}));(function(t){Wx(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n,i)||this;return s.shape=o,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Gx);var Xx=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),vd=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),Kx=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),Yx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yc=function(t){Yx(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+W.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(Kx),Zx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qx=function(t){Zx(e,t);function e(r,n,i){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(yc);function Qx(t,e,r){return new qx(t,e,r)}function Ei(t,e,r){return new yc(t,e,r)}var Jx=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],jr=0,ja=1,Rt=2,f1=3,tr=4,em=new yc(null,0,0),Ks=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],tm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function rm(t){var e,r;try{for(var n=tm(t),i=n.next();!i.done;i=n.next()){var o=i.value;ke.fill(o,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[jr][tr]=0,t[ja][tr]=0,t[ja][jr]=28,t[f1][tr]=0,t[Rt][tr]=0,t[Rt][jr]=15,t}var d1=rm(ke.createInt32Array(6,6)),nm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},im=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=Ks[this.mode][e];i=Ei(i,o&65535,o>>16),n+=o>>16}var a=e===Rt?4:5;return i=Ei(i,r,a),new t(i,e,0,n+a)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Rt?4:5;return n=Ei(n,d1[this.mode][e],i),n=Ei(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===tr||this.mode===Rt){var o=Ks[n][jr];r=Ei(r,o&65535,o>>16),i+=o>>16,n=jr}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=Qx(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Ks[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var a=new $e;try{for(var s=nm(i),u=s.next();!u.done;u=s.next()){var l=u.value;l.appendTo(a,e)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.prototype.toString=function(){return Y.format("%s bits=%d bytes=%d",Jx[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(em,jr,0,0),t}();function om(t){var e=Y.getCharCode(" "),r=Y.getCharCode("."),n=Y.getCharCode(",");t[jr][e]=1;for(var i=Y.getCharCode("Z"),o=Y.getCharCode("A"),a=o;a<=i;a++)t[jr][a]=a-o+2;t[ja][e]=1;for(var s=Y.getCharCode("z"),u=Y.getCharCode("a"),a=u;a<=s;a++)t[ja][a]=a-u+2;t[Rt][e]=1;for(var l=Y.getCharCode("9"),c=Y.getCharCode("0"),a=c;a<=l;a++)t[Rt][a]=a-c+2;t[Rt][n]=12,t[Rt][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)t[f1][Y.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)Y.getCharCode(h[d])>0&&(t[tr][Y.getCharCode(h[d])]=d);return t}var Ys=om(ke.createInt32Array(5,256)),$o=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},am=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Y.getCharCode(" "),r=Y.getCharCode(`
`),n=vd.singletonList(im.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Y.getCharCode("\r"):o=a===r?2:0;break;case Y.getCharCode("."):o=a===e?3:0;break;case Y.getCharCode(","):o=a===e?4:0;break;case Y.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var s=vd.min(n,function(u,l){return u.getBitCount()-l.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var a=$o(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForChar(u,r,o)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,o=Ys[e.getMode()][i]>0,a=null,s=0;s<=tr;s++){var u=Ys[s][i];if(u>0){if(a==null&&(a=e.endBinaryShift(r)),!o||s===e.getMode()||s===Rt){var l=a.latchAndAppend(s,u);n.push(l)}if(!o&&d1[e.getMode()][s]>=0){var c=a.shiftAndAppend(s,u);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||Ys[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,o,a=[];try{for(var s=$o(e),u=s.next();!u.done;u=s.next()){var l=u.value;this.updateStateForPair(l,r,n,a)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,r,n,i){var o=e.endBinaryShift(r);if(i.push(o.latchAndAppend(tr,n)),e.getMode()!==tr&&i.push(o.shiftAndAppend(tr,n)),n===3||n===4){var a=o.latchAndAppend(Rt,16-n).latchAndAppend(Rt,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,o,a=[];try{for(var s=$o(e),u=s.next();!u.done;u=s.next()){var l=u.value,c=!0,f=function(w){if(w.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(w)&&(a=a.filter(function(y){return y!==w}))};try{for(var d=(i=void 0,$o(a)),h=d.next();!h.done;h=d.next()){var p=h.value,x=f(p);if(x==="break")break}}catch(w){i={error:w}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}c&&a.push(l)}}catch(w){r={error:w}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t}(),sm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new am(e).encode(),o=W.truncDivision(i.getSize()*r,100)+11,a=i.getSize()+o,s,u,l,c,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new $(Y.format("Illegal value %s for layers",n));l=t.totalBitsInLayer(u,s),c=t.WORD_SIZE[u];var d=l-l%c;if(f=t.stuffBits(i,c),f.getSize()+o>d)throw new $("Data to large for user specified layer");if(s&&f.getSize()>c*64)throw new $("Data to large for user specified layer")}else{c=0,f=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new $("Data too large for an Aztec code");if(s=h<=3,u=s?h+1:h,l=t.totalBitsInLayer(u,s),!(a>l)){(f==null||c!==t.WORD_SIZE[u])&&(c=t.WORD_SIZE[u],f=t.stuffBits(i,c));var d=l-l%c;if(!(s&&f.getSize()>c*64)&&f.getSize()+o<=d)break}}}var p=t.generateCheckWords(f,l,c),x=f.getSize()/c,w=t.generateModeMessage(s,u,x),y=(s?11:14)+u*4,v=new Int32Array(y),m;if(s){m=y;for(var h=0;h<v.length;h++)v[h]=h}else{m=y+1+2*W.truncDivision(W.truncDivision(y,2)-1,15);for(var E=W.truncDivision(y,2),C=W.truncDivision(m,2),h=0;h<E;h++){var S=h+W.truncDivision(h,15);v[E-h-1]=C-S-1,v[E+h]=C+S+1}}for(var A=new ir(m),h=0,T=0;h<u;h++){for(var D=(u-h)*4+(s?9:12),I=0;I<D;I++)for(var P=I*2,L=0;L<2;L++)p.get(T+P+L)&&A.set(v[h*2+L],v[h*2+I]),p.get(T+D*2+P+L)&&A.set(v[h*2+I],v[y-1-h*2-L]),p.get(T+D*4+P+L)&&A.set(v[y-1-h*2-L],v[y-1-h*2-I]),p.get(T+D*6+P+L)&&A.set(v[y-1-h*2-I],v[h*2+L]);T+=D*8}if(t.drawModeMessage(A,s,m,w),s)t.drawBullsEye(A,W.truncDivision(m,2),5);else{t.drawBullsEye(A,W.truncDivision(m,2),7);for(var h=0,I=0;h<W.truncDivision(y,2)-1;h+=15,I+=16)for(var L=W.truncDivision(m,2)&1;L<m;L+=2)A.set(W.truncDivision(m,2)-I,L),A.set(W.truncDivision(m,2)+I,L),A.set(L,W.truncDivision(m,2)-I),A.set(L,W.truncDivision(m,2)+I)}var j=new Xx;return j.setCompact(s),j.setSize(m),j.setLayers(u),j.setCodeWords(x),j.setMatrix(A),j},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var o=r-i;o<=r+i;o++)e.set(o,r-i),e.set(o,r+i),e.set(r-i,o),e.set(r+i,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new $e;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var o=W.truncDivision(n,2);if(r)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+W.truncDivision(a,5);i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)}},t.generateCheckWords=function(e,r,n){var i,o,a=e.getSize()/n,s=new l1(t.getGF(n)),u=W.truncDivision(r,n),l=t.bitsToWords(e,n,u);s.encode(l,u-a);var c=r%n,f=new $e;f.appendBits(0,c);try{for(var d=sm(Array.from(l)),h=d.next();!h.done;h=d.next()){var p=h.value;f.appendBits(p,n)}}catch(x){i={error:x}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),o,a;for(o=0,a=e.getSize()/r;o<a;o++){for(var s=0,u=0;u<r;u++)s|=e.get(o*r+u)?1<<r-u-1:0;i[o]=s}return i},t.getGF=function(e){switch(e){case 4:return vt.AZTEC_PARAM;case 6:return vt.AZTEC_DATA_6;case 8:return vt.AZTEC_DATA_8;case 10:return vt.AZTEC_DATA_10;case 12:return vt.AZTEC_DATA_12;default:throw new $("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new $e,i=e.getSize(),o=(1<<r)-2,a=0;a<i;a+=r){for(var s=0,u=0;u<r;u++)(a+u>=i||e.get(a+u))&&(s|=1<<r-1-u);(s&o)===o?(n.appendBits(s&o,r),a--):s&o?n.appendBits(s,r):(n.appendBits(s|1,r),a--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var um=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lm=function(t){um(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var o=new Uint8ClampedArray(n*i),a=0,s=0,u=r.length;a<u;a+=4,s++){var l=void 0,c=r[a+3];if(c===0)l=255;else{var f=r[a],d=r[a+1],h=r[a+2];l=306*f+601*d+117*h+512>>10}o[s]=l}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new $("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new is(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);n.width=s,n.height=u;var l=n.getContext("2d");if(!l)throw new Error("Could not create a Canvas Context element.");return l.translate(s/2,u/2),l.rotate(i),l.drawImage(this.canvas,o/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(po);function h1(){return typeof navigator<"u"}function cm(){return h1()&&!!navigator.mediaDevices}function fm(){return!!(cm()&&navigator.mediaDevices.enumerateDevices)}var $n=function(){return $n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$n.apply(this,arguments)},xe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},me=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Zs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dm={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},li=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=$n($n({},dm),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(ce.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return xe(this,void 0,void 0,function(){return me(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var o=Zs(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ce("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ce("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new lm(e),n=new qh(r);return new Zh(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Ce("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,o=n.height;return r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r},t.tryPlayVideo=function(e){return xe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return xe(this,void 0,void 0,function(){var e,r,n,i,o,a,s,u,l,c,f,d;return me(this,function(h){switch(h.label){case 0:if(!h1())throw new Error("Can't enumerate devices, navigator is not present.");if(!fm())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=Zs(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,u=o.label||"Video device ".concat(r.length+1),l=o.groupId,c={deviceId:s,label:u,kind:a,groupId:l},r.push(c))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return xe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return xe(this,void 0,void 0,function(){var n;return me(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(o,a){var s=setTimeout(function(){t.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",u))},r),u=function(){t.tryPlayVideo(e).then(function(l){clearTimeout(s),e.removeEventListener("canplay",u),o(l)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),xe(this,void 0,void 0,function(){var i;return me(this,function(o){switch(o.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return o.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,o=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",a),n())},i),a=function(){clearTimeout(o),e.removeEventListener("load",a),r()};e.addEventListener("load",a)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Ce("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return xe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:if(!e)throw new Ce("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return xe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:if(!e)throw new Ce("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return xe(this,void 0,void 0,function(){var i,o;return me(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,a.sent()];case 4:throw o=a.sent(),t.disposeMediaStream(i),o;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return xe(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,d,h=this;return me(this,function(p){switch(p.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return o=p.sent(),a=function(){t.disposeMediaStream(e),t.cleanVideoSource(o)},s=this.scan(o,n,a),u=e.getVideoTracks(),l=$n($n({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(x,w){return xe(this,void 0,void 0,function(){var y,v,m,E,C,S,A;return me(this,function(T){switch(T.label){case 0:y=w?u.filter(w):u,T.label=1;case 1:T.trys.push([1,6,7,8]),v=Zs(y),m=v.next(),T.label=2;case 2:return m.done?[3,5]:(E=m.value,[4,E.applyConstraints(x)]);case 3:T.sent(),T.label=4;case 4:return m=v.next(),[3,2];case 5:return[3,8];case 6:return C=T.sent(),S={error:C},[3,8];case 7:try{m&&!m.done&&(A=v.return)&&A.call(v)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return u.find(x).getConstraints()},streamVideoSettingsGet:function(x){return u.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return u.find(x).getCapabilities()}}),c=t.mediaStreamIsTorchCompatible(e),c&&(f=u==null?void 0:u.find(function(x){return t.mediaStreamIsTorchCompatibleTrack(x)}),d=function(x){return xe(h,void 0,void 0,function(){return me(this,function(w){switch(w.label){case 0:return[4,t.mediaStreamSetTorch(f,x)];case 1:return w.sent(),[2]}})})},l.switchTorch=d,l.stop=function(){return xe(h,void 0,void 0,function(){return me(this,function(x){switch(x.label){case 0:return s.stop(),[4,d(!1)];case 1:return x.sent(),[2]}})})}),[2,l]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return xe(this,void 0,void 0,function(){var i,o;return me(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return xe(this,void 0,void 0,function(){var n,i;return me(this,function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Ce("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return o.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return xe(this,void 0,void 0,function(){var n,i,o,a;return me(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Ce("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,o)];case 1:return s.sent(),a=this.scan(n,r,i),[2,a]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return xe(this,void 0,void 0,function(){var n;return me(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return xe(this,void 0,void 0,function(){var n,i,o;return me(this,function(a){switch(a.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return o=a.sent(),[2,o];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return xe(this,void 0,void 0,function(){var n,i;return me(this,function(o){switch(o.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return xe(this,void 0,void 0,function(){var r,n;return me(this,function(i){switch(i.label){case 0:if(!e)throw new Ce("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return xe(this,void 0,void 0,function(){var r,n;return me(this,function(i){switch(i.label){case 0:if(!e)throw new Ce("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var o=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(a,s){o.scan(e,function(u,l,c){if(u){a(u),c.stop();return}if(l){if(l instanceof b&&r||l instanceof Te&&n||l instanceof R&&i)return;c.stop(),s(l)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var o=t.createCaptureCanvas(e),a;try{a=o.getContext("2d",{willReadFrequently:!0})}catch{a=o.getContext("2d")}if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){a=void 0,o=void 0},u=!1,l,c=function(){u=!0,clearTimeout(l),s(),n&&n()},f={stop:c},d=function(){if(!u)try{t.drawImageOnCanvas(a,e);var h=i.decodeFromCanvas(o);r(h,void 0,f),l=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(y){r(void 0,y,f);var p=y instanceof Te,x=y instanceof R,w=y instanceof b;if(p||x||w){l=setTimeout(d,i.options.delayBetweenScanAttempts);return}s(),n&&n(y)}};return d(),f},t.prototype._decodeOnLoadImage=function(e){return xe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return xe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),hm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){hm(e,t);function e(r,n){return t.call(this,new ka,r,n)||this}return e})(li);var pm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){pm(e,t);function e(r,n){return t.call(this,new jn(r),r,n)||this}return e})(li);var vm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){vm(e,t);function e(r,n){return t.call(this,new La,r,n)||this}return e})(li);var gm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ym=function(t){gm(e,t);function e(r,n){var i=this,o=new u1;return o.setHints(r),i=t.call(this,o,r,n)||this,i.reader=o,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(ce.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(li),xm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){xm(e,t);function e(r,n){return t.call(this,new Fa,r,n)||this}return e})(li);var mm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){mm(e,t);function e(r,n){return t.call(this,new Ba,r,n)||this}return e})(li);function p1({onScanResult:t,onClose:e,isOpen:r}){const n=z.useRef(null),[i,o]=z.useState(!1),[a,s]=z.useState(""),[u,l]=z.useState([]),[c,f]=z.useState(""),[d,h]=z.useState(null),[p,x]=z.useState(""),[w,y]=z.useState(!1),v=z.useRef();z.useEffect(()=>(r?E():m(),m),[r]);const m=()=>{if(console.log("Cleaning up camera resources..."),v.current)try{v.current.reset(),v.current=void 0}catch(I){console.log("Reader cleanup error:",I)}d&&(console.log("Stopping camera stream..."),d.getTracks().forEach(I=>{I.stop(),console.log("Stopped track:",I.kind,I.label)}),h(null)),n.current&&(n.current.srcObject=null),o(!1),s(""),x(""),y(!1)},E=async()=>{try{s("");const P=(await navigator.mediaDevices.enumerateDevices()).filter(oe=>oe.kind==="videoinput");if(l(P),P.length===0){s("No cameras found on this device.");return}const L=P.find(oe=>oe.label.toLowerCase().includes("back")||oe.label.toLowerCase().includes("rear")||oe.label.toLowerCase().includes("environment")),j=c||(L==null?void 0:L.deviceId)||P[0].deviceId;f(j),await C(j)}catch(I){console.error("Camera initialization error:",I),s("Failed to initialize camera. Please check permissions.")}},C=async I=>{if(n.current)try{o(!0),s(""),d&&(d.getTracks().forEach(j=>j.stop()),h(null));const P={video:{deviceId:I?{exact:I}:void 0,width:{ideal:1280},height:{ideal:720},facingMode:I?void 0:{ideal:"environment"}}},L=await navigator.mediaDevices.getUserMedia(P);h(L),n.current.srcObject=L,await new Promise(j=>{n.current&&(n.current.onloadedmetadata=j)}),v.current=new ym,v.current.decodeFromVideoDevice(I,n.current,(j,oe)=>{if(j&&!w){const Ye=j.getText();console.log("Barcode detected:",Ye),x(Ye),y(!0),v.current&&v.current.reset(),d&&d.getTracks().forEach(_t=>_t.stop()),setTimeout(()=>{try{t(Ye),e()}catch(_t){console.error("Error processing scan result:",_t),s("Error processing scan result"),y(!1)}},1e3)}oe&&!oe.message.includes("No MultiFormat Readers")&&console.log("Scan error:",oe)})}catch(P){console.error("Camera start error:",P),o(!1),P.name==="NotAllowedError"?s("Camera permission denied. Please allow camera access and refresh the page."):P.name==="NotFoundError"?s("Camera not found. Please ensure your device has a working camera."):P.name==="NotReadableError"?s("Camera is being used by another application. Please close other apps and try again."):s(`Camera error: ${P.message||"Unknown error"}`)}},S=async()=>{if(u.length<=1)return;const P=(u.findIndex(j=>j.deviceId===c)+1)%u.length,L=u[P].deviceId;f(L),await C(L)},A=()=>{m(),setTimeout(()=>{E()},500)},T=()=>{const I=prompt("Enter Student ID manually:");I&&I.trim()&&(m(),t(I.trim()),e())},D=()=>{m(),e()};return r?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[g.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Scan Student ID"}),g.jsx("button",{onClick:D,className:"text-white hover:text-gray-200 transition-colors p-1",children:g.jsx(Kn,{className:"h-6 w-6"})})]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:[g.jsx("video",{ref:n,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"border-2 border-white border-dashed rounded-lg w-3/4 h-1/2 flex items-center justify-center",children:p?g.jsxs("div",{className:"text-center text-white",children:[g.jsx(Bn,{className:"h-8 w-8 mx-auto mb-2 text-green-400"}),g.jsxs("p",{className:"text-sm font-medium",children:["Scanned: ",p]}),g.jsx("p",{className:"text-xs opacity-75",children:"Processing..."})]}):g.jsxs("div",{className:"text-white text-center",children:[g.jsx(Yu,{className:"h-8 w-8 mx-auto mb-2 opacity-75"}),g.jsx("p",{className:"text-sm opacity-75",children:"Position barcode here"})]})})}),!i&&!a&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:g.jsxs("div",{className:"text-center text-white",children:[g.jsx(Yu,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{className:"text-sm",children:"Initializing camera..."})]})})]}),a&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx(Wh,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-red-700 text-sm font-medium",children:"Camera Error"}),g.jsx("p",{className:"text-red-600 text-sm mt-1",children:a})]})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex space-x-2",children:[u.length>1&&g.jsxs("button",{onClick:S,disabled:!i||w,className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[g.jsx(Pf,{className:"h-4 w-4"}),g.jsx("span",{children:"Switch Camera"})]}),g.jsxs("button",{onClick:A,disabled:w,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:[g.jsx(Pf,{className:"h-4 w-4"}),g.jsx("span",{children:"Retry"})]})]}),g.jsx("button",{onClick:T,disabled:w,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:"Enter ID Manually"}),g.jsx("button",{onClick:D,disabled:w,className:"w-full bg-gray-300 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-400 transition-colors disabled:opacity-50",children:"Cancel"})]}),g.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[g.jsx("h4",{className:"text-blue-800 font-medium text-sm mb-2",children:"Scanning Tips:"}),g.jsxs("ul",{className:"text-blue-700 text-xs space-y-1",children:[g.jsx("li",{children:" Hold the ID card steady within the frame"}),g.jsx("li",{children:" Ensure good lighting on the barcode"}),g.jsx("li",{children:" Keep the camera 6-12 inches from the barcode"}),g.jsx("li",{children:" Make sure the barcode is not blurry or damaged"}),g.jsx("li",{children:' Try the "Enter ID Manually" option if scanning fails'})]})]})]})]})}):null}const wm="modulepreload",_m=function(t){return"/Epass-management-system/"+t},gd={},go=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=_m(u),u in gd)return;gd[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":wm,l||(f.as="script"),f.crossOrigin="",f.href=u,s&&f.setAttribute("nonce",s),document.head.appendChild(f),l)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},Em=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>go(async()=>{const{default:n}=await Promise.resolve().then(()=>ci);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class xc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Am extends xc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cm extends xc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sm extends xc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sl||(sl={}));var Im=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};class Om{constructor(e,{headers:r={},customFetch:n,region:i=sl.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Em(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Im(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:a}=r;let s={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(s["x-region"]=u);let l;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(s["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(s["Content-Type"]="application/json",l=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:l}).catch(p=>{throw new Am(p)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Cm(c);if(!c.ok)throw new Sm(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield c.json():d==="application/octet-stream"?h=yield c.blob():d==="text/event-stream"?h=c:d==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var ht={},mc={},ss={},yo={},us={},ls={},Tm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ii=Tm();const bm=ii.fetch,v1=ii.fetch.bind(ii),g1=ii.Headers,Nm=ii.Request,Dm=ii.Response,ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:g1,Request:Nm,Response:Dm,default:v1,fetch:bm},Symbol.toStringTag,{value:"Module"})),Rm=j1(ci);var cs={};Object.defineProperty(cs,"__esModule",{value:!0});let Pm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};cs.default=Pm;var y1=Mt&&Mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ls,"__esModule",{value:!0});const km=y1(Rm),Mm=y1(cs);let Lm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=km.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,s,u;let l=null,c=null,f=null,d=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,d=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await o.text();try{l=JSON.parse(x),Array.isArray(l)&&o.status===404&&(c=[],l=null,d=200,h="OK")}catch{o.status===404&&x===""?(d=204,h="No Content"):l={message:x}}if(l&&this.isMaybeSingle&&(!((u=l==null?void 0:l.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,d=200,h="OK"),l&&this.shouldThrowOnError)throw new Mm.default(l)}return{error:l,data:c,count:f,status:d,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var a,s,u;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(s=o==null?void 0:o.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(u=o==null?void 0:o.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};ls.default=Lm;var Bm=Mt&&Mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const Fm=Bm(ls);let jm=class extends Fm.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var s;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${u};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};us.default=jm;var Um=Mt&&Mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const $m=Um(us);let Vm=class extends $m.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};yo.default=Vm;var zm=Mt&&Mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});const Ai=zm(yo);let Hm=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((s,u)=>s.concat(Object.keys(u)),[]);if(a.length>0){const s=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const a="POST",s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const u=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(u.length>0){const l=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ai.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Ai.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ai.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ss.default=Hm;var fs={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.version=void 0;ds.version="0.0.0-automated";Object.defineProperty(fs,"__esModule",{value:!0});fs.DEFAULT_HEADERS=void 0;const Gm=ds;fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Gm.version}`};var x1=Mt&&Mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mc,"__esModule",{value:!0});const Wm=x1(ss),Xm=x1(yo),Km=fs;let Ym=class m1{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Km.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new Wm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new m1(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:o}={}){let a;const s=new URL(`${this.url}/rpc/${e}`);let u;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{s.searchParams.append(c,f)})):(a="POST",u=r);const l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new Xm.default({method:a,url:s,headers:l,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};mc.default=Ym;var fi=Mt&&Mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;const w1=fi(mc);ht.PostgrestClient=w1.default;const _1=fi(ss);ht.PostgrestQueryBuilder=_1.default;const E1=fi(yo);ht.PostgrestFilterBuilder=E1.default;const A1=fi(us);ht.PostgrestTransformBuilder=A1.default;const C1=fi(ls);ht.PostgrestBuilder=C1.default;const S1=fi(cs);ht.PostgrestError=S1.default;var Zm=ht.default={PostgrestClient:w1.default,PostgrestQueryBuilder:_1.default,PostgrestFilterBuilder:E1.default,PostgrestTransformBuilder:A1.default,PostgrestBuilder:C1.default,PostgrestError:S1.default};const{PostgrestClient:qm,PostgrestQueryBuilder:X_,PostgrestFilterBuilder:K_,PostgrestTransformBuilder:Y_,PostgrestBuilder:Z_,PostgrestError:q_}=Zm;let ul;typeof window>"u"?ul=require("ws"):ul=window.WebSocket;const Qm=ul,Jm="2.11.10",ew={"X-Client-Info":`realtime-js/${Jm}`},tw="1.0.0",I1=1e4,rw=1e3;var Yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yn||(Yn={}));var it;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(it||(it={}));var zt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(zt||(zt={}));var ll;(function(t){t.websocket="websocket"})(ll||(ll={}));var en;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(en||(en={}));class nw{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+i));a=a+i;const u=n.decode(e.slice(a,a+o));a=a+o;const l=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:u,payload:l}}}class O1{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const yd=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,a)=>(o[a]=iw(a,t,e,i),o),{})},iw=(t,e,r,n)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=r[t];return o&&!n.includes(o)?T1(o,a):cl(a)},T1=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return uw(e,r)}switch(t){case se.bool:return ow(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return aw(e);case se.json:case se.jsonb:return sw(e);case se.timestamp:return lw(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return cl(e);default:return cl(e)}},cl=t=>t,ow=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>T1(e,s))}return t},lw=t=>typeof t=="string"?t.replace(" ","T"):t,b1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class qs{constructor(e,r,n={},i=I1){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xd||(xd={}));class $i{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$i.syncState(this.state,i,o,a),this.pendingDiffs.forEach(u=>{this.state=$i.syncDiff(this.state,u,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$i.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),a=this.transformState(r),s={},u={};return this.map(o,(l,c)=>{a[l]||(u[l]=c)}),this.map(a,(l,c)=>{const f=o[l];if(f){const d=c.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),p=c.filter(w=>h.indexOf(w.presence_ref)<0),x=f.filter(w=>d.indexOf(w.presence_ref)<0);p.length>0&&(s[l]=p),x.length>0&&(u[l]=x)}else s[l]=c}),this.syncDiff(o,{joins:s,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,u)=>{var l;const c=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(u),c.length>0){const f=e[s].map(h=>h.presence_ref),d=c.filter(h=>f.indexOf(h.presence_ref)<0);e[s].unshift(...d)}n(s,c,u)}),this.map(a,(s,u)=>{let l=e[s];if(!l)return;const c=u.map(f=>f.presence_ref);l=l.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=l,i(s,l,u),l.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var md;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(md||(md={}));var wd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wd||(wd={}));var sr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));class wc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qs(this,zt.join,this.params,this.timeout),this.rejoinTimer=new O1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new $i(this),this.broadcastEndpointURL=b1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(c=>e==null?void 0:e(sr.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(sr.CLOSED));const u={},l={broadcast:o,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(sr.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,p=[];for(let x=0;x<h;x++){const w=d[x],{filter:{event:y,schema:v,table:m,filter:E}}=w,C=c&&c[x];if(C&&C.event===y&&C.schema===v&&C.table===m&&C.filter===E)p.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=it.errored,e==null||e(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(sr.SUBSCRIBED);return}}).receive("error",c=>{this.state=it.errored,e==null||e(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,u;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=it.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const i=new qs(this,zt.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qs(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:u,leave:l,join:c}=zt;if(n&&[s,u,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,x,w;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(x=h.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(h=>h.callback(d,n)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var p,x,w,y,v,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const E=h.id,C=(p=h.filter)===null||p===void 0?void 0:p.event;return E&&((x=r.ids)===null||x===void 0?void 0:x.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const E=(v=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return E==="*"||E===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:x,table:w,commit_timestamp:y,type:v,errors:m}=p;d=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:m}),this._getPayloadRecords(p))}h.callback(d,n)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&wc.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(zt.close,{},e)}_onError(e){this._on(zt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=yd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=yd(e.columns,e.old_record)),r}}const _d=()=>{},cw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fw{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ew,this.params={},this.timeout=I1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_d,this.ref=0,this.logger=_d,this.conn=null,this.sendBuffer=[],this.serializer=new nw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>go(async()=>{const{default:u}=await Promise.resolve().then(()=>ci);return{default:u}},void 0).then(({default:u})=>u(...s)):a=fetch,(...s)=>a(...s)},this.endPoint=`${e}/${ll.websocket}`,this.httpEndpoint=b1(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new O1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qm),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new dw(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tw}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yn.connecting:return en.Connecting;case Yn.open:return en.Open;case Yn.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new wc(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var u;(u=this.conn)===null||u===void 0||u.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(zt.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(rw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:o,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(s=>s._isMember(n)).forEach(s=>s._trigger(i,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(zt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([cw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class dw{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class _c extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hw extends _c{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fl extends _c{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var pw=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const N1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>go(async()=>{const{default:n}=await Promise.resolve().then(()=>ci);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},vw=()=>pw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield go(()=>Promise.resolve().then(()=>ci),void 0)).Response:Response}),dl=t=>{if(Array.isArray(t))return t.map(r=>dl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=dl(n)}),e};var gn=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const Qs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gw=(t,e,r)=>gn(void 0,void 0,void 0,function*(){const n=yield vw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new hw(Qs(i),t.status||500))}).catch(i=>{e(new fl(Qs(i),i))}):e(new fl(Qs(t),t))}),yw=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function xo(t,e,r,n,i,o){return gn(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,yw(e,n,i,o)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>gw(u,s,n))})})}function Ua(t,e,r,n){return gn(this,void 0,void 0,function*(){return xo(t,"GET",e,r,n)})}function Cr(t,e,r,n,i){return gn(this,void 0,void 0,function*(){return xo(t,"POST",e,n,i,r)})}function xw(t,e,r,n,i){return gn(this,void 0,void 0,function*(){return xo(t,"PUT",e,n,i,r)})}function mw(t,e,r,n){return gn(this,void 0,void 0,function*(){return xo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function D1(t,e,r,n,i){return gn(this,void 0,void 0,function*(){return xo(t,"DELETE",e,n,i,r)})}var ft=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const ww={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ed={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _w{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=N1(i)}uploadOrUpdate(e,r,n,i){return ft(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Ed),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,u&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const l=this._removeEmptyFolders(r),c=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{})),d=yield f.json();return f.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(o){if(je(o))return{data:null,error:o};throw o}})}upload(e,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",r);try{let u;const l=Object.assign({upsert:Ed.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",l.cacheControl)):(u=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const f=yield this.fetch(s.toString(),{method:"PUT",body:u,headers:c}),d=yield f.json();return f.ok?{data:{path:o,fullPath:d.Key},error:null}:{data:null,error:d}}catch(u){if(je(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield Cr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new _c("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}update(e,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ft(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}copy(e,r,n){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Cr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return ft(this,void 0,void 0,function*(){try{const i=yield Cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}download(e,r){return ft(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const s=this._getFinalPath(e);return{data:yield(yield Ua(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}info(e){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ua(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dl(n),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}exists(e){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield mw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(je(n)&&n instanceof fl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}remove(e){return ft(this,void 0,void 0,function*(){try{return{data:yield D1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}list(e,r,n){return ft(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ww),r),{prefix:e||""});return{data:yield Cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ew="2.7.1",Aw={"X-Client-Info":`storage-js/${Ew}`};var wn=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};class Cw{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Aw),r),this.fetch=N1(n)}listBuckets(){return wn(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return wn(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return wn(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return wn(this,void 0,void 0,function*(){try{return{data:yield xw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}emptyBucket(e){return wn(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}deleteBucket(e){return wn(this,void 0,void 0,function*(){try{return{data:yield D1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}}class Sw extends Cw{constructor(e,r={},n){super(e,r,n)}from(e){return new _w(this.url,this.headers,e,this.fetch)}}const Iw="2.50.0";let Di="";typeof Deno<"u"?Di="deno":typeof document<"u"?Di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Di="react-native":Di="node";const Ow={"X-Client-Info":`supabase-js-${Di}/${Iw}`},Tw={headers:Ow},bw={schema:"public"},Nw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dw={};var Rw=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const Pw=t=>{let e;return t?e=t:typeof fetch>"u"?e=v1:e=fetch,(...r)=>e(...r)},kw=()=>typeof Headers>"u"?g1:Headers,Mw=(t,e,r)=>{const n=Pw(r),i=kw();return(o,a)=>Rw(void 0,void 0,void 0,function*(){var s;const u=(s=yield e())!==null&&s!==void 0?s:t;let l=new i(a==null?void 0:a.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(o,Object.assign(Object.assign({},a),{headers:l}))})};var Lw=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};function Bw(t){return t.endsWith("/")?t:t+"/"}function Fw(t,e){var r,n;const{db:i,auth:o,realtime:a,global:s}=t,{db:u,auth:l,realtime:c,global:f}=e,d={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Lw(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const R1="2.70.0",Cn=30*1e3,hl=3,Js=hl*Cn,jw="http://localhost:9999",Uw="supabase.auth.token",$w={"X-Client-Info":`gotrue-js/${R1}`},pl="X-Supabase-Api-Version",P1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zw=6e5;class Ec extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hw extends Ec{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Gw(t){return H(t)&&t.name==="AuthApiError"}class k1 extends Ec{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Gr extends Ec{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class wr extends Gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ww(t){return H(t)&&t.name==="AuthSessionMissingError"}class Vo extends Gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zo extends Gr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ho extends Gr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xw(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ad extends Gr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vl extends Gr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function eu(t){return H(t)&&t.name==="AuthRetryableFetchError"}class Cd extends Gr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vi extends Gr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sd=` 	
\r=`.split(""),Kw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Sd.length;e+=1)t[Sd[e].charCodeAt(0)]=-2;for(let e=0;e<$a.length;e+=1)t[$a[e].charCodeAt(0)]=e;return t})();function Id(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r($a[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r($a[n]),e.queuedBits-=6}}function M1(t,e,r){const n=Kw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Od(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{qw(a,n,r)};for(let a=0;a<t.length;a+=1)M1(t.charCodeAt(a),i,o);return e.join("")}function Yw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Yw(n,e)}}function qw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Qw(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)M1(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Jw(t){const e=[];return Zw(t,r=>e.push(r)),new Uint8Array(e)}function e_(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Id(i,r,n)),Id(null,r,n),e.join("")}function t_(t){return Math.round(Date.now()/1e3)+t}function r_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",Yr={tested:!1,writable:!1},zi=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yr.tested)return Yr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yr.tested=!0,Yr.writable=!0}catch{Yr.tested=!0,Yr.writable=!1}return Yr.writable};function n_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const L1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>go(async()=>{const{default:n}=await Promise.resolve().then(()=>ci);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},i_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",B1=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Go=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wo=async(t,e)=>{await t.removeItem(e)};class hs{constructor(){this.promise=new hs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hs.promiseConstructor=Promise;function tu(t){const e=t.split(".");if(e.length!==3)throw new Vi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Vw.test(e[n]))throw new Vi("JWT not in base64url format");return{header:JSON.parse(Od(e[0])),payload:JSON.parse(Od(e[1])),signature:Qw(e[2]),raw:{header:e[0],payload:e[1]}}}async function o_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function a_(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function s_(t){return("0"+t.toString(16)).substr(-2)}function u_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,s_).join("")}async function l_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function c_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await l_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _n(t,e,r=!1){const n=u_();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await B1(t,`${e}-code-verifier`,i);const o=await c_(n);return[o,n===o?"plain":"s256"]}const f_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d_(t){const e=t.headers.get(pl);if(!e||!e.match(f_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function h_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function p_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function En(t){if(!v_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var g_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Jr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y_=[502,503,504];async function Td(t){var e;if(!i_(t))throw new vl(Jr(t),0);if(y_.includes(t.status))throw new vl(Jr(t),t.status);let r;try{r=await t.json()}catch(o){throw new k1(Jr(o),o)}let n;const i=d_(t);if(i&&i.getTime()>=P1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cd(Jr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Cd(Jr(r),t.status,r.weak_password.reasons);throw new Hw(Jr(r),t.status||500,n)}const x_=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function X(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[pl]||(o[pl]=P1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await m_(t,e,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function m_(t,e,r,n,i,o){const a=x_(e,n,i,o);let s;try{s=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new vl(Jr(u),0)}if(s.ok||await Td(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(u){await Td(u)}}function or(t){var e;let r=null;A_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=t_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function bd(t){const e=or(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Or(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function w_(t){return{data:t,error:null}}function __(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,a=g_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},u=Object.assign({},a);return{data:{properties:s,user:u},error:null}}function E_(t){return t}function A_(t){return t.access_token&&t.refresh_token&&t.expires_in}const ru=["global","local","others"];var C_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class S_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=L1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ru[0]){if(ru.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ru.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Or})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=C_(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:__,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Or})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,a,s,u;try{const l={nextPage:null,lastPage:0,total:0},c=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:E_});if(c.error)throw c.error;const f=await c.json(),d=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(u=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);l[`${w}Page`]=x}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(H(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){En(e);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Or})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){En(e);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Or})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){En(e);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Or})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){En(e.userId);try{const{data:r,error:n}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(e){En(e.userId),En(e.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}const I_={getItem:t=>zi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zi()&&globalThis.localStorage.removeItem(t)}};function Nd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function O_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const An={debug:!!(globalThis&&zi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class T_ extends F1{}async function b_(t,e,r){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new T_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(An.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}O_();const N_={url:jw,storageKey:Uw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$w,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dd(t,e,r){return await r()}class so{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=so.nextInstanceID,so.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},N_),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new S_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=L1(i.fetch),this.lock=i.lock||Dd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=b_:this.lock=Dd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:zi()?this.storage=I_:(this.memoryStorage={},this.storage=Nd(this.memoryStorage)):(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=n_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ut()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Xw(o)){const u=(e=o.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new k1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:or}),{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:c,password:f,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await _n(this.storage,this.storageKey)),o=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},xform:or})}else if("phone"in e){const{phone:c,password:f,options:d}=e;o=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:or})}else throw new zo("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:s}=e;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bd})}else if("phone"in e){const{phone:o,password:a,options:s}=e;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bd})}else throw new zo("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,o,a,s,u,l,c,f,d,h;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:w,wallet:y,statement:v,options:m}=e;let E;if(Ut())if(typeof y=="object")E=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))E=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const C=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const S=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),v?{statement:v}:null));let A;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")A=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)A=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)p=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),x=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const S=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:w,error:y}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:e_(x)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:or});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Vo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(H(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await Go(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:a}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:or});if(await Wo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Vo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(H(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=e,s=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:or}),{data:u,error:l}=s;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Vo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,o,a;try{if("email"in e){const{email:s,options:u}=e;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await _n(this.storage,this.storageKey));const{error:f}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:u}=e,{data:l,error:c}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new zo("You must provide either an email or phone number.")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:s}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:or});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,l=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await _n(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:w_})}catch(o){if(H(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wr;const{error:i}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=await X(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:s}=await X(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s}}throw new zo("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Js:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,l,c)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,c))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Or}):await this._useSession(async r=>{var n,i,o;const{data:a,error:s}=r;if(s)throw s;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Or})})}catch(r){if(H(r))return Ww(r)&&(await this._removeSession(),await Wo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new wr;const a=i.session;let s=null,u=null;this.flowType==="pkce"&&e.email!=null&&([s,u]=await _n(this.storage,this.storageKey));const{data:l,error:c}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:u}),jwt:a.access_token,xform:Or});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=tu(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:s,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:u}=await this._getUser(e.access_token);if(u)throw u;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:s}=r;if(s)throw s;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new wr;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ut())throw new Ho("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ho(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ad("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ho("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ad("No code detected.");const{data:v,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:u,token_type:l}=e;if(!o||!s||!a||!l)throw new Ho("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let d=c+f;u&&(d=parseInt(u));const h=d-c;h*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=d-f;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:x,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:d,refresh_token:a,token_type:l,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(H(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Go(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(Gw(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Wo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=r_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _n(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(H(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var a,s,u,l,c;const{data:f,error:d}=o;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ut()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(H(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)throw a;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await a_(async i=>(i>0&&await o_(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:or})),(i,o)=>{const a=200*Math.pow(2,i);return o&&eu(o)&&Date.now()+a-n<Cn})}catch(n){if(this._debug(r,"error",n),H(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ut()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Go(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Js;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Js}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),eu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hs;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new wr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={session:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),H(o)){const a={session:null,error:o};return eu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(u){o.push(u)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await B1(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Wo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cn}ms, refresh threshold is ${hl} ticks`),i<=hl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof F1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await _n(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:l}=await X(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:s}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=tu(i.access_token);let s=null;a.aal&&(s=a.aal);let u=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+zw>Date.now()))return n;const{data:i,error:o}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new Vi("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(a=>a.kid===e),!n)throw new Vi("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};n=h.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:u}}=tu(n);if(h_(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:o,header:i,signature:a},error:null}}const l=p_(i.alg),c=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,f,a,Jw(`${s}.${u}`)))throw new Vi("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}so.nextInstanceID=0;const D_=so;class R_ extends D_{constructor(e){super(e)}}var P_=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};class k_{constructor(e,r,n){var i,o,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=Bw(e),u=new URL(s);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const l=`sb-${u.hostname.split(".")[0]}-auth-token`,c={db:bw,realtime:Dw,auth:Object.assign(Object.assign({},Nw),{storageKey:l}),global:Tw},f=Fw(n??{},c);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Mw(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qm(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Om(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sw(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return P_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:o,flowType:a,lock:s,debug:u},l,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R_({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),l),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:s,debug:u,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const M_=(t,e,r)=>new k_(t,e,r),L_="https://slsilakzocajxuolzoet.supabase.co",B_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNsc2lsYWt6b2Nhanh1b2x6b2V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyODYyOTUsImV4cCI6MjA2NDg2MjI5NX0.AKR0PiEFnp8OF5Zf60MafXUbm3AoCyKGWDBoVw9WgFU",pt=M_(L_,B_);function Rd(){const[t,e]=z.useState(!1),[r,n]=z.useState(""),[i,o]=z.useState(!1),[a,s]=z.useState(!1),[u,l]=z.useState([]),[c,f]=z.useState(!1),[d,h]=z.useState(""),[p,x]=z.useState({section:"",department:"",leave_datetime:"",return_datetime:"",description:"",file:null}),w=async A=>{console.log("Scan result received:",A);try{n(A),h(`Student ID scanned: ${A}`),await y(A),o(!0),s(!0),setTimeout(()=>h(""),3e3)}catch(T){console.error("Error processing scan result:",T),h("Error processing scan result. Please try again.")}},y=async A=>{try{console.log("Fetching leave requests for student:",A);const{data:T,error:D}=await pt.from("leave_requests").select("*").eq("student_id",A).order("submitted_at",{ascending:!1});if(D)throw console.error("Supabase error:",D),D;console.log("Leave requests fetched:",T),l(T||[])}catch(T){console.error("Error fetching leave requests:",T),h("Error loading previous requests.")}},v=async A=>{A.preventDefault(),f(!0),h("");try{if(console.log("Submitting leave request for:",r),p.return_datetime&&p.leave_datetime){const I=new Date(p.leave_datetime);if(new Date(p.return_datetime)<=I){h("Return time must be after leave time."),f(!1);return}}let T="";if(p.file){const I=p.file.name.split(".").pop(),P=`${r}_${Date.now()}.${I}`,{error:L}=await pt.storage.from("leave-documents").upload(P,p.file);if(L)console.error("Upload error:",L);else{const{data:j}=await pt.storage.from("leave-documents").getPublicUrl(P);T=j.publicUrl}}const{error:D}=await pt.from("leave_requests").insert({student_id:r,section:p.section,department:p.department,leave_datetime:p.leave_datetime,return_datetime:p.return_datetime||null,description:p.description,file_url:T||null});if(D)throw console.error("Insert error:",D),D;h("Gatepass submitted successfully! Please visit the admin office for faster approval."),x({section:"",department:"",leave_datetime:"",return_datetime:"",description:"",file:null}),await y(r)}catch(T){console.error("Error submitting gatepass:",T),h("Error submitting gatepass request. Please try again.")}finally{f(!1)}},m=()=>{n(""),o(!1),s(!1),l([]),h(""),x({section:"",department:"",leave_datetime:"",return_datetime:"",description:"",file:null})},E=A=>{switch(A){case"Approved":return g.jsx(Zu,{className:"h-5 w-5 text-green-600"});case"Rejected":return g.jsx(Kn,{className:"h-5 w-5 text-red-600"});case"Returned":return g.jsx(yg,{className:"h-5 w-5 text-blue-600"});default:return g.jsx(Ra,{className:"h-5 w-5 text-yellow-600"})}},C=A=>{switch(A){case"Approved":return"text-green-700 bg-green-50 border-green-200";case"Rejected":return"text-red-700 bg-red-50 border-red-200";case"Returned":return"text-blue-700 bg-blue-50 border-blue-200";default:return"text-yellow-700 bg-yellow-50 border-yellow-200"}},S=["Computer Science Engineering","Electronics & Communication Engineering","Mechanical Engineering","Civil Engineering","Electrical Engineering","Information Technology","Chemical Engineering","Biotechnology","Aerospace Engineering","Other"];return g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Apply for Gatepass"}),g.jsx("p",{className:"text-gray-600",children:"Scan your student ID to get started"})]}),d&&g.jsx("div",{className:`mb-6 p-4 rounded-lg border ${d.includes("Error")?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[d.includes("Error")?g.jsx(Kn,{className:"h-5 w-5"}):g.jsx(Zu,{className:"h-5 w-5"}),g.jsx("span",{children:d})]})}),!i&&g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[g.jsx(wg,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),g.jsxs("button",{onClick:()=>e(!0),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors inline-flex items-center space-x-2 shadow-md hover:shadow-lg",children:[g.jsx(Kh,{className:"h-5 w-5"}),g.jsx("span",{children:"Start Gatepass Request"})]}),g.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:g.jsxs("p",{className:"text-sm text-gray-600",children:[g.jsx("strong",{children:"Note:"})," You can also enter your Student ID manually if scanning doesn't work."]})})]}),i&&g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gatepass Request Form"}),g.jsx("button",{onClick:m,className:"text-gray-500 hover:text-gray-700 transition-colors",children:g.jsx(Kn,{className:"h-5 w-5"})})]}),g.jsxs("form",{onSubmit:v,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"text",value:r,onChange:A=>n(A.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),g.jsx("button",{type:"button",onClick:()=>e(!0),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:g.jsx(cc,{className:"h-4 w-4"})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),g.jsx("input",{type:"text",value:p.section,onChange:A=>x({...p,section:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., CSE-A, ECE-B",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),g.jsxs("select",{value:p.department,onChange:A=>x({...p,department:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[g.jsx("option",{value:"",children:"Select Department"}),S.map(A=>g.jsx("option",{value:A,children:A},A))]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leave Date & Time"}),g.jsx("input",{type:"datetime-local",value:p.leave_datetime,onChange:A=>x({...p,leave_datetime:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Return Time"}),g.jsx("input",{type:"datetime-local",value:p.return_datetime,onChange:A=>x({...p,return_datetime:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admin may modify this time"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{value:p.description,onChange:A=>x({...p,description:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Reason for leave...",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Document (Optional)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"file",onChange:A=>{var T;return x({...p,file:((T=A.target.files)==null?void 0:T[0])||null})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"}),g.jsx(Sg,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:c?g.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),g.jsx("span",{children:"Submitting..."})]}):"Submit Request"})]})]}),a&&g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Gatepass Status"}),u.length===0?g.jsxs("div",{className:"text-center py-8",children:[g.jsx(Ra,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500",children:"No gatepass requests found"}),g.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Submit your first request using the form"})]}):g.jsx("div",{className:"space-y-3",children:u.map(A=>g.jsxs("div",{className:`p-4 rounded-lg border ${C(A.status)}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[E(A.status),g.jsx("span",{className:"font-medium",children:A.status})]}),g.jsx("span",{className:"text-sm",children:new Date(A.leave_datetime).toLocaleDateString()})]}),g.jsx("p",{className:"text-sm mb-1",children:A.description}),g.jsxs("p",{className:"text-xs",children:["Section: ",A.section," | Dept: ",A.department]}),A.return_datetime&&g.jsxs("div",{className:"mt-2 text-xs",children:[g.jsx("span",{className:"font-medium",children:"Expected Return:"})," ",new Date(A.return_datetime).toLocaleString(),A.approved_return_datetime&&g.jsxs("div",{className:"text-blue-600 mt-1",children:[g.jsx("span",{className:"font-medium",children:"Admin Approved Return:"})," ",new Date(A.approved_return_datetime).toLocaleString()]})]}),A.admin_notes&&g.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[g.jsx("span",{className:"font-medium",children:"Admin Notes:"})," ",A.admin_notes]}),A.status==="Approved"&&g.jsx("div",{className:"mt-3 p-3 bg-green-100 border border-green-300 rounded-lg",children:g.jsx("p",{className:"text-green-800 font-medium text-sm",children:" Gatepass Approved. You may proceed to the gate."})})]},A.id))})]})]}),g.jsx(p1,{isOpen:t,onScanResult:w,onClose:()=>e(!1)})]})})}function F_({onBack:t}){const[e,r]=z.useState(null),[n,i]=z.useState(!0),[o,a]=z.useState("all");z.useEffect(()=>{s()},[o]);const s=async()=>{i(!0);try{const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),f=new Date(c.getTime()-7*24*60*60*1e3),{data:d,error:h}=await pt.from("leave_requests").select("*");if(h)throw h;const{data:p,error:x}=await pt.from("leave_requests").select("*").gte("submitted_at",c.toISOString());if(x)throw x;const{data:w,error:y}=await pt.from("leave_requests").select("*").gte("submitted_at",f.toISOString());if(y)throw y;const v={pending:(d==null?void 0:d.filter(k=>k.status==="Pending").length)||0,approved:(d==null?void 0:d.filter(k=>k.status==="Approved").length)||0,rejected:(d==null?void 0:d.filter(k=>k.status==="Rejected").length)||0,returned:(d==null?void 0:d.filter(k=>k.status==="Returned").length)||0},m=new Map;d==null||d.forEach(k=>{k.department&&m.set(k.department,(m.get(k.department)||0)+1)});const E=Array.from(m.entries()).map(([k,V])=>({department:k,count:V})).sort((k,V)=>V.count-k.count),C=[];for(let k=6;k>=0;k--){const V=new Date(c.getTime()-k*24*60*60*1e3),ye=new Date(V.getTime()+24*60*60*1e3),Ie=(d==null?void 0:d.filter(yn=>{const qt=new Date(yn.submitted_at);return qt>=V&&qt<ye}).length)||0;C.push({date:V.toLocaleDateString("en-US",{month:"short",day:"numeric"}),count:Ie})}const S=new Map;d==null||d.forEach(k=>{const V=k.student_id;S.has(V)||S.set(V,{student_id:k.student_id,count:0,department:k.department}),S.get(V).count++});const A=Array.from(S.values()).sort((k,V)=>V.count-k.count).slice(0,5),{data:T,error:D}=await pt.from("check_logs").select("*");if(D)throw D;const{data:I,error:P}=await pt.from("check_logs").select("*").gte("timestamp",c.toISOString());if(P)throw P;const{data:L,error:j}=await pt.from("check_logs").select("*").gte("timestamp",f.toISOString());if(j)throw j;const oe={today:(I==null?void 0:I.length)||0,week:(L==null?void 0:L.length)||0,total:(T==null?void 0:T.length)||0},Ye=new Date(l.getTime()-24*60*60*1e3),_t=new Date(l.getTime()-2*24*60*60*1e3),Zt=(d==null?void 0:d.filter(k=>k.status==="Pending"))||[],M={overOneDay:Zt.filter(k=>new Date(k.submitted_at)<Ye).length,overTwoDays:Zt.filter(k=>new Date(k.submitted_at)<_t).length};r({totalRequests:(d==null?void 0:d.length)||0,todayRequests:(p==null?void 0:p.length)||0,weekRequests:(w==null?void 0:w.length)||0,statusBreakdown:v,departmentStats:E,dailyTrends:C,topApplicants:A,checkoutStats:oe,pendingAging:M})}catch(l){console.error("Error fetching analytics:",l)}finally{i(!1)}},u=({title:l,value:c,icon:f,color:d,subtitle:h,trend:p})=>g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:l}),g.jsx("p",{className:`text-3xl font-bold ${d} mt-2`,children:c}),h&&g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:h})]}),g.jsx("div",{className:`p-3 rounded-full ${d.replace("text-","bg-").replace("-600","-100")}`,children:g.jsx(f,{className:`h-6 w-6 ${d}`})})]}),p&&g.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[p>0?g.jsx(xg,{className:"h-4 w-4 text-green-500 mr-1"}):g.jsx(gg,{className:"h-4 w-4 text-red-500 mr-1"}),g.jsxs("span",{className:p>0?"text-green-600":"text-red-600",children:[Math.abs(p),"% from last period"]})]})]});return n?g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4",children:g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e?g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights into gatepass system"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("select",{value:o,onChange:l=>a(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"today",children:"Today"}),g.jsx("option",{value:"week",children:"This Week"}),g.jsx("option",{value:"all",children:"All Time"})]}),g.jsx("button",{onClick:t,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Admin"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[g.jsx(u,{title:"Total Requests",value:e.totalRequests,icon:kf,color:"text-blue-600",subtitle:`${e.todayRequests} today`}),g.jsx(u,{title:"Pending Requests",value:e.statusBreakdown.pending,icon:Ra,color:"text-yellow-600",subtitle:`${e.pendingAging.overOneDay} over 1 day`}),g.jsx(u,{title:"Approved Today",value:e.statusBreakdown.approved,icon:Bn,color:"text-green-600"}),g.jsx(u,{title:"Check-outs Today",value:e.checkoutStats.today,icon:pg,color:"text-purple-600",subtitle:`${e.checkoutStats.week} this week`})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[g.jsx(Xh,{className:"h-5 w-5 mr-2 text-blue-600"}),"Status Breakdown"]}),g.jsx("div",{className:"space-y-4",children:Object.entries(e.statusBreakdown).map(([l,c])=>{const f={pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500",returned:"bg-blue-500"},d=e.totalRequests>0?c/e.totalRequests*100:0;return g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-4 h-4 rounded-full ${f[l]}`}),g.jsx("span",{className:"capitalize font-medium text-gray-700",children:l})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:"text-gray-900 font-semibold",children:c}),g.jsxs("span",{className:"text-gray-500 text-sm",children:["(",d.toFixed(1),"%)"]})]})]},l)})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[g.jsx(vg,{className:"h-5 w-5 mr-2 text-orange-600"}),"Pending Requests Aging"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-yellow-800",children:"Over 1 Day"}),g.jsx("p",{className:"text-sm text-yellow-600",children:"Requires attention"})]}),g.jsx("span",{className:"text-2xl font-bold text-yellow-700",children:e.pendingAging.overOneDay})]}),g.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-red-800",children:"Over 2 Days"}),g.jsx("p",{className:"text-sm text-red-600",children:"Urgent action needed"})]}),g.jsx("span",{className:"text-2xl font-bold text-red-700",children:e.pendingAging.overTwoDays})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[g.jsx(mg,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Requests by Department"]}),g.jsx("div",{className:"space-y-3",children:e.departmentStats.slice(0,6).map((l,c)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:c+1})}),g.jsx("span",{className:"text-gray-700 text-sm font-medium truncate max-w-48",children:l.department})]}),g.jsx("span",{className:"text-gray-900 font-semibold",children:l.count})]},l.department))})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[g.jsx(Cg,{className:"h-5 w-5 mr-2 text-green-600"}),"Daily Trends (Last 7 Days)"]}),g.jsx("div",{className:"space-y-3",children:e.dailyTrends.map((l,c)=>{const f=Math.max(...e.dailyTrends.map(h=>h.count)),d=f>0?l.count/f*100:0;return g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-gray-600 text-sm font-medium w-16",children:l.date}),g.jsx("div",{className:"flex-1 mx-3",children:g.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${d}%`}})})}),g.jsx("span",{className:"text-gray-900 font-semibold w-8 text-right",children:l.count})]},c)})})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[g.jsx(kf,{className:"h-5 w-5 mr-2 text-purple-600"}),"Top Applicants"]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-gray-200",children:[g.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Rank"}),g.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Student ID"}),g.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Department"}),g.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Requests"})]})}),g.jsx("tbody",{children:e.topApplicants.map((l,c)=>g.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[g.jsx("td",{className:"py-3 px-4",children:g.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:c+1})})}),g.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:l.student_id}),g.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:l.department||"N/A"}),g.jsx("td",{className:"py-3 px-4",children:g.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-sm font-medium",children:l.count})})]},l.student_id))})]})})]})]})}):g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4",children:g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-gray-500",children:"Failed to load analytics data"})})})})}function j_(){const[t,e]=z.useState(!1),[r,n]=z.useState("dashboard"),[i,o]=z.useState(!1),[a,s]=z.useState([]),[u,l]=z.useState({email:"",password:""}),[c,f]=z.useState(!1),[d,h]=z.useState(""),[p,x]=z.useState(null),[w,y]=z.useState({approved_return_datetime:"",admin_notes:""});z.useEffect(()=>{t&&r==="dashboard"&&E()},[t,r]);const v=async I=>{I.preventDefault(),f(!0),h("");const P="admin@gmail.com",L="admin@123";try{u.email===P&&u.password===L?(e(!0),h("Login successful!")):h("Invalid email or password")}catch{h("Login failed")}finally{f(!1)}},m=async()=>{e(!1),n("dashboard"),s([]),l({email:"",password:""}),h(""),x(null)},E=async()=>{o(!0);try{const{data:I,error:P}=await pt.from("leave_requests").select("*").order("submitted_at",{ascending:!1});if(P)throw P;s(I||[])}catch(I){console.error("Error fetching gatepass requests:",I),h("Error loading gatepass requests")}finally{o(!1)}},C=async(I,P)=>{try{const L={status:P};p===I&&(w.approved_return_datetime&&(L.approved_return_datetime=w.approved_return_datetime),w.admin_notes&&(L.admin_notes=w.admin_notes));const{error:j}=await pt.from("leave_requests").update(L).eq("id",I);if(j)throw j;await E(),h(`Gatepass request ${P.toLowerCase()} successfully!`),x(null),y({approved_return_datetime:"",admin_notes:""}),setTimeout(()=>h(""),3e3)}catch(L){console.error("Error updating gatepass status:",L),h("Error updating gatepass status")}},S=I=>{x(I.id),y({approved_return_datetime:I.approved_return_datetime||I.return_datetime||"",admin_notes:I.admin_notes||""})},A=()=>{x(null),y({approved_return_datetime:"",admin_notes:""})},T=I=>{const P="px-3 py-1 rounded-full text-xs font-medium";switch(I){case"Approved":return`${P} bg-green-100 text-green-800`;case"Rejected":return`${P} bg-red-100 text-red-800`;case"Returned":return`${P} bg-blue-100 text-blue-800`;default:return`${P} bg-yellow-100 text-yellow-800`}},D=I=>{const P=new Date(I),j=Math.abs(new Date().getTime()-P.getTime());return Math.floor(j/(1e3*60*60*24))};return t?r==="analytics"?g.jsx(F_,{onBack:()=>n("dashboard")}):g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Manage E-Gatepass requests"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("button",{onClick:()=>n("analytics"),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors shadow-md hover:shadow-lg",children:[g.jsx(Xh,{className:"h-4 w-4"}),g.jsx("span",{children:"Analytics"})]}),g.jsxs("button",{onClick:m,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors shadow-md hover:shadow-lg",children:[g.jsx(_g,{className:"h-4 w-4"}),g.jsx("span",{children:"Logout"})]})]})]}),d&&g.jsx("div",{className:`mb-6 p-4 rounded-lg border ${d.includes("Error")?"bg-red-50 text-red-700 border-red-200":"bg-green-50 text-green-700 border-green-200"}`,children:d}),g.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:i?g.jsxs("div",{className:"p-8 text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500",children:"Loading gatepass requests..."})]}):a.length===0?g.jsxs("div",{className:"p-8 text-center",children:[g.jsx(Kh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500 text-lg",children:"No gatepass requests to review"}),g.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"New requests will appear here"})]}):g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Details"}),g.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Information"}),g.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return Time"}),g.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),g.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(I=>{const P=D(I.submitted_at),L=p===I.id;return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"bg-blue-100 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:g.jsx(cc,{className:"h-5 w-5 text-blue-600"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.student_id}),g.jsxs("div",{className:"text-sm text-gray-500",children:[I.section," | ",I.department]})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"text-sm text-gray-900",children:[g.jsxs("div",{className:"font-medium mb-1",children:[new Date(I.leave_datetime).toLocaleDateString()," at"," ",new Date(I.leave_datetime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),g.jsx("div",{className:"text-gray-600 max-w-xs truncate",children:I.description}),g.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center",children:[g.jsx(Ra,{className:"h-3 w-3 mr-1"}),"Submitted: ",new Date(I.submitted_at).toLocaleDateString(),I.status==="Pending"&&P>0&&g.jsxs("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${P>2?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[P,"d pending"]})]})]})}),g.jsx("td",{className:"px-6 py-4",children:L?g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"datetime-local",value:w.approved_return_datetime,onChange:j=>y({...w,approved_return_datetime:j.target.value}),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500"}),g.jsx("textarea",{value:w.admin_notes,onChange:j=>y({...w,admin_notes:j.target.value}),placeholder:"Admin notes...",rows:2,className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500"})]}):g.jsxs("div",{className:"text-sm",children:[I.return_datetime&&g.jsxs("div",{className:"text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"Expected:"}),g.jsx("br",{}),new Date(I.return_datetime).toLocaleString()]}),I.approved_return_datetime&&g.jsxs("div",{className:"text-blue-600 mt-1",children:[g.jsx("span",{className:"font-medium",children:"Approved:"}),g.jsx("br",{}),new Date(I.approved_return_datetime).toLocaleString()]}),I.admin_notes&&g.jsx("div",{className:"text-gray-500 text-xs mt-1 p-2 bg-gray-50 rounded",children:I.admin_notes})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:T(I.status),children:I.status})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:I.status==="Pending"?g.jsx("div",{className:"flex flex-col space-y-2",children:L?g.jsxs("div",{className:"flex flex-col space-y-1",children:[g.jsxs("div",{className:"flex space-x-1",children:[g.jsxs("button",{onClick:()=>C(I.id,"Approved"),className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 transition-colors",children:[g.jsx(Ag,{className:"h-3 w-3 mr-1"}),"Save & Approve"]}),g.jsxs("button",{onClick:()=>C(I.id,"Rejected"),className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors",children:[g.jsx(Kn,{className:"h-3 w-3 mr-1"}),"Reject"]})]}),g.jsx("button",{onClick:A,className:"inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>S(I),className:"inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[g.jsx(Eg,{className:"h-3 w-3 mr-1"}),"Edit"]}),g.jsxs("div",{className:"flex space-x-1",children:[g.jsxs("button",{onClick:()=>C(I.id,"Approved"),className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 transition-colors",children:[g.jsx(Zu,{className:"h-3 w-3 mr-1"}),"Approve"]}),g.jsxs("button",{onClick:()=>C(I.id,"Rejected"),className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors",children:[g.jsx(Kn,{className:"h-3 w-3 mr-1"}),"Reject"]})]})]})}):g.jsx("span",{className:"text-gray-400 text-xs",children:I.status==="Approved"?" Approved":I.status==="Rejected"?" Rejected":" Returned"})})]},I.id)})})]})})})]})}):g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-100",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(Pa,{className:"h-8 w-8 text-blue-600"})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Access the E-Gatepass dashboard"})]}),d&&g.jsx("div",{className:`mb-4 p-4 rounded-lg border ${d.includes("successful")?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:d}),g.jsxs("form",{onSubmit:v,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),g.jsx("input",{type:"email",value:u.email,onChange:I=>l({...u,email:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"admin@gmail.com",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsx("input",{type:"password",value:u.password,onChange:I=>l({...u,password:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",required:!0})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:c?g.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),g.jsx("span",{children:"Signing in..."})]}):"Sign In"})]}),g.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border",children:g.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[g.jsx("strong",{children:"Demo Credentials:"}),g.jsx("br",{}),"Email: admin@gmail.com",g.jsx("br",{}),"Password: admin@123"]})})]})})}function U_(){const[t,e]=z.useState(!1),[r,n]=z.useState(null),[i,o]=z.useState(!1),[a,s]=z.useState(""),u=async f=>{console.log("Guard scan result received:",f),o(!0),s(""),n(null);try{const d=new Date().toISOString().split("T")[0];console.log("Searching for approved leave for student:",f,"on date:",d);const{data:h,error:p}=await pt.from("leave_requests").select("*").eq("student_id",f).eq("status","Approved").gte("leave_datetime",d).lte("leave_datetime",d+"T23:59:59").order("leave_datetime",{ascending:!1}).limit(1);if(p)throw console.error("Supabase error:",p),p;console.log("Query result:",h),h&&h.length>0?(n(h[0]),s(`Valid gatepass found for student ${f}`)):s(`No approved gatepass found for student ${f} today.`)}catch(d){console.error("Error fetching student gatepass:",d),s("Error validating student gatepass. Please try again.")}finally{o(!1)}},l=async()=>{if(r){o(!0),s("");try{console.log("Logging check-out for student:",r.student_id);const{error:f}=await pt.from("check_logs").insert({student_id:r.student_id,leave_id:r.id,action:"Checked Out"});if(f)throw console.error("Check-out error:",f),f;s("Check-out logged successfully."),n(null),setTimeout(()=>s(""),3e3)}catch(f){console.error("Error logging check-out:",f),s("Error logging check-out. Please try again.")}finally{o(!1)}}},c=()=>{n(null),s("")};return g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx(Pa,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),g.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Guard Station"}),g.jsx("p",{className:"text-gray-600",children:"Scan Student ID to Validate Gatepass"})]}),a&&g.jsx("div",{className:`mb-6 p-4 rounded-lg border ${a.includes("Error")||a.includes("No approved")?"bg-red-50 text-red-700 border-red-200":"bg-green-50 text-green-700 border-green-200"}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[a.includes("Error")||a.includes("No approved")?g.jsx(Wh,{className:"h-5 w-5"}):g.jsx(Bn,{className:"h-5 w-5"}),g.jsx("span",{children:a})]})}),!r&&g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[g.jsx(Yu,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("button",{onClick:()=>e(!0),disabled:i,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors inline-flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[g.jsx(Yh,{className:"h-5 w-5"}),g.jsx("span",{children:i?"Validating...":"Scan Student ID"})]}),g.jsx("p",{className:"text-gray-500 text-sm",children:"Position the student's ID barcode in front of the camera"})]})]}),r&&g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx(Bn,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Valid Gatepass Found"})]}),g.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),g.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.student_id})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),g.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.section})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leave Date & Time"}),g.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(r.leave_datetime).toLocaleString()})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),g.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[g.jsx(Bn,{className:"h-4 w-4 mr-1"}),r.status]})]})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("p",{className:"text-gray-900",children:r.description})]})]}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsxs("button",{onClick:l,disabled:i,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center space-x-2 shadow-md hover:shadow-lg",children:[g.jsx(Bn,{className:"h-5 w-5"}),g.jsx("span",{children:i?"Processing...":"Check-Out Student"})]}),g.jsx("button",{onClick:c,className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Scan Another"})]})]}),g.jsx(p1,{isOpen:t,onScanResult:u,onClose:()=>e(!1)})]})})}function $_(){const[t,e]=z.useState("student"),r=()=>{switch(t){case"student":return g.jsx(Rd,{});case"admin":return g.jsx(j_,{});case"guard":return g.jsx(U_,{});default:return g.jsx(Rd,{})}};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx(Ig,{currentPage:t,onPageChange:e}),r()]})}Gh(document.getElementById("root")).render(g.jsx(z.StrictMode,{children:g.jsx($_,{})}));
